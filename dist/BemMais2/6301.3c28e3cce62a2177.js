var td=Object.defineProperty,id=Object.defineProperties,nd=Object.getOwnPropertyDescriptors,ra=Object.getOwnPropertySymbols,sd=Object.prototype.hasOwnProperty,rd=Object.prototype.propertyIsEnumerable,$r=(Xe,de,ce)=>de in Xe?td(Xe,de,{enumerable:!0,configurable:!0,writable:!0,value:ce}):Xe[de]=ce,Vs=(Xe,de)=>{for(var ce in de||(de={}))sd.call(de,ce)&&$r(Xe,ce,de[ce]);if(ra)for(var ce of ra(de))rd.call(de,ce)&&$r(Xe,ce,de[ce]);return Xe},Hs=(Xe,de)=>id(Xe,nd(de)),xr=(Xe,de,ce)=>($r(Xe,"symbol"!=typeof de?de+"":de,ce),ce),Zr=(Xe,de,ce)=>{if(!de.has(Xe))throw TypeError("Cannot "+ce)},Ot=(Xe,de,ce)=>(Zr(Xe,de,"read from private field"),ce?ce.call(Xe):de.get(Xe)),ii=(Xe,de,ce)=>{if(de.has(Xe))throw TypeError("Cannot add the same private member more than once");de instanceof WeakSet?de.add(Xe):de.set(Xe,ce)},vi=(Xe,de,ce,i)=>(Zr(Xe,de,"write to private field"),i?i.call(Xe,ce):de.set(Xe,ce),ce),Pi=(Xe,de,ce)=>(Zr(Xe,de,"access private method"),ce);(self.webpackChunkBemMais2=self.webpackChunkBemMais2||[]).push([[6301],{2841:(Xe,de,ce)=>{"use strict";ce.d(de,{qr:()=>Ee,xc:()=>In});var i=ce(5e3),xe=ce(9808),ie=ce(6779);function M(Se,He){1&Se&&(i.TgZ(0,"span"),i._uU(1,"loading..."),i.qZA())}const f=function(Se){return{$implicit:Se}};function I(Se,He){if(1&Se&&(i.ynx(0),i.TgZ(1,"div"),i.Hsn(2),i.qZA(),i.BQk()),2&Se){const P=i.oxw();i.xp6(1),i.Udp("height",P.getTotalHeight())}}const d=function(){return{dontDetach:!0}},A=["*"],g=["loadingTemplate"],C=["treeNodeTemplate"],E=["treeNodeWrapperTemplate"],l=["treeNodeFullTemplate"],T=["viewport"],_=function(Se,He,P,fe){return{loadingTemplate:Se,treeNodeTemplate:He,treeNodeWrapperTemplate:P,treeNodeFullTemplate:fe}};function H(Se,He){if(1&Se&&i._UZ(0,"tree-node-collection",4),2&Se){const P=i.oxw();i.Q6J("nodes",P.treeModel.roots)("treeModel",P.treeModel)("templates",i.l5B(3,_,P.loadingTemplate,P.treeNodeTemplate,P.treeNodeWrapperTemplate,P.treeNodeFullTemplate))}}function oe(Se,He){if(1&Se&&i._UZ(0,"tree-node-drop-slot",5),2&Se){const P=i.oxw();i.Q6J("dropIndex",0)("node",P.treeModel.virtualRoot)}}function O(Se,He){if(1&Se&&i._UZ(0,"tree-node-drop-slot",6),2&Se){const P=i.oxw(3);i.Q6J("dropIndex",P.node.index)("node",P.node.parent)}}function q(Se,He){if(1&Se&&(i.TgZ(0,"div"),i.YNc(1,O,1,2,"tree-node-drop-slot",3),i._UZ(2,"tree-node-wrapper",4)(3,"tree-node-children",5)(4,"tree-node-drop-slot",6),i.qZA()),2&Se){const P=i.oxw(2);i.Tol(P.node.getClass()),i.ekj("tree-node",!0)("tree-node-expanded",P.node.isExpanded&&P.node.hasChildren)("tree-node-collapsed",P.node.isCollapsed&&P.node.hasChildren)("tree-node-leaf",P.node.isLeaf)("tree-node-active",P.node.isActive)("tree-node-focused",P.node.isFocused),i.xp6(1),i.Q6J("ngIf",0===P.index),i.xp6(1),i.Q6J("node",P.node)("index",P.index)("templates",P.templates),i.xp6(1),i.Q6J("node",P.node)("templates",P.templates),i.xp6(1),i.Q6J("dropIndex",P.node.index+1)("node",P.node.parent)}}const b=function(Se,He,P,fe){return{$implicit:Se,node:He,index:P,templates:fe}};function v(Se,He){if(1&Se&&(i.ynx(0),i.YNc(1,q,5,22,"div",1),i.GkF(2,2),i.BQk()),2&Se){const P=i.oxw();i.xp6(1),i.Q6J("ngIf",!P.templates.treeNodeFullTemplate),i.xp6(1),i.Q6J("ngTemplateOutlet",P.templates.treeNodeFullTemplate)("ngTemplateOutletContext",i.l5B(3,b,P.node,P.node,P.index,P.templates))}}function K(Se,He){if(1&Se&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&Se){const P=i.oxw();i.xp6(1),i.Oqu(P.node.displayField)}}const x=function(Se,He,P){return{$implicit:Se,node:He,index:P}};function B(Se,He){if(1&Se){const P=i.EpF();i.TgZ(0,"span",3),i.NdJ("click",function(ze){return i.CHM(P),i.oxw(2).node.mouseAction("expanderClick",ze)}),i._UZ(1,"span",4),i.qZA()}if(2&Se){const P=i.oxw(2);i.ekj("toggle-children-wrapper-expanded",P.node.isExpanded)("toggle-children-wrapper-collapsed",P.node.isCollapsed)}}function V(Se,He){1&Se&&i._UZ(0,"span",5)}function L(Se,He){if(1&Se&&(i.ynx(0),i.YNc(1,B,2,4,"span",1),i.YNc(2,V,1,0,"span",2),i.BQk()),2&Se){const P=i.oxw();i.xp6(1),i.Q6J("ngIf",P.node.hasChildren),i.xp6(1),i.Q6J("ngIf",!P.node.hasChildren)}}function G(Se,He){if(1&Se&&i._UZ(0,"tree-node-collection",4),2&Se){const P=i.oxw(3);i.Q6J("nodes",P.node.children)("templates",P.templates)("treeModel",P.node.treeModel)}}function ne(Se,He){if(1&Se&&i._UZ(0,"tree-loading-component",5),2&Se){const P=i.oxw(3);i.Udp("padding-left",P.node.getNodePadding()),i.Q6J("template",P.templates.loadingTemplate)("node",P.node)}}function le(Se,He){if(1&Se&&(i.TgZ(0,"div"),i.YNc(1,G,1,3,"tree-node-collection",2),i.YNc(2,ne,1,4,"tree-loading-component",3),i.qZA()),2&Se){const P=i.oxw(2);i.ekj("tree-children",!0)("tree-children-no-padding",P.node.options.levelPadding),i.xp6(1),i.Q6J("ngIf",P.node.children),i.xp6(1),i.Q6J("ngIf",!P.node.children)}}function ue(Se,He){if(1&Se&&(i.ynx(0),i.YNc(1,le,3,6,"div",1),i.BQk()),2&Se){const P=i.oxw();i.xp6(1),i.Q6J("treeAnimateOpen",P.node.isExpanded)("treeAnimateOpenSpeed",P.node.options.animateSpeed)("treeAnimateOpenAcceleration",P.node.options.animateAcceleration)("treeAnimateOpenEnabled",P.node.options.animateExpand)}}function _e(Se,He){if(1&Se&&i._UZ(0,"tree-node",2),2&Se){const P=He.$implicit,fe=He.index,ze=i.oxw(2);i.Q6J("node",P)("index",fe)("templates",ze.templates)}}function he(Se,He){if(1&Se&&(i.ynx(0),i.TgZ(1,"div"),i.YNc(2,_e,1,3,"tree-node",1),i.qZA(),i.BQk()),2&Se){const P=i.oxw();i.xp6(1),i.Udp("margin-top",P.marginTop),i.xp6(1),i.Q6J("ngForOf",P.viewportNodes)("ngForTrackBy",P.trackNode)}}function Ce(Se,He){if(1&Se&&i._UZ(0,"tree-node-checkbox",4),2&Se){const P=i.oxw(2);i.Q6J("node",P.node)}}function ee(Se,He){if(1&Se){const P=i.EpF();i.TgZ(0,"div",2),i.YNc(1,Ce,1,1,"tree-node-checkbox",3),i._UZ(2,"tree-node-expander",4),i.TgZ(3,"div",5),i.NdJ("click",function(ze){return i.CHM(P),i.oxw().node.mouseAction("click",ze)})("dblclick",function(ze){return i.CHM(P),i.oxw().node.mouseAction("dblClick",ze)})("mouseover",function(ze){return i.CHM(P),i.oxw().node.mouseAction("mouseOver",ze)})("mouseout",function(ze){return i.CHM(P),i.oxw().node.mouseAction("mouseOut",ze)})("contextmenu",function(ze){return i.CHM(P),i.oxw().node.mouseAction("contextMenu",ze)})("treeDrop",function(ze){return i.CHM(P),i.oxw().node.onDrop(ze)})("treeDropDragOver",function(ze){return i.CHM(P),i.oxw().node.mouseAction("dragOver",ze)})("treeDropDragLeave",function(ze){return i.CHM(P),i.oxw().node.mouseAction("dragLeave",ze)})("treeDropDragEnter",function(ze){return i.CHM(P),i.oxw().node.mouseAction("dragEnter",ze)}),i._UZ(4,"tree-node-content",6),i.qZA()()}if(2&Se){const P=i.oxw();i.Udp("padding-left",P.node.getNodePadding()),i.xp6(1),i.Q6J("ngIf",P.node.options.useCheckbox),i.xp6(1),i.Q6J("node",P.node),i.xp6(1),i.ekj("node-content-wrapper-active",P.node.isActive)("node-content-wrapper-focused",P.node.isFocused),i.Q6J("treeAllowDrop",P.node.allowDrop)("allowDragoverStyling",P.node.allowDragoverStyling())("treeDrag",P.node)("treeDragEnabled",P.node.allowDrag()),i.xp6(1),i.Q6J("node",P.node)("index",P.index)("template",P.templates.treeNodeTemplate)}}function F(Se,He){if(1&Se){const P=i.EpF();i.ynx(0),i.TgZ(1,"input",1),i.NdJ("click",function(ze){return i.CHM(P),i.oxw().node.mouseAction("checkboxClick",ze)}),i.qZA(),i.BQk()}if(2&Se){const P=i.oxw();i.xp6(1),i.Q6J("checked",P.node.isSelected)("indeterminate",P.node.isPartiallySelected)}}let R=(()=>{class Se{constructor(P,fe){this.templateRef=P,this.viewContainer=fe,this.templateBindings={}}ngOnInit(){this.view=this.viewContainer.createEmbeddedView(this.templateRef),this.dispose&&this.dispose(),this.shouldDetach()&&this.view.detach(),this.autoDetect(this.view)}shouldDetach(){return this.treeMobxAutorun&&this.treeMobxAutorun.detach}autoDetect(P){this.dispose=(0,ie.EH)(()=>P.detectChanges())}ngOnDestroy(){this.dispose&&this.dispose()}}return Se.\u0275fac=function(P){return new(P||Se)(i.Y36(i.Rgc),i.Y36(i.s_b))},Se.\u0275dir=i.lG2({type:Se,selectors:[["","treeMobxAutorun",""]],inputs:{treeMobxAutorun:"treeMobxAutorun"}}),Se})();const ve={TOGGLE_ACTIVE:(Se,He,P)=>He&&He.toggleActivated(),TOGGLE_ACTIVE_MULTI:(Se,He,P)=>He&&He.toggleActivated(!0),TOGGLE_SELECTED:(Se,He,P)=>He&&He.toggleSelected(),ACTIVATE:(Se,He,P)=>He.setIsActive(!0),DEACTIVATE:(Se,He,P)=>He.setIsActive(!1),SELECT:(Se,He,P)=>He.setIsSelected(!0),DESELECT:(Se,He,P)=>He.setIsSelected(!1),FOCUS:(Se,He,P)=>He.focus(),TOGGLE_EXPANDED:(Se,He,P)=>He.hasChildren&&He.toggleExpanded(),EXPAND:(Se,He,P)=>He.expand(),COLLAPSE:(Se,He,P)=>He.collapse(),DRILL_DOWN:(Se,He,P)=>Se.focusDrillDown(),DRILL_UP:(Se,He,P)=>Se.focusDrillUp(),NEXT_NODE:(Se,He,P)=>Se.focusNextNode(),PREVIOUS_NODE:(Se,He,P)=>Se.focusPreviousNode(),MOVE_NODE:(Se,He,P,{from:fe,to:ze})=>{P.ctrlKey?Se.copyNode(fe,ze):Se.moveNode(fe,ze)}},Be={mouse:{click:ve.TOGGLE_ACTIVE,dblClick:null,contextMenu:null,expanderClick:ve.TOGGLE_EXPANDED,checkboxClick:ve.TOGGLE_SELECTED,drop:ve.MOVE_NODE},keys:{39:ve.DRILL_DOWN,37:ve.DRILL_UP,40:ve.NEXT_NODE,38:ve.PREVIOUS_NODE,32:ve.TOGGLE_ACTIVE,13:ve.TOGGLE_ACTIVE}};class Me{constructor(He={}){var P,fe,ze,$e,Pt,Dt,Ut,Hi,Ui,Fi,an,_t,Ni,ln,Ei,cn,Zi,Wi,gn,It,hi,pe,Je,S,k,Ae,De,ct,nt,bt,Nt,kt,pi,li,di,bi,Qt,fi,gi,yn,Zt,Xt,Yt,Bt,wi,zi,ni,xn,Ci,Xi,_n,mn,vn,Sn,Mi,ji,dn,En,Qn,Rn;this.options=He,this.actionMapping={mouse:{click:null!==($e=null===(ze=null===(fe=null===(P=this.options)||void 0===P?void 0:P.actionMapping)||void 0===fe?void 0:fe.mouse)||void 0===ze?void 0:ze.click)&&void 0!==$e?$e:Be.mouse.click,dblClick:null!==(Hi=null===(Ut=null===(Dt=null===(Pt=this.options)||void 0===Pt?void 0:Pt.actionMapping)||void 0===Dt?void 0:Dt.mouse)||void 0===Ut?void 0:Ut.dblClick)&&void 0!==Hi?Hi:Be.mouse.dblClick,contextMenu:null!==(_t=null===(an=null===(Fi=null===(Ui=this.options)||void 0===Ui?void 0:Ui.actionMapping)||void 0===Fi?void 0:Fi.mouse)||void 0===an?void 0:an.contextMenu)&&void 0!==_t?_t:Be.mouse.contextMenu,expanderClick:null!==(cn=null===(Ei=null===(ln=null===(Ni=this.options)||void 0===Ni?void 0:Ni.actionMapping)||void 0===ln?void 0:ln.mouse)||void 0===Ei?void 0:Ei.expanderClick)&&void 0!==cn?cn:Be.mouse.expanderClick,checkboxClick:null!==(It=null===(gn=null===(Wi=null===(Zi=this.options)||void 0===Zi?void 0:Zi.actionMapping)||void 0===Wi?void 0:Wi.mouse)||void 0===gn?void 0:gn.checkboxClick)&&void 0!==It?It:Be.mouse.checkboxClick,drop:null!==(S=null===(Je=null===(pe=null===(hi=this.options)||void 0===hi?void 0:hi.actionMapping)||void 0===pe?void 0:pe.mouse)||void 0===Je?void 0:Je.drop)&&void 0!==S?S:Be.mouse.drop,dragStart:null!==(ct=null===(De=null===(Ae=null===(k=this.options)||void 0===k?void 0:k.actionMapping)||void 0===Ae?void 0:Ae.mouse)||void 0===De?void 0:De.dragStart)&&void 0!==ct?ct:void 0,drag:null!==(kt=null===(Nt=null===(bt=null===(nt=this.options)||void 0===nt?void 0:nt.actionMapping)||void 0===bt?void 0:bt.mouse)||void 0===Nt?void 0:Nt.drag)&&void 0!==kt?kt:void 0,dragEnd:null!==(bi=null===(di=null===(li=null===(pi=this.options)||void 0===pi?void 0:pi.actionMapping)||void 0===li?void 0:li.mouse)||void 0===di?void 0:di.dragEnd)&&void 0!==bi?bi:void 0,dragOver:null!==(yn=null===(gi=null===(fi=null===(Qt=this.options)||void 0===Qt?void 0:Qt.actionMapping)||void 0===fi?void 0:fi.mouse)||void 0===gi?void 0:gi.dragOver)&&void 0!==yn?yn:void 0,dragLeave:null!==(Bt=null===(Yt=null===(Xt=null===(Zt=this.options)||void 0===Zt?void 0:Zt.actionMapping)||void 0===Xt?void 0:Xt.mouse)||void 0===Yt?void 0:Yt.dragLeave)&&void 0!==Bt?Bt:void 0,dragEnter:null!==(xn=null===(ni=null===(zi=null===(wi=this.options)||void 0===wi?void 0:wi.actionMapping)||void 0===zi?void 0:zi.mouse)||void 0===ni?void 0:ni.dragEnter)&&void 0!==xn?xn:void 0,mouseOver:null!==(mn=null===(_n=null===(Xi=null===(Ci=this.options)||void 0===Ci?void 0:Ci.actionMapping)||void 0===Xi?void 0:Xi.mouse)||void 0===_n?void 0:_n.mouseOver)&&void 0!==mn?mn:void 0,mouseOut:null!==(ji=null===(Mi=null===(Sn=null===(vn=this.options)||void 0===vn?void 0:vn.actionMapping)||void 0===Sn?void 0:Sn.mouse)||void 0===Mi?void 0:Mi.mouseOut)&&void 0!==ji?ji:void 0},keys:{39:ve.DRILL_DOWN,37:ve.DRILL_UP,40:ve.NEXT_NODE,38:ve.PREVIOUS_NODE,32:ve.TOGGLE_ACTIVE,13:ve.TOGGLE_ACTIVE}},(null===(En=null===(dn=this.options)||void 0===dn?void 0:dn.actionMapping)||void 0===En?void 0:En.keys)&&(this.actionMapping.keys=Object.assign(Object.assign({},this.actionMapping.keys),this.options.actionMapping.keys)),He.rtl&&(this.actionMapping.keys[39]=(null===(Qn=He.actionMapping)||void 0===Qn?void 0:Qn.keys[39])||ve.DRILL_UP,this.actionMapping.keys[37]=(null===(Rn=He.actionMapping)||void 0===Rn?void 0:Rn.keys[37])||ve.DRILL_DOWN)}get hasChildrenField(){return this.options.hasChildrenField||"hasChildren"}get childrenField(){return this.options.childrenField||"children"}get displayField(){return this.options.displayField||"name"}get idField(){return this.options.idField||"id"}get isExpandedField(){return this.options.isExpandedField||"isExpanded"}get getChildren(){return this.options.getChildren}get levelPadding(){return this.options.levelPadding||0}get useVirtualScroll(){return this.options.useVirtualScroll}get animateExpand(){return this.options.animateExpand}get animateSpeed(){return this.options.animateSpeed||1}get animateAcceleration(){return this.options.animateAcceleration||1.2}get scrollOnActivate(){return void 0===this.options.scrollOnActivate||this.options.scrollOnActivate}get rtl(){return!!this.options.rtl}get rootId(){return this.options.rootId}get useCheckbox(){return this.options.useCheckbox}get useTriState(){return void 0===this.options.useTriState||this.options.useTriState}get scrollContainer(){return this.options.scrollContainer}get allowDragoverStyling(){return void 0===this.options.allowDragoverStyling||this.options.allowDragoverStyling}getNodeClone(He){if(this.options.getNodeClone)return this.options.getNodeClone(He);const P=Object.assign({},He.data);return P.id&&delete P.id,P}allowDrop(He,P,fe){return this.options.allowDrop instanceof Function?this.options.allowDrop(He,P,fe):void 0===this.options.allowDrop||this.options.allowDrop}allowDrag(He){return this.options.allowDrag instanceof Function?this.options.allowDrag(He):this.options.allowDrag}nodeClass(He){return this.options.nodeClass?this.options.nodeClass(He):""}nodeHeight(He){if(He.data.virtual)return 0;let P=this.options.nodeHeight||22;return"function"==typeof P&&(P=P(He)),P+(0===He.index?2:1)*this.dropSlotHeight}get dropSlotHeight(){return"number"==typeof this.options.dropSlotHeight?this.options.dropSlotHeight:2}}const Re={toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",nodeActivate:"nodeActivate",nodeDeactivate:"nodeDeactivate",select:"select",deselect:"deselect",focus:"focus",blur:"blur",initialized:"initialized",updateData:"updateData",moveNode:"moveNode",copyNode:"copyNode",event:"event",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",stateChange:"stateChange"};var qe=function(Se,He,P,fe){var Pt,ze=arguments.length,$e=ze<3?He:null===fe?fe=Object.getOwnPropertyDescriptor(He,P):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$e=Reflect.decorate(Se,He,P,fe);else for(var Dt=Se.length-1;Dt>=0;Dt--)(Pt=Se[Dt])&&($e=(ze<3?Pt($e):ze>3?Pt(He,P,$e):Pt(He,P))||$e);return ze>3&&$e&&Object.defineProperty(He,P,$e),$e},et=function(Se,He){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Se,He)};let at=(()=>{class Se{constructor(P,fe,ze,$e){this.data=P,this.parent=fe,this.treeModel=ze,this.position=0,this.allowDrop=(Pt,Dt)=>this.options.allowDrop(Pt,{parent:this,index:0},Dt),this.allowDragoverStyling=()=>this.options.allowDragoverStyling,null==this.id&&(this.id=function At(){return Math.floor(1e13*Math.random())}()),this.index=$e,this.getField("children")&&this._initChildren(),this.autoLoadChildren()}get isHidden(){return this.treeModel.isHidden(this)}get isExpanded(){return this.treeModel.isExpanded(this)}get isActive(){return this.treeModel.isActive(this)}get isFocused(){return this.treeModel.isNodeFocused(this)}get isSelected(){return this.isSelectable()?this.treeModel.isSelected(this):this.children.some(P=>P.isSelected)}get isAllSelected(){return this.isSelectable()?this.treeModel.isSelected(this):this.children.every(P=>P.isAllSelected)}get isPartiallySelected(){return this.isSelected&&!this.isAllSelected}get level(){return this.parent?this.parent.level+1:0}get path(){return this.parent?[...this.parent.path,this.id]:[]}get elementRef(){throw"Element Ref is no longer supported since introducing virtual scroll\n\n      You may use a template to obtain a reference to the element"}get originalNode(){return this._originalNode}get hasChildren(){return!!(this.getField("hasChildren")||this.children&&this.children.length>0)}get isCollapsed(){return!this.isExpanded}get isLeaf(){return!this.hasChildren}get isRoot(){return this.parent.data.virtual}get realParent(){return this.isRoot?null:this.parent}get options(){return this.treeModel.options}fireEvent(P){this.treeModel.fireEvent(P)}get displayField(){return this.getField("display")}get id(){return this.getField("id")}set id(P){this.setField("id",P)}getField(P){return this.data[this.options[`${P}Field`]]}setField(P,fe){this.data[this.options[`${P}Field`]]=fe}_findAdjacentSibling(P,fe=!1){const ze=this._getParentsChildren(fe),$e=ze.indexOf(this);return ze.length>$e+P?ze[$e+P]:null}findNextSibling(P=!1){return this._findAdjacentSibling(1,P)}findPreviousSibling(P=!1){return this._findAdjacentSibling(-1,P)}getVisibleChildren(){return this.visibleChildren}get visibleChildren(){return(this.children||[]).filter(P=>!P.isHidden)}getFirstChild(P=!1){let fe=P?this.visibleChildren:this.children;return null!=fe&&fe.length?fe[0]:null}getLastChild(P=!1){let fe=P?this.visibleChildren:this.children;return null!=fe&&fe.length?fe[fe.length-1]:null}findNextNode(P=!0,fe=!1){return P&&this.isExpanded&&this.getFirstChild(fe)||this.findNextSibling(fe)||this.parent&&this.parent.findNextNode(!1,fe)}findPreviousNode(P=!1){let fe=this.findPreviousSibling(P);return fe?fe._getLastOpenDescendant(P):this.realParent}_getLastOpenDescendant(P=!1){const fe=this.getLastChild(P);return this.isCollapsed||!fe?this:fe._getLastOpenDescendant(P)}_getParentsChildren(P=!1){return this.parent&&(P?this.parent.getVisibleChildren():this.parent.children)||[]}getIndexInParent(P=!1){return this._getParentsChildren(P).indexOf(this)}isDescendantOf(P){return this===P||this.parent&&this.parent.isDescendantOf(P)}getNodePadding(){return this.options.levelPadding*(this.level-1)+"px"}getClass(){return[this.options.nodeClass(this),`tree-node-level-${this.level}`].join(" ")}onDrop(P){this.mouseAction("drop",P.event,{from:P.element,to:{parent:this,index:0,dropOnNode:!0}})}allowDrag(){return this.options.allowDrag(this)}loadNodeChildren(){return this.options.getChildren?Promise.resolve(this.options.getChildren(this)).then(P=>{P&&(this.setField("children",P),this._initChildren(),this.options.useTriState&&this.treeModel.isSelected(this)&&this.setIsSelected(!0),this.children.forEach(fe=>{fe.getField("isExpanded")&&fe.hasChildren&&fe.expand()}))}).then(()=>{this.fireEvent({eventName:Re.loadNodeChildren,node:this})}):Promise.resolve()}expand(){return this.isExpanded||this.toggleExpanded(),this}collapse(){return this.isExpanded&&this.toggleExpanded(),this}doForAll(P){Promise.resolve(P(this)).then(()=>{this.children&&this.children.forEach(fe=>fe.doForAll(P))})}expandAll(){this.doForAll(P=>P.expand())}collapseAll(){this.doForAll(P=>P.collapse())}ensureVisible(){return this.realParent&&(this.realParent.expand(),this.realParent.ensureVisible()),this}toggleExpanded(){return this.setIsExpanded(!this.isExpanded),this}setIsExpanded(P){return this.hasChildren&&this.treeModel.setExpandedNode(this,P),this}autoLoadChildren(){this.handler=(0,ie.U5)(()=>this.isExpanded,P=>{!this.children&&this.hasChildren&&P&&this.loadNodeChildren()},{fireImmediately:!0})}dispose(){this.children&&this.children.forEach(P=>P.dispose()),this.handler&&this.handler(),this.parent=null,this.children=null}setIsActive(P,fe=!1){return this.treeModel.setActiveNode(this,P,fe),P&&this.focus(this.options.scrollOnActivate),this}isSelectable(){return this.isLeaf||!this.children||!this.options.useTriState}setIsSelected(P){return this.isSelectable()?this.treeModel.setSelectedNode(this,P):this.visibleChildren.forEach(fe=>fe.setIsSelected(P)),this}toggleSelected(){return this.setIsSelected(!this.isSelected),this}toggleActivated(P=!1){return this.setIsActive(!this.isActive,P),this}setActiveAndVisible(P=!1){return this.setIsActive(!0,P).ensureVisible(),setTimeout(this.scrollIntoView.bind(this)),this}scrollIntoView(P=!1){this.treeModel.virtualScroll.scrollIntoView(this,P)}focus(P=!0){let fe=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(this),P&&this.scrollIntoView(),fe&&this.fireEvent({eventName:Re.blur,node:fe}),this.fireEvent({eventName:Re.focus,node:this}),this}blur(){let P=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(null),P&&this.fireEvent({eventName:Re.blur,node:this}),this}setIsHidden(P){this.treeModel.setIsHidden(this,P)}hide(){this.setIsHidden(!0)}show(){this.setIsHidden(!1)}mouseAction(P,fe,ze=null){this.treeModel.setFocus(!0);const Pt=this.options.actionMapping.mouse[P];Pt&&Pt(this.treeModel,this,fe,ze)}getSelfHeight(){return this.options.nodeHeight(this)}_initChildren(){this.children=this.getField("children").map((P,fe)=>new Se(P,this,this.treeModel,fe))}}return qe([ie.Fl,et("design:type",Object),et("design:paramtypes",[])],Se.prototype,"isHidden",null),qe([ie.Fl,et("design:type",Object),et("design:paramtypes",[])],Se.prototype,"isExpanded",null),qe([ie.Fl,et("design:type",Object),et("design:paramtypes",[])],Se.prototype,"isActive",null),qe([ie.Fl,et("design:type",Object),et("design:paramtypes",[])],Se.prototype,"isFocused",null),qe([ie.Fl,et("design:type",Object),et("design:paramtypes",[])],Se.prototype,"isSelected",null),qe([ie.Fl,et("design:type",Object),et("design:paramtypes",[])],Se.prototype,"isAllSelected",null),qe([ie.Fl,et("design:type",Object),et("design:paramtypes",[])],Se.prototype,"isPartiallySelected",null),qe([ie.LO,et("design:type",Array)],Se.prototype,"children",void 0),qe([ie.LO,et("design:type",Number)],Se.prototype,"index",void 0),qe([ie.LO,et("design:type",Object)],Se.prototype,"position",void 0),qe([ie.LO,et("design:type",Number)],Se.prototype,"height",void 0),qe([ie.Fl,et("design:type",Number),et("design:paramtypes",[])],Se.prototype,"level",null),qe([ie.Fl,et("design:type",Array),et("design:paramtypes",[])],Se.prototype,"path",null),qe([ie.Fl,et("design:type",Object),et("design:paramtypes",[])],Se.prototype,"visibleChildren",null),qe([ie.aD,et("design:type",Function),et("design:paramtypes",[Object]),et("design:returntype",void 0)],Se.prototype,"setIsSelected",null),qe([ie.aD,et("design:type",Function),et("design:paramtypes",[]),et("design:returntype",void 0)],Se.prototype,"_initChildren",null),Se})();var gt=function(Se,He,P,fe){var Pt,ze=arguments.length,$e=ze<3?He:null===fe?fe=Object.getOwnPropertyDescriptor(He,P):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$e=Reflect.decorate(Se,He,P,fe);else for(var Dt=Se.length-1;Dt>=0;Dt--)(Pt=Se[Dt])&&($e=(ze<3?Pt($e):ze>3?Pt(He,P,$e):Pt(He,P))||$e);return ze>3&&$e&&Object.defineProperty(He,P,$e),$e},Ze=function(Se,He){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Se,He)};let ft=(()=>{class Se{constructor(){this.options=new Me,this.eventNames=Object.keys(Re),this.expandedNodeIds={},this.selectedLeafNodeIds={},this.activeNodeIds={},this.hiddenNodeIds={},this.focusedNodeId=null,this.firstUpdate=!0,this.subscriptions=[]}fireEvent(P){P.treeModel=this,this.events[P.eventName].emit(P),this.events.event.emit(P)}subscribe(P,fe){const ze=this.events[P].subscribe(fe);this.subscriptions.push(ze)}getFocusedNode(){return this.focusedNode}getActiveNode(){return this.activeNodes[0]}getActiveNodes(){return this.activeNodes}getVisibleRoots(){return this.virtualRoot.visibleChildren}getFirstRoot(P=!1){const fe=P?this.getVisibleRoots():this.roots;return null!=fe&&fe.length?fe[0]:null}getLastRoot(P=!1){const fe=P?this.getVisibleRoots():this.roots;return null!=fe&&fe.length?fe[fe.length-1]:null}get isFocused(){return Se.focusedTree===this}isNodeFocused(P){return this.focusedNode===P}isEmptyTree(){return this.roots&&0===this.roots.length}get focusedNode(){return this.focusedNodeId?this.getNodeById(this.focusedNodeId):null}get expandedNodes(){return Object.keys(this.expandedNodeIds).filter(fe=>this.expandedNodeIds[fe]).map(fe=>this.getNodeById(fe)).filter(Boolean)}get activeNodes(){return Object.keys(this.activeNodeIds).filter(fe=>this.activeNodeIds[fe]).map(fe=>this.getNodeById(fe)).filter(Boolean)}get hiddenNodes(){return Object.keys(this.hiddenNodeIds).filter(fe=>this.hiddenNodeIds[fe]).map(fe=>this.getNodeById(fe)).filter(Boolean)}get selectedLeafNodes(){return Object.keys(this.selectedLeafNodeIds).filter(fe=>this.selectedLeafNodeIds[fe]).map(fe=>this.getNodeById(fe)).filter(Boolean)}getNodeByPath(P,fe=null){if(!P)return null;if(fe=fe||this.virtualRoot,0===P.length)return fe;if(!fe.children)return null;const ze=P.shift(),$e=fe.children.find(Pt=>Pt.id===ze);return $e?this.getNodeByPath(P,$e):null}getNodeById(P){const fe=P.toString();return this.getNodeBy(ze=>ze.id.toString()===fe)}getNodeBy(P,fe=null){if(!(fe=fe||this.virtualRoot).children)return null;const ze=fe.children.find(P);if(ze)return ze;for(let $e of fe.children){const Pt=this.getNodeBy(P,$e);if(Pt)return Pt}}isExpanded(P){return this.expandedNodeIds[P.id]}isHidden(P){return this.hiddenNodeIds[P.id]}isActive(P){return this.activeNodeIds[P.id]}isSelected(P){return this.selectedLeafNodeIds[P.id]}ngOnDestroy(){this.dispose(),this.unsubscribeAll()}dispose(){this.virtualRoot&&this.virtualRoot.dispose()}unsubscribeAll(){this.subscriptions.forEach(P=>P.unsubscribe()),this.subscriptions=[]}setData({nodes:P,options:fe=null,events:ze=null}){fe&&(this.options=new Me(fe)),ze&&(this.events=ze),P&&(this.nodes=P),this.update()}update(){let P={id:this.options.rootId,virtual:!0,[this.options.childrenField]:this.nodes};this.dispose(),this.virtualRoot=new at(P,null,this,0),this.roots=this.virtualRoot.children,this.firstUpdate?this.roots&&(this.firstUpdate=!1,this._calculateExpandedNodes()):this.fireEvent({eventName:Re.updateData})}setFocusedNode(P){this.focusedNodeId=P?P.id:null}setFocus(P){Se.focusedTree=P?this:null}doForAll(P){this.roots.forEach(fe=>fe.doForAll(P))}focusNextNode(){let P=this.getFocusedNode(),fe=P?P.findNextNode(!0,!0):this.getFirstRoot(!0);fe&&fe.focus()}focusPreviousNode(){let P=this.getFocusedNode(),fe=P?P.findPreviousNode(!0):this.getLastRoot(!0);fe&&fe.focus()}focusDrillDown(){let P=this.getFocusedNode();if(P&&P.isCollapsed&&P.hasChildren)P.toggleExpanded();else{let fe=P?P.getFirstChild(!0):this.getFirstRoot(!0);fe&&fe.focus()}}focusDrillUp(){let P=this.getFocusedNode();if(P)if(P.isExpanded)P.toggleExpanded();else{let fe=P.realParent;fe&&fe.focus()}}setActiveNode(P,fe,ze=!1){ze?this._setActiveNodeMulti(P,fe):this._setActiveNodeSingle(P,fe),fe?(P.focus(this.options.scrollOnActivate),this.fireEvent({eventName:Re.activate,node:P}),this.fireEvent({eventName:Re.nodeActivate,node:P})):(this.fireEvent({eventName:Re.deactivate,node:P}),this.fireEvent({eventName:Re.nodeDeactivate,node:P}))}setSelectedNode(P,fe){this.selectedLeafNodeIds=Object.assign({},this.selectedLeafNodeIds,{[P.id]:fe}),fe?(P.focus(),this.fireEvent({eventName:Re.select,node:P})):this.fireEvent({eventName:Re.deselect,node:P})}setExpandedNode(P,fe){this.expandedNodeIds=Object.assign({},this.expandedNodeIds,{[P.id]:fe}),this.fireEvent({eventName:Re.toggleExpanded,node:P,isExpanded:fe})}expandAll(){this.roots.forEach(P=>P.expandAll())}collapseAll(){this.roots.forEach(P=>P.collapseAll())}setIsHidden(P,fe){this.hiddenNodeIds=Object.assign({},this.hiddenNodeIds,{[P.id]:fe})}setHiddenNodeIds(P){this.hiddenNodeIds=P.reduce((fe,ze)=>Object.assign(fe,{[ze]:!0}),{})}performKeyAction(P,fe){const ze=this.options.actionMapping.keys[fe.keyCode];return!!ze&&(fe.preventDefault(),ze(this,P,fe),!0)}filterNodes(P,fe=!0){let ze;if(!P)return this.clearFilter();if(P&&"string"==typeof P.valueOf())ze=Pt=>-1!==Pt.displayField.toLowerCase().indexOf(P.toLowerCase());else{if(!P||"function"!=typeof P)return console.error("Don't know what to do with filter",P),void console.error("Should be either a string or function");ze=P}const $e={};this.roots.forEach(Pt=>this._filterNode($e,Pt,ze,fe)),this.hiddenNodeIds=$e,this.fireEvent({eventName:Re.changeFilter})}clearFilter(){this.hiddenNodeIds={},this.fireEvent({eventName:Re.changeFilter})}moveNode(P,fe){const ze=P.getIndexInParent(),$e=P.parent;if(!this.canMoveNode(P,fe,ze))return;const Pt=$e.getField("children");fe.parent.getField("children")||fe.parent.setField("children",[]);const Dt=fe.parent.getField("children"),Ut=Pt.splice(ze,1)[0];let Hi=$e===fe.parent&&fe.index>ze?fe.index-1:fe.index;Dt.splice(Hi,0,Ut),$e.treeModel.update(),fe.parent.treeModel!==$e.treeModel&&fe.parent.treeModel.update(),this.fireEvent({eventName:Re.moveNode,node:Ut,to:{parent:fe.parent.data,index:Hi},from:{parent:$e.data,index:ze}})}copyNode(P,fe){const ze=P.getIndexInParent();if(!this.canMoveNode(P,fe,ze))return;fe.parent.getField("children")||fe.parent.setField("children",[]);const $e=fe.parent.getField("children"),Pt=this.options.getNodeClone(P);$e.splice(fe.index,0,Pt),P.treeModel.update(),fe.parent.treeModel!==P.treeModel&&fe.parent.treeModel.update(),this.fireEvent({eventName:Re.copyNode,node:Pt,to:{parent:fe.parent.data,index:fe.index}})}getState(){return{expandedNodeIds:this.expandedNodeIds,selectedLeafNodeIds:this.selectedLeafNodeIds,activeNodeIds:this.activeNodeIds,hiddenNodeIds:this.hiddenNodeIds,focusedNodeId:this.focusedNodeId}}setState(P){!P||Object.assign(this,{expandedNodeIds:P.expandedNodeIds||{},selectedLeafNodeIds:P.selectedLeafNodeIds||{},activeNodeIds:P.activeNodeIds||{},hiddenNodeIds:P.hiddenNodeIds||{},focusedNodeId:P.focusedNodeId})}subscribeToState(P){(0,ie.EH)(()=>P(this.getState()))}canMoveNode(P,fe,ze){return ze||P.getIndexInParent(),(P.parent!==fe.parent||ze!==fe.index)&&!fe.parent.isDescendantOf(P)}calculateExpandedNodes(){this._calculateExpandedNodes()}_filterNode(P,fe,ze,$e){let Pt=ze(fe);return fe.children&&fe.children.forEach(Dt=>{this._filterNode(P,Dt,ze,$e)&&(Pt=!0)}),Pt||(P[fe.id]=!0),$e&&Pt&&fe.ensureVisible(),Pt}_calculateExpandedNodes(P=null){(P=P||this.virtualRoot).data[this.options.isExpandedField]&&(this.expandedNodeIds=Object.assign({},this.expandedNodeIds,{[P.id]:!0})),P.children&&P.children.forEach(fe=>this._calculateExpandedNodes(fe))}_setActiveNodeSingle(P,fe){this.activeNodes.filter(ze=>ze!==P).forEach(ze=>{this.fireEvent({eventName:Re.deactivate,node:ze}),this.fireEvent({eventName:Re.nodeDeactivate,node:ze})}),this.activeNodeIds=fe?{[P.id]:!0}:{}}_setActiveNodeMulti(P,fe){this.activeNodeIds=Object.assign({},this.activeNodeIds,{[P.id]:fe})}}return Se.\u0275fac=function(P){return new(P||Se)},Se.\u0275prov=i.Yz7({token:Se,factory:Se.\u0275fac}),Se.focusedTree=null,Se})();gt([ie.LO,Ze("design:type",Array)],ft.prototype,"roots",void 0),gt([ie.LO,Ze("design:type",Object)],ft.prototype,"expandedNodeIds",void 0),gt([ie.LO,Ze("design:type",Object)],ft.prototype,"selectedLeafNodeIds",void 0),gt([ie.LO,Ze("design:type",Object)],ft.prototype,"activeNodeIds",void 0),gt([ie.LO,Ze("design:type",Object)],ft.prototype,"hiddenNodeIds",void 0),gt([ie.LO,Ze("design:type",Object)],ft.prototype,"focusedNodeId",void 0),gt([ie.LO,Ze("design:type",at)],ft.prototype,"virtualRoot",void 0),gt([ie.Fl,Ze("design:type",Object),Ze("design:paramtypes",[])],ft.prototype,"focusedNode",null),gt([ie.Fl,Ze("design:type",Object),Ze("design:paramtypes",[])],ft.prototype,"expandedNodes",null),gt([ie.Fl,Ze("design:type",Object),Ze("design:paramtypes",[])],ft.prototype,"activeNodes",null),gt([ie.Fl,Ze("design:type",Object),Ze("design:paramtypes",[])],ft.prototype,"hiddenNodes",null),gt([ie.Fl,Ze("design:type",Object),Ze("design:paramtypes",[])],ft.prototype,"selectedLeafNodes",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[Object]),Ze("design:returntype",void 0)],ft.prototype,"setData",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[]),Ze("design:returntype",void 0)],ft.prototype,"update",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[Object]),Ze("design:returntype",void 0)],ft.prototype,"setFocusedNode",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[Object]),Ze("design:returntype",void 0)],ft.prototype,"setFocus",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[Object]),Ze("design:returntype",void 0)],ft.prototype,"doForAll",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[]),Ze("design:returntype",void 0)],ft.prototype,"focusNextNode",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[]),Ze("design:returntype",void 0)],ft.prototype,"focusPreviousNode",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[]),Ze("design:returntype",void 0)],ft.prototype,"focusDrillDown",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[]),Ze("design:returntype",void 0)],ft.prototype,"focusDrillUp",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[Object,Object,Object]),Ze("design:returntype",void 0)],ft.prototype,"setActiveNode",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[Object,Object]),Ze("design:returntype",void 0)],ft.prototype,"setSelectedNode",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[Object,Object]),Ze("design:returntype",void 0)],ft.prototype,"setExpandedNode",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[]),Ze("design:returntype",void 0)],ft.prototype,"expandAll",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[]),Ze("design:returntype",void 0)],ft.prototype,"collapseAll",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[Object,Object]),Ze("design:returntype",void 0)],ft.prototype,"setIsHidden",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[Object]),Ze("design:returntype",void 0)],ft.prototype,"setHiddenNodeIds",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[Object,Object]),Ze("design:returntype",void 0)],ft.prototype,"filterNodes",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[]),Ze("design:returntype",void 0)],ft.prototype,"clearFilter",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[Object,Object]),Ze("design:returntype",void 0)],ft.prototype,"moveNode",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[Object,Object]),Ze("design:returntype",void 0)],ft.prototype,"copyNode",null),gt([ie.aD,Ze("design:type",Function),Ze("design:paramtypes",[Object]),Ze("design:returntype",void 0)],ft.prototype,"setState",null);let Vt=(()=>{class Se{constructor(){this._draggedElement=null}set(P){this._draggedElement=P}get(){return this._draggedElement}isDragging(){return!!this.get()}}return Se.\u0275fac=function(P){return new(P||Se)},Se.\u0275prov=(0,i.Yz7)({factory:function(){return new Se},token:Se,providedIn:"root"}),Se})();var St=function(Se,He,P,fe){var Pt,ze=arguments.length,$e=ze<3?He:null===fe?fe=Object.getOwnPropertyDescriptor(He,P):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$e=Reflect.decorate(Se,He,P,fe);else for(var Dt=Se.length-1;Dt>=0;Dt--)(Pt=Se[Dt])&&($e=(ze<3?Pt($e):ze>3?Pt(He,P,$e):Pt(He,P))||$e);return ze>3&&$e&&Object.defineProperty(He,P,$e),$e},wt=function(Se,He){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Se,He)};let Ge=(()=>{class Se{constructor(P){this.treeModel=P,this.yBlocks=0,this.x=0,this.viewportHeight=null,this.viewport=null,P.virtualScroll=this,this._dispose=[(0,ie.EH)(()=>this.fixScroll())]}get y(){return 150*this.yBlocks}get totalHeight(){return this.treeModel.virtualRoot?this.treeModel.virtualRoot.height:0}fireEvent(P){this.treeModel.fireEvent(P)}init(){const P=this.recalcPositions.bind(this);P(),this._dispose=[...this._dispose,(0,ie.U5)(()=>this.treeModel.roots,P),(0,ie.U5)(()=>this.treeModel.expandedNodeIds,P),(0,ie.U5)(()=>this.treeModel.hiddenNodeIds,P)],this.treeModel.subscribe(Re.loadNodeChildren,P)}isEnabled(){return this.treeModel.options.useVirtualScroll}_setYBlocks(P){this.yBlocks=P}recalcPositions(){this.treeModel.virtualRoot.height=this._getPositionAfter(this.treeModel.getVisibleRoots(),0)}_getPositionAfter(P,fe){let ze=fe;return P.forEach($e=>{$e.position=ze,ze=this._getPositionAfterNode($e,ze)}),ze}_getPositionAfterNode(P,fe){let ze=P.getSelfHeight()+fe;return P.children&&P.isExpanded&&(ze=this._getPositionAfter(P.visibleChildren,ze)),P.height=ze-fe,ze}clear(){this._dispose.forEach(P=>P())}setViewport(P){Object.assign(this,{viewport:P,x:P.scrollLeft,yBlocks:Math.round(P.scrollTop/150),viewportHeight:P.getBoundingClientRect?P.getBoundingClientRect().height:0})}scrollIntoView(P,fe,ze=!0){if(P.options.scrollContainer){const $e=P.options.scrollContainer,Pt=$e.getBoundingClientRect().height,Dt=$e.getBoundingClientRect().top,Ut=this.viewport.getBoundingClientRect().top+P.position-Dt;(fe||Ut<$e.scrollTop||Ut+P.getSelfHeight()>$e.scrollTop+Pt)&&($e.scrollTop=ze?Ut-Pt/2:Ut)}else(fe||P.position<this.y||P.position+P.getSelfHeight()>this.y+this.viewportHeight)&&this.viewport&&(this.viewport.scrollTop=ze?P.position-this.viewportHeight/2:P.position,this._setYBlocks(Math.floor(this.viewport.scrollTop/150)))}getViewportNodes(P){if(!P)return[];const fe=P.filter(Ut=>!Ut.isHidden);if(!this.isEnabled())return fe;if(!this.viewportHeight||!fe.length)return[];const ze=fe.slice(-1)[0];if(!ze.height&&0===ze.position)return[];const $e=$(fe,Ut=>Ut.position+500>this.y||Ut.position+Ut.height>this.y),Pt=$(fe,Ut=>Ut.position-500>this.y+this.viewportHeight,$e),Dt=[];for(let Ut=$e;Ut<=Pt;Ut++)Dt.push(fe[Ut]);return Dt}fixScroll(){const P=Math.max(0,this.totalHeight-this.viewportHeight);this.y<0&&this._setYBlocks(0),this.y>P&&this._setYBlocks(P/150)}}return Se.\u0275fac=function(P){return new(P||Se)(i.LFG(ft))},Se.\u0275prov=i.Yz7({token:Se,factory:Se.\u0275fac}),Se})();function $(Se,He,P=0){let fe=P,ze=Se.length-1;for(;fe!==ze;){let $e=Math.floor((fe+ze)/2);He(Se[$e])?ze=$e:fe=fe===$e?ze:$e}return fe}St([ie.LO,wt("design:type",Object)],Ge.prototype,"yBlocks",void 0),St([ie.LO,wt("design:type",Object)],Ge.prototype,"x",void 0),St([ie.LO,wt("design:type",Object)],Ge.prototype,"viewportHeight",void 0),St([ie.Fl,wt("design:type",Object),wt("design:paramtypes",[])],Ge.prototype,"y",null),St([ie.Fl,wt("design:type",Object),wt("design:paramtypes",[])],Ge.prototype,"totalHeight",null),St([ie.aD,wt("design:type",Function),wt("design:paramtypes",[Object]),wt("design:returntype",void 0)],Ge.prototype,"_setYBlocks",null),St([ie.aD,wt("design:type",Function),wt("design:paramtypes",[]),wt("design:returntype",void 0)],Ge.prototype,"recalcPositions",null),St([ie.aD,wt("design:type",Function),wt("design:paramtypes",[Object]),wt("design:returntype",void 0)],Ge.prototype,"setViewport",null),St([ie.aD,wt("design:type",Function),wt("design:paramtypes",[Object,Object,Object]),wt("design:returntype",void 0)],Ge.prototype,"scrollIntoView",null);let X=(()=>{class Se{}return Se.\u0275fac=function(P){return new(P||Se)},Se.\u0275cmp=i.Xpm({type:Se,selectors:[["tree-loading-component"]],inputs:{template:"template",node:"node"},decls:2,vars:5,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(P,fe){1&P&&(i.YNc(0,M,2,0,"span",0),i.GkF(1,1)),2&P&&(i.Q6J("ngIf",!fe.template),i.xp6(1),i.Q6J("ngTemplateOutlet",fe.template)("ngTemplateOutletContext",i.VKq(3,f,fe.node)))},directives:[xe.O5,xe.tP],encapsulation:2}),Se})(),be=(()=>{class Se{constructor(P,fe){this.elementRef=P,this.virtualScroll=fe,this.setViewport=this.throttle(()=>{this.virtualScroll.setViewport(this.elementRef.nativeElement)},17),this.scrollEventHandler=this.setViewport.bind(this)}ngOnInit(){this.virtualScroll.init()}ngAfterViewInit(){setTimeout(()=>{this.setViewport(),this.virtualScroll.fireEvent({eventName:Re.initialized})}),this.elementRef.nativeElement.addEventListener("scroll",this.scrollEventHandler)}ngOnDestroy(){this.virtualScroll.clear(),this.elementRef.nativeElement.removeEventListener("scroll",this.scrollEventHandler)}getTotalHeight(){return this.virtualScroll.isEnabled()&&this.virtualScroll.totalHeight+"px"||"auto"}throttle(P,fe){let ze=0;return function(){let $e=Date.now();$e-ze>=fe&&(P(),ze=$e)}}}return Se.\u0275fac=function(P){return new(P||Se)(i.Y36(i.SBq),i.Y36(Ge))},Se.\u0275cmp=i.Xpm({type:Se,selectors:[["tree-viewport"]],features:[i._Bn([Ge])],ngContentSelectors:A,decls:1,vars:2,consts:[[4,"treeMobxAutorun"]],template:function(P,fe){1&P&&(i.F$t(),i.YNc(0,I,3,2,"ng-container",0)),2&P&&i.Q6J("treeMobxAutorun",i.DdM(1,d))},directives:[R],encapsulation:2}),Se})(),Ee=(()=>{class Se{constructor(P,fe){this.treeModel=P,this.treeDraggedElement=fe,P.eventNames.forEach(ze=>this[ze]=new i.vpe),P.subscribeToState(ze=>this.stateChange.emit(ze))}set nodes(P){}set options(P){}set focused(P){this.treeModel.setFocus(P)}set state(P){this.treeModel.setState(P)}onKeydown(P){if(!this.treeModel.isFocused||["input","textarea"].includes(document.activeElement.tagName.toLowerCase()))return;const fe=this.treeModel.getFocusedNode();this.treeModel.performKeyAction(fe,P)}onMousedown(P){(function fe(ze,$e){return!ze||ze.localName!==$e&&fe(ze.parentElement,$e)})(P.target,"tree-root")&&this.treeModel.setFocus(!1)}ngOnChanges(P){(P.options||P.nodes)&&this.treeModel.setData({options:P.options&&P.options.currentValue,nodes:P.nodes&&P.nodes.currentValue,events:this.pick(this,this.treeModel.eventNames)})}sizeChanged(){this.viewportComponent.setViewport()}pick(P,fe){return fe.reduce((ze,$e)=>(P&&P.hasOwnProperty($e)&&(ze[$e]=P[$e]),ze),{})}}return Se.\u0275fac=function(P){return new(P||Se)(i.Y36(ft),i.Y36(Vt))},Se.\u0275cmp=i.Xpm({type:Se,selectors:[["Tree"],["tree-root"]],contentQueries:function(P,fe,ze){if(1&P&&(i.Suo(ze,g,5),i.Suo(ze,C,5),i.Suo(ze,E,5),i.Suo(ze,l,5)),2&P){let $e;i.iGM($e=i.CRH())&&(fe.loadingTemplate=$e.first),i.iGM($e=i.CRH())&&(fe.treeNodeTemplate=$e.first),i.iGM($e=i.CRH())&&(fe.treeNodeWrapperTemplate=$e.first),i.iGM($e=i.CRH())&&(fe.treeNodeFullTemplate=$e.first)}},viewQuery:function(P,fe){if(1&P&&i.Gf(T,5),2&P){let ze;i.iGM(ze=i.CRH())&&(fe.viewportComponent=ze.first)}},hostBindings:function(P,fe){1&P&&i.NdJ("keydown",function($e){return fe.onKeydown($e)},!1,i.pYS)("mousedown",function($e){return fe.onMousedown($e)},!1,i.pYS)},inputs:{nodes:"nodes",options:"options",focused:"focused",state:"state"},outputs:{toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",nodeActivate:"nodeActivate",nodeDeactivate:"nodeDeactivate",select:"select",deselect:"deselect",focus:"focus",blur:"blur",updateData:"updateData",initialized:"initialized",moveNode:"moveNode",copyNode:"copyNode",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",event:"event",stateChange:"stateChange"},features:[i._Bn([ft]),i.TTD],decls:5,vars:6,consts:[["viewport",""],[1,"angular-tree-component"],[3,"nodes","treeModel","templates",4,"ngIf"],["class","empty-tree-drop-slot",3,"dropIndex","node",4,"ngIf"],[3,"nodes","treeModel","templates"],[1,"empty-tree-drop-slot",3,"dropIndex","node"]],template:function(P,fe){1&P&&(i.TgZ(0,"tree-viewport",null,0)(2,"div",1),i.YNc(3,H,1,8,"tree-node-collection",2),i.YNc(4,oe,1,2,"tree-node-drop-slot",3),i.qZA()()),2&P&&(i.xp6(2),i.ekj("node-dragging",fe.treeDraggedElement.isDragging())("angular-tree-component-rtl",fe.treeModel.options.rtl),i.xp6(1),i.Q6J("ngIf",fe.treeModel.roots),i.xp6(1),i.Q6J("ngIf",fe.treeModel.isEmptyTree()))},directives:function(){return[be,xe.O5,Si,lt]},encapsulation:2}),Se})(),Ye=(()=>{class Se{}return Se.\u0275fac=function(P){return new(P||Se)},Se.\u0275cmp=i.Xpm({type:Se,selectors:[["TreeNode"],["tree-node"]],inputs:{node:"node",index:"index",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"class","tree-node","tree-node-expanded","tree-node-collapsed","tree-node-leaf","tree-node-active","tree-node-focused",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"dropIndex","node",4,"ngIf"],[3,"node","index","templates"],[3,"node","templates"],[3,"dropIndex","node"]],template:function(P,fe){1&P&&i.YNc(0,v,3,8,"ng-container",0),2&P&&i.Q6J("treeMobxAutorun",i.DdM(1,d))},directives:function(){return[R,xe.O5,lt,xi,Ht,xe.tP]},encapsulation:2}),Se})(),Qe=(()=>{class Se{}return Se.\u0275fac=function(P){return new(P||Se)},Se.\u0275cmp=i.Xpm({type:Se,selectors:[["tree-node-content"]],inputs:{node:"node",index:"index",template:"template"},decls:2,vars:7,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(P,fe){1&P&&(i.YNc(0,K,2,1,"span",0),i.GkF(1,1)),2&P&&(i.Q6J("ngIf",!fe.template),i.xp6(1),i.Q6J("ngTemplateOutlet",fe.template)("ngTemplateOutletContext",i.kEZ(3,x,fe.node,fe.node,fe.index)))},directives:[xe.O5,xe.tP],encapsulation:2}),Se})(),lt=(()=>{class Se{onDrop(P){this.node.mouseAction("drop",P.event,{from:P.element,to:{parent:this.node,index:this.dropIndex}})}allowDrop(P,fe){return this.node.options.allowDrop(P,{parent:this.node,index:this.dropIndex},fe)}}return Se.\u0275fac=function(P){return new(P||Se)},Se.\u0275cmp=i.Xpm({type:Se,selectors:[["TreeNodeDropSlot"],["tree-node-drop-slot"]],inputs:{node:"node",dropIndex:"dropIndex"},decls:1,vars:2,consts:[[1,"node-drop-slot",3,"treeAllowDrop","allowDragoverStyling","treeDrop"]],template:function(P,fe){1&P&&(i.TgZ(0,"div",0),i.NdJ("treeDrop",function($e){return fe.onDrop($e)}),i.qZA()),2&P&&i.Q6J("treeAllowDrop",fe.allowDrop.bind(fe))("allowDragoverStyling",!0)},directives:function(){return[rn]},encapsulation:2}),Se})(),Tt=(()=>{class Se{}return Se.\u0275fac=function(P){return new(P||Se)},Se.\u0275cmp=i.Xpm({type:Se,selectors:[["tree-node-expander"]],inputs:{node:"node"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],["class","toggle-children-wrapper",3,"toggle-children-wrapper-expanded","toggle-children-wrapper-collapsed","click",4,"ngIf"],["class","toggle-children-placeholder",4,"ngIf"],[1,"toggle-children-wrapper",3,"click"],[1,"toggle-children"],[1,"toggle-children-placeholder"]],template:function(P,fe){1&P&&i.YNc(0,L,3,2,"ng-container",0),2&P&&i.Q6J("treeMobxAutorun",i.DdM(1,d))},directives:[R,xe.O5],encapsulation:2}),Se})(),Ht=(()=>{class Se{}return Se.\u0275fac=function(P){return new(P||Se)},Se.\u0275cmp=i.Xpm({type:Se,selectors:[["tree-node-children"]],inputs:{node:"node",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"tree-children","tree-children-no-padding",4,"treeAnimateOpen","treeAnimateOpenSpeed","treeAnimateOpenAcceleration","treeAnimateOpenEnabled"],[3,"nodes","templates","treeModel",4,"ngIf"],["class","tree-node-loading",3,"padding-left","template","node",4,"ngIf"],[3,"nodes","templates","treeModel"],[1,"tree-node-loading",3,"template","node"]],template:function(P,fe){1&P&&i.YNc(0,ue,2,4,"ng-container",0),2&P&&i.Q6J("treeMobxAutorun",i.DdM(1,d))},directives:function(){return[R,bn,xe.O5,Si,X]},encapsulation:2}),Se})();const ui=Object.assign(function Wt(...Se){return(0,ie.aD)(...Se)},ie.aD),Oi=Object.assign(function ai(...Se){return(0,ie.Fl)(...Se)},ie.Fl),$i=Object.assign(function $t(...Se){return(0,ie.LO)(...Se)},ie.LO);var Di=function(Se,He,P,fe){var Pt,ze=arguments.length,$e=ze<3?He:null===fe?fe=Object.getOwnPropertyDescriptor(He,P):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$e=Reflect.decorate(Se,He,P,fe);else for(var Dt=Se.length-1;Dt>=0;Dt--)(Pt=Se[Dt])&&($e=(ze<3?Pt($e):ze>3?Pt(He,P,$e):Pt(He,P))||$e);return ze>3&&$e&&Object.defineProperty(He,P,$e),$e},yi=function(Se,He){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Se,He)};let Si=(()=>{class Se{constructor(){this._dispose=[]}get nodes(){return this._nodes}set nodes(P){this.setNodes(P)}get marginTop(){const P=this.viewportNodes&&this.viewportNodes.length&&this.viewportNodes[0];return(P&&P.parent?P.position-P.parent.position-P.parent.getSelfHeight():0)+"px"}setNodes(P){this._nodes=P}ngOnInit(){this.virtualScroll=this.treeModel.virtualScroll,this._dispose=[(0,ie.U5)(()=>this.virtualScroll.getViewportNodes(this.nodes).map(P=>P.index),P=>{this.viewportNodes=P.map(fe=>this.nodes[fe])},{compareStructural:!0,fireImmediately:!0}),(0,ie.U5)(()=>this.nodes,P=>{this.viewportNodes=this.virtualScroll.getViewportNodes(P)})]}ngOnDestroy(){this._dispose.forEach(P=>P())}trackNode(P,fe){return fe.id}}return Se.\u0275fac=function(P){return new(P||Se)},Se.\u0275cmp=i.Xpm({type:Se,selectors:[["tree-node-collection"]],inputs:{nodes:"nodes",treeModel:"treeModel",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"node","index","templates",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","index","templates"]],template:function(P,fe){1&P&&i.YNc(0,he,3,4,"ng-container",0),2&P&&i.Q6J("treeMobxAutorun",i.DdM(1,d))},directives:[R,xe.sg,Ye],encapsulation:2}),Se})();Di([$i,yi("design:type",Object)],Si.prototype,"_nodes",void 0),Di([$i,yi("design:type",Array)],Si.prototype,"viewportNodes",void 0),Di([Oi,yi("design:type",String),yi("design:paramtypes",[])],Si.prototype,"marginTop",null),Di([ui,yi("design:type",Function),yi("design:paramtypes",[Object]),yi("design:returntype",void 0)],Si.prototype,"setNodes",null);let xi=(()=>{class Se{}return Se.\u0275fac=function(P){return new(P||Se)},Se.\u0275cmp=i.Xpm({type:Se,selectors:[["tree-node-wrapper"]],inputs:{node:"node",index:"index",templates:"templates"},decls:2,vars:8,consts:[["class","node-wrapper",3,"padding-left",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node-wrapper"],[3,"node",4,"ngIf"],[3,"node"],[1,"node-content-wrapper",3,"treeAllowDrop","allowDragoverStyling","treeDrag","treeDragEnabled","click","dblclick","mouseover","mouseout","contextmenu","treeDrop","treeDropDragOver","treeDropDragLeave","treeDropDragEnter"],[3,"node","index","template"]],template:function(P,fe){1&P&&(i.YNc(0,ee,5,15,"div",0),i.GkF(1,1)),2&P&&(i.Q6J("ngIf",!fe.templates.treeNodeWrapperTemplate),i.xp6(1),i.Q6J("ngTemplateOutlet",fe.templates.treeNodeWrapperTemplate)("ngTemplateOutletContext",i.l5B(3,b,fe.node,fe.node,fe.index,fe.templates)))},directives:function(){return[xe.O5,ti,Tt,Tn,rn,Qe,xe.tP]},encapsulation:2}),Se})(),ti=(()=>{class Se{}return Se.\u0275fac=function(P){return new(P||Se)},Se.\u0275cmp=i.Xpm({type:Se,selectors:[["tree-node-checkbox"]],inputs:{node:"node"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],["type","checkbox",1,"tree-node-checkbox",3,"checked","indeterminate","click"]],template:function(P,fe){1&P&&i.YNc(0,F,2,2,"ng-container",0),2&P&&i.Q6J("treeMobxAutorun",i.DdM(1,d))},directives:[R],encapsulation:2}),Se})();const Ii="is-dragging-over",Ti="is-dragging-over-disabled";let rn=(()=>{class Se{constructor(P,fe,ze,$e){this.el=P,this.renderer=fe,this.treeDraggedElement=ze,this.ngZone=$e,this.allowDragoverStyling=!0,this.onDropCallback=new i.vpe,this.onDragOverCallback=new i.vpe,this.onDragLeaveCallback=new i.vpe,this.onDragEnterCallback=new i.vpe,this._allowDrop=(Pt,Dt)=>!0,this.dragOverEventHandler=this.onDragOver.bind(this),this.dragEnterEventHandler=this.onDragEnter.bind(this),this.dragLeaveEventHandler=this.onDragLeave.bind(this)}set treeAllowDrop(P){this._allowDrop=P instanceof Function?P:(fe,ze)=>P}allowDrop(P){return this._allowDrop(this.treeDraggedElement.get(),P)}ngAfterViewInit(){let P=this.el.nativeElement;this.ngZone.runOutsideAngular(()=>{P.addEventListener("dragover",this.dragOverEventHandler),P.addEventListener("dragenter",this.dragEnterEventHandler),P.addEventListener("dragleave",this.dragLeaveEventHandler)})}ngOnDestroy(){let P=this.el.nativeElement;P.removeEventListener("dragover",this.dragOverEventHandler),P.removeEventListener("dragenter",this.dragEnterEventHandler),P.removeEventListener("dragleave",this.dragLeaveEventHandler)}onDragOver(P){if(!this.allowDrop(P))return this.allowDragoverStyling?this.addDisabledClass():void 0;this.onDragOverCallback.emit({event:P,element:this.treeDraggedElement.get()}),P.preventDefault(),this.allowDragoverStyling&&this.addClass()}onDragEnter(P){!this.allowDrop(P)||(P.preventDefault(),this.onDragEnterCallback.emit({event:P,element:this.treeDraggedElement.get()}))}onDragLeave(P){if(!this.allowDrop(P))return this.allowDragoverStyling?this.removeDisabledClass():void 0;this.onDragLeaveCallback.emit({event:P,element:this.treeDraggedElement.get()}),this.allowDragoverStyling&&this.removeClass()}onDrop(P){!this.allowDrop(P)||(P.preventDefault(),this.onDropCallback.emit({event:P,element:this.treeDraggedElement.get()}),this.allowDragoverStyling&&this.removeClass(),this.treeDraggedElement.set(null))}addClass(){this.renderer.addClass(this.el.nativeElement,Ii)}removeClass(){this.renderer.removeClass(this.el.nativeElement,Ii)}addDisabledClass(){this.renderer.addClass(this.el.nativeElement,Ti)}removeDisabledClass(){this.renderer.removeClass(this.el.nativeElement,Ti)}}return Se.\u0275fac=function(P){return new(P||Se)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(Vt),i.Y36(i.R0b))},Se.\u0275dir=i.lG2({type:Se,selectors:[["","treeDrop",""]],hostBindings:function(P,fe){1&P&&i.NdJ("drop",function($e){return fe.onDrop($e)})},inputs:{allowDragoverStyling:"allowDragoverStyling",treeAllowDrop:"treeAllowDrop"},outputs:{onDropCallback:"treeDrop",onDragOverCallback:"treeDropDragOver",onDragLeaveCallback:"treeDropDragLeave",onDragEnterCallback:"treeDropDragEnter"}}),Se})(),Tn=(()=>{class Se{constructor(P,fe,ze,$e){this.el=P,this.renderer=fe,this.treeDraggedElement=ze,this.ngZone=$e,this.dragEventHandler=this.onDrag.bind(this)}ngAfterViewInit(){let P=this.el.nativeElement;this.ngZone.runOutsideAngular(()=>{P.addEventListener("drag",this.dragEventHandler)})}ngDoCheck(){this.renderer.setAttribute(this.el.nativeElement,"draggable",this.treeDragEnabled?"true":"false")}ngOnDestroy(){this.el.nativeElement.removeEventListener("drag",this.dragEventHandler)}onDragStart(P){P.dataTransfer.setData("text",P.target.id),this.treeDraggedElement.set(this.draggedElement),this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragStart",P)}onDrag(P){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("drag",P)}onDragEnd(){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragEnd"),this.treeDraggedElement.set(null)}}return Se.\u0275fac=function(P){return new(P||Se)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(Vt),i.Y36(i.R0b))},Se.\u0275dir=i.lG2({type:Se,selectors:[["","treeDrag",""]],hostBindings:function(P,fe){1&P&&i.NdJ("dragstart",function($e){return fe.onDragStart($e)})("dragend",function(){return fe.onDragEnd()})},inputs:{draggedElement:["treeDrag","draggedElement"],treeDragEnabled:"treeDragEnabled"}}),Se})(),bn=(()=>{class Se{constructor(P,fe,ze){this.renderer=P,this.templateRef=fe,this.viewContainerRef=ze}set isOpen(P){P?(this._show(),this.isEnabled&&!1===this._isOpen&&this._animateOpen()):this.isEnabled?this._animateClose():this._hide(),this._isOpen=!!P}_show(){this.innerElement||(this.innerElement=this.viewContainerRef.createEmbeddedView(this.templateRef).rootNodes[0])}_hide(){this.viewContainerRef.clear(),this.innerElement=null}_animateOpen(){let P=this.animateSpeed,fe=this.animateAcceleration,ze=0;this.renderer.setStyle(this.innerElement,"max-height","0"),setTimeout(()=>{const $e=setInterval(()=>{if(!this._isOpen||!this.innerElement)return clearInterval($e);ze+=P;const Pt=Math.round(ze);this.renderer.setStyle(this.innerElement,"max-height",`${Pt}px`);const Dt=this.innerElement.getBoundingClientRect?this.innerElement.getBoundingClientRect().height:0;P*=fe,fe*=1.005,Dt<Pt&&(this.renderer.setStyle(this.innerElement,"max-height",null),clearInterval($e))},17)})}_animateClose(){if(!this.innerElement)return;let P=this.animateSpeed,fe=this.animateAcceleration,ze=this.innerElement.getBoundingClientRect().height;const $e=setInterval(()=>{if(this._isOpen||!this.innerElement)return clearInterval($e);ze-=P,this.renderer.setStyle(this.innerElement,"max-height",`${ze}px`),P*=fe,fe*=1.005,ze<=0&&(this.viewContainerRef.clear(),this.innerElement=null,clearInterval($e))},17)}}return Se.\u0275fac=function(P){return new(P||Se)(i.Y36(i.Qsj),i.Y36(i.Rgc),i.Y36(i.s_b))},Se.\u0275dir=i.lG2({type:Se,selectors:[["","treeAnimateOpen",""]],inputs:{isOpen:["treeAnimateOpen","isOpen"],animateSpeed:["treeAnimateOpenSpeed","animateSpeed"],animateAcceleration:["treeAnimateOpenAcceleration","animateAcceleration"],isEnabled:["treeAnimateOpenEnabled","isEnabled"]}}),Se})(),In=(()=>{class Se{}return Se.\u0275fac=function(P){return new(P||Se)},Se.\u0275mod=i.oAB({type:Se}),Se.\u0275inj=i.cJS({providers:[],imports:[[xe.ez]]}),Se})()},9162:(Xe,de,ce)=>{"use strict";ce.d(de,{B:()=>M});var i=ce(2340),xe=ce(5e3),ie=ce(520);let M=(()=>{class f{constructor(d){this.http=d}get(){return this.http.get(i.N.baseURL+"/status")}}return f.\u0275fac=function(d){return new(d||f)(xe.LFG(ie.eN))},f.\u0275prov=xe.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},7278:(Xe,de,ce)=>{"use strict";ce.d(de,{G:()=>I});var i=ce(5e3),xe=ce(8966),ie=ce(9808),M=ce(330);function f(d,A){if(1&d&&i._UZ(0,"p-contextMenu",1),2&d){const g=i.oxw();i.Q6J("target",g.element)("model",g.items)}}let I=(()=>{class d{constructor(g,C){this.dialogRef=g,this.elementRef=C,this.showMenu=!1,this.items=[{label:"TAGs",styleClass:"p-menuitem",items:[{label:"[COOPERADO]",command:E=>{navigator.clipboard.writeText(E.item.label),this.element.focus();const l=window.getSelection();(null==l?void 0:l.rangeCount)&&l.getRangeAt(0).insertNode(document.createTextNode(E.item.label))}},{label:"[SOCIAL-BROKER]",command:E=>{navigator.clipboard.writeText(E.item.label),this.element.focus();const l=window.getSelection();(null==l?void 0:l.rangeCount)&&l.getRangeAt(0).insertNode(document.createTextNode(E.item.label))}}]},{separator:!0},{label:"Copiar",styleClass:"p-menuitem",command:E=>{const l=window.getSelection();(null==l?void 0:l.rangeCount)&&navigator.clipboard.writeText(l.getRangeAt(0).toString())}},{label:"Colar",styleClass:"p-menuitem",command:E=>{this.element.focus(),navigator.clipboard.readText().then(l=>{const T=window.getSelection();(null==T?void 0:T.rangeCount)&&T.getRangeAt(0).insertNode(document.createTextNode(l))})}}]}ngAfterViewInit(){this._element.editorWrapper?setTimeout(()=>this.element=this._element.textArea.nativeElement,0):setTimeout(()=>this.element=this._element,0)}ngOnInit(){}}return d.\u0275fac=function(g){return new(g||d)(i.Y36(xe.so),i.Y36(i.SBq))},d.\u0275cmp=i.Xpm({type:d,selectors:[["atb-context-menu"]],inputs:{_element:["element","_element"]},decls:1,vars:1,consts:[[3,"target","model",4,"ngIf"],[3,"target","model"]],template:function(g,C){1&g&&i.YNc(0,f,1,2,"p-contextMenu",0),2&g&&i.Q6J("ngIf",C.element)},directives:[ie.O5,M.xV],styles:[""]}),d})()},9476:(Xe,de,ce)=>{"use strict";ce.d(de,{V:()=>ie});var i=ce(9808),xe=ce(5e3);let ie=(()=>{class M{}return M.\u0275fac=function(I){return new(I||M)},M.\u0275mod=xe.oAB({type:M}),M.\u0275inj=xe.cJS({providers:[],imports:[[i.ez]]}),M})()},7622:(Xe,de,ce)=>{"use strict";ce.d(de,{m:()=>nn});var i=ce(6517),xe=ce(3075),ie=ce(1470),M=ce(9808),f=ce(5e3);let I=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,ie.yI,xe.u5,xe.UX,i.VN]]}),W})();function E(W,N,y,te){var We,me=arguments.length,Te=me<3?N:null===te?te=Object.getOwnPropertyDescriptor(N,y):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Te=Reflect.decorate(W,N,y,te);else for(var it=W.length-1;it>=0;it--)(We=W[it])&&(Te=(me<3?We(Te):me>3?We(N,y,Te):We(N,y))||Te);return me>3&&Te&&Object.defineProperty(N,y,Te),Te}function he(W,N){if(1&W&&(f.TgZ(0,"span"),f._uU(1),f.qZA()),2&W){const y=f.oxw();f.xp6(1),f.Oqu(y._placeholder)}}function Ce(W,N){if(1&W){const y=f.EpF();f.TgZ(0,"span",15)(1,"span",16)(2,"span"),f._uU(3),f.qZA(),f.TgZ(4,"a",17),f.NdJ("click",function(me){const We=f.CHM(y).$implicit;return f.oxw().onItemClick(me,We)}),f._uU(5,"x"),f.qZA()()()}if(2&W){const y=N.$implicit,te=N.index,me=f.oxw();f.xp6(1),f.Q6J("hidden",te>me._settings.itemsShowLimit-1),f.xp6(2),f.hij("",y.text,"\xa0")}}function ee(W,N){if(1&W&&(f.TgZ(0,"span",18),f._uU(1),f.qZA()),2&W){const y=f.oxw();f.xp6(1),f.hij("+",y.itemShowRemaining(),"")}}function F(W,N){if(1&W){const y=f.EpF();f.TgZ(0,"li",19),f.NdJ("click",function(){return f.CHM(y),f.oxw().toggleSelectAll()}),f._UZ(1,"input",20),f.TgZ(2,"div"),f._uU(3),f.qZA()()}if(2&W){const y=f.oxw();f.xp6(1),f.Q6J("checked",y.isAllItemsSelected())("disabled",y.disabled||y.isLimitSelectionReached()),f.xp6(2),f.Oqu(y.isAllItemsSelected()?y._settings.unSelectAllText:y._settings.selectAllText)}}function R(W,N){if(1&W){const y=f.EpF();f.TgZ(0,"li",21)(1,"input",22),f.NdJ("ngModelChange",function(me){return f.CHM(y),f.oxw().filter.text=me})("ngModelChange",function(me){return f.CHM(y),f.oxw().onFilterTextChange(me)}),f.qZA()()}if(2&W){const y=f.oxw();f.xp6(1),f.Q6J("readOnly",y.disabled)("placeholder",y._settings.searchPlaceholderText)("ngModel",y.filter.text)}}function j(W,N){if(1&W){const y=f.EpF();f.TgZ(0,"li",23),f.NdJ("click",function(me){const We=f.CHM(y).$implicit;return f.oxw().onItemClick(me,We)}),f._UZ(1,"input",24),f.TgZ(2,"div"),f._uU(3),f.qZA()()}if(2&W){const y=N.$implicit,te=f.oxw();f.xp6(1),f.Q6J("checked",te.isSelected(y))("disabled",te.disabled||te.isLimitSelectionReached()&&!te.isSelected(y)||y.isDisabled),f.uIk("aria-label",y.text),f.xp6(2),f.Oqu(y.text)}}function Y(W,N){if(1&W&&(f.TgZ(0,"li",25)(1,"h5"),f._uU(2),f.qZA()()),2&W){const y=f.oxw();f.xp6(2),f.Oqu(y._settings.noFilteredDataAvailablePlaceholderText)}}function Q(W,N){if(1&W&&(f.TgZ(0,"li",26)(1,"h5"),f._uU(2),f.qZA()()),2&W){const y=f.oxw();f.xp6(2),f.Oqu(y._settings.noDataAvailablePlaceholderText)}}const m=function(W){return{"dropdown-multiselect--active":W}};class U{constructor(N){("string"==typeof N||"number"==typeof N)&&(this.id=this.text=N,this.isDisabled=!1),"object"==typeof N&&(this.id=N.id,this.text=N.text,this.isDisabled=N.isDisabled)}}let se=(()=>{let W=class{transform(y,te){return y&&te?y.filter(me=>this.applyFilter(me,te)):y}applyFilter(y,te){return"string"==typeof y.text&&"string"==typeof te.text?!(te.text&&y.text&&-1===y.text.toLowerCase().indexOf(te.text.toLowerCase())):!(te.text&&y.text&&-1===y.text.toString().toLowerCase().indexOf(te.text.toString().toLowerCase()))}};return W.\u0275fac=function(y){return new(y||W)},W.\u0275pipe=f.Yjl({name:"multiSelectFilter",type:W,pure:!1}),W})();const ye={provide:xe.JU,useExisting:(0,f.Gpc)(()=>ke),multi:!0},Z=()=>{};let ke=(()=>{let W=class{constructor(y,te){this.listFilterPipe=y,this.cdr=te,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new U(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",noFilteredDataAvailablePlaceholderText:"No filtered data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new f.vpe,this.onDropDownClose=new f.vpe,this.onSelect=new f.vpe,this.onDeSelect=new f.vpe,this.onSelectAll=new f.vpe,this.onDeSelectAll=new f.vpe,this.onTouchedCallback=Z,this.onChangeCallback=Z}set placeholder(y){this._placeholder=y||"Select"}set settings(y){this._settings=y?Object.assign(this.defaultSettings,y):Object.assign(this.defaultSettings)}set data(y){if(y){const te=y[0];this._sourceDataType=typeof te,this._sourceDataFields=this.getFields(te),this._data=y.map(me=>new U("string"==typeof me||"number"==typeof me?me:{id:me[this._settings.idField],text:me[this._settings.textField],isDisabled:me[this._settings.disabledField]}))}else this._data=[]}onFilterTextChange(y){this.onFilterChange.emit(y)}onItemClick(y,te){if(this.disabled||te.isDisabled)return!1;const me=this.isSelected(te),Te=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;me?this.removeSelected(te):Te&&this.addSelected(te),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}writeValue(y){if(null!=y&&y.length>0)if(this._settings.singleSelection)try{if(y.length>=1){const te=y[0];this.selectedItems=[new U("string"==typeof te||"number"==typeof te?te:{id:te[this._settings.idField],text:te[this._settings.textField],isDisabled:te[this._settings.disabledField]})]}}catch(te){}else{const te=y.map(me=>new U("string"==typeof me||"number"==typeof me?me:{id:me[this._settings.idField],text:me[this._settings.textField],isDisabled:me[this._settings.disabledField]}));this.selectedItems=this._settings.limitSelection>0?te.splice(0,this._settings.limitSelection):te}else this.selectedItems=[];this.onChangeCallback(y),this.cdr.markForCheck()}registerOnChange(y){this.onChangeCallback=y}registerOnTouched(y){this.onTouchedCallback=y}onTouched(){this.onTouchedCallback()}trackByFn(y,te){return te.id}isSelected(y){let te=!1;return this.selectedItems.forEach(me=>{y.id===me.id&&(te=!0)}),te}isLimitSelectionReached(){return this._settings.limitSelection===this.selectedItems.length}isAllItemsSelected(){let y=this.listFilterPipe.transform(this._data,this.filter);const te=y.filter(me=>me.isDisabled).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&y.length===this.selectedItems.length+te}showButton(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}itemShowRemaining(){return this.selectedItems.length-this._settings.itemsShowLimit}addSelected(y){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(y)):this.selectedItems.push(y),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(y))}removeSelected(y){this.selectedItems.forEach(te=>{y.id===te.id&&this.selectedItems.splice(this.selectedItems.indexOf(te),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(y))}emittedValue(y){const te=[];if(Array.isArray(y))y.map(me=>{te.push(this.objectify(me))});else if(y)return this.objectify(y);return te}objectify(y){if("object"===this._sourceDataType){const te={};return te[this._settings.idField]=y.id,te[this._settings.textField]=y.text,this._sourceDataFields.includes(this._settings.disabledField)&&(te[this._settings.disabledField]=y.isDisabled),te}return"number"===this._sourceDataType?Number(y.id):y.text}toggleDropdown(y){y.preventDefault(),(!this.disabled||!this._settings.singleSelection)&&(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}closeDropdown(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}toggleSelectAll(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this.listFilterPipe.transform(this._data,this.filter).filter(y=>!y.isDisabled).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}getFields(y){const te=[];if("object"!=typeof y)return te;for(const me in y)te.push(me);return te}};return W.\u0275fac=function(y){return new(y||W)(f.Y36(se),f.Y36(f.sBO))},W.\u0275cmp=f.Xpm({type:W,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(y,te){1&y&&f.NdJ("blur",function(){return te.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[f._Bn([ye])],decls:18,vars:23,consts:[["tabindex","0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item-container",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px",3,"ngClass"],["style","padding-right: 15px;",4,"ngIf"],[1,"dropdown-multiselect__caret"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-filtered-data",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"selected-item-container"],[1,"selected-item",3,"hidden"],[2,"padding-left","2px","color","white",3,"click"],[2,"padding-right","15px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox",3,"checked","disabled"],[1,"no-filtered-data"],[1,"no-data"]],template:function(y,te){1&y&&(f.TgZ(0,"div",0),f.NdJ("blur",function(){return te.onTouched()})("clickOutside",function(){return te.closeDropdown()}),f.TgZ(1,"div")(2,"span",1),f.NdJ("click",function(Te){return te.toggleDropdown(Te)}),f.YNc(3,he,2,1,"span",2),f.YNc(4,Ce,6,2,"span",3),f.TgZ(5,"span",4),f.YNc(6,ee,2,1,"span",5),f._UZ(7,"span",6),f.qZA()()(),f.TgZ(8,"div",7)(9,"ul",8),f.YNc(10,F,4,3,"li",9),f.YNc(11,R,2,3,"li",10),f.qZA(),f.TgZ(12,"ul",11),f.YNc(13,j,4,4,"li",12),f.ALo(14,"multiSelectFilter"),f.YNc(15,Y,3,1,"li",13),f.ALo(16,"multiSelectFilter"),f.YNc(17,Q,3,1,"li",14),f.qZA()()()),2&y&&(f.xp6(1),f.ekj("disabled",te.disabled),f.xp6(2),f.Q6J("ngIf",0==te.selectedItems.length),f.xp6(1),f.Q6J("ngForOf",te.selectedItems)("ngForTrackBy",te.trackByFn),f.xp6(1),f.Q6J("ngClass",f.VKq(21,m,te._settings.defaultOpen)),f.xp6(1),f.Q6J("ngIf",te.itemShowRemaining()>0),f.xp6(2),f.Q6J("hidden",!te._settings.defaultOpen),f.xp6(2),f.Q6J("ngIf",(te._data.length>0||te._settings.allowRemoteDataSearch)&&!te._settings.singleSelection&&te._settings.enableCheckAll&&-1===te._settings.limitSelection),f.xp6(1),f.Q6J("ngIf",(te._data.length>0||te._settings.allowRemoteDataSearch)&&te._settings.allowSearchFilter),f.xp6(1),f.Udp("max-height",te._settings.maxHeight+"px"),f.xp6(1),f.Q6J("ngForOf",f.xi3(14,15,te._data,te.filter)),f.xp6(2),f.Q6J("ngIf",0!=te._data.length&&0==f.xi3(16,18,te._data,te.filter).length&&!te._settings.allowRemoteDataSearch),f.xp6(2),f.Q6J("ngIf",0==te._data.length&&!te._settings.allowRemoteDataSearch))},directives:function(){return[Ne,M.O5,M.sg,M.mk,xe.Fj,xe.JJ,xe.On]},pipes:function(){return[se]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]{display:flex;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left;max-width:100px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0;border-color:#999 transparent;content:""}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect--active[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{transform:rotateZ(180deg)}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]:hover{background-color:#e4e3e3}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),E([(0,f.IIB)()],W.prototype,"placeholder",null),E([(0,f.IIB)()],W.prototype,"disabled",void 0),E([(0,f.IIB)()],W.prototype,"settings",null),E([(0,f.IIB)()],W.prototype,"data",null),E([(0,f.r_U)("onFilterChange")],W.prototype,"onFilterChange",void 0),E([(0,f.r_U)("onDropDownClose")],W.prototype,"onDropDownClose",void 0),E([(0,f.r_U)("onSelect")],W.prototype,"onSelect",void 0),E([(0,f.r_U)("onDeSelect")],W.prototype,"onDeSelect",void 0),E([(0,f.r_U)("onSelectAll")],W.prototype,"onSelectAll",void 0),E([(0,f.r_U)("onDeSelectAll")],W.prototype,"onDeSelectAll",void 0),E([(0,f.L6J)("blur")],W.prototype,"onTouched",null),W})(),Ne=(()=>{let W=class{constructor(y){this._elementRef=y,this.clickOutside=new f.vpe}onClick(y,te){te&&(this._elementRef.nativeElement.contains(te)||this.clickOutside.emit(y))}};return W.\u0275fac=function(y){return new(y||W)(f.Y36(f.SBq))},W.\u0275dir=f.lG2({type:W,selectors:[["","clickOutside",""]],hostBindings:function(y,te){1&y&&f.NdJ("click",function(Te){return te.onClick(Te,Te.target)},!1,f.evT)},outputs:{clickOutside:"clickOutside"}}),E([(0,f.r_U)()],W.prototype,"clickOutside",void 0),E([(0,f.L6J)("document:click",["$event","$event.target"])],W.prototype,"onClick",null),W})();var Fe;let Ue=Fe=class{static forRoot(){return{ngModule:Fe}}};Ue.\u0275fac=function(N){return new(N||Ue)},Ue.\u0275mod=f.oAB({type:Ue}),Ue.\u0275inj=f.cJS({providers:[se],imports:[[M.ez,xe.u5]]});var rt=ce(1778),st=ce(7322),pt=ce(9814),J=ce(9131),ve=ce(4107);let Be=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,J.T,xe.UX,xe.u5,pt.Fk,st.lN,ve.LD,rt.JO,Ue.forRoot()]]}),W})();var Me=ce(7751);let Re=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,Me.Oz]]}),W})();var qe=ce(6264);let et=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({providers:[],imports:[[M.ez]]}),W})();var at=ce(4834);let At=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({providers:[],imports:[[M.ez,at.t]]}),W})();var gt=ce(2387),Ze=ce(9476),ft=ce(7022);let Vt=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({providers:[],imports:[[]]}),W})(),St=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez]]}),W})(),wt=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({providers:[],imports:[[]]}),W})();var si=ce(7446);let Gt=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,Vt,St,wt,Me.HK,xe.u5,si.p9]]}),W})();var Ge=ce(9776);let $=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez]]}),W})();var X=ce(8848);let be=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,xe.u5,wt,Ge.U8,i.VN,X.o]]}),W})();var Ee=ce(9444),Ye=ce(8185),Qe=ce(1235),lt=ce(2841);let Tt=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,lt.xc]]}),W})();function Ht(W,N){if(1&W&&(f.TgZ(0,"label",2)(1,"span",3),f._uU(2),f.qZA(),f.TgZ(3,"span",4),f._uU(4),f.qZA()()),2&W){const y=f.oxw();f.xp6(1),f.Udp("color",y.getColor("checkedTextColor")),f.uIk("aria-label",y.checkedLabel),f.xp6(1),f.Oqu(y.checkedLabel),f.xp6(1),f.Udp("color",y.getColor("uncheckedTextColor")),f.uIk("aria-label",y.uncheckedLabel),f.xp6(1),f.Oqu(y.uncheckedLabel)}}const Wt=["*"],ui=new f.OlP("UI_SWITCH_OPTIONS"),ai={provide:xe.JU,useExisting:(0,f.Gpc)(()=>Oi),multi:!0};let Oi=(()=>{class W{constructor(y={},te){this.cdr=te,this.change=new f.vpe,this.changeEvent=new f.vpe,this.valueChange=new f.vpe,this.onTouchedCallback=me=>{},this.onChangeCallback=me=>{},this.size=y&&y.size||"medium",this.color=y&&y.color,this.switchOffColor=y&&y.switchOffColor,this.switchColor=y&&y.switchColor,this.defaultBgColor=y&&y.defaultBgColor,this.defaultBoColor=y&&y.defaultBoColor,this.checkedLabel=y&&y.checkedLabel,this.uncheckedLabel=y&&y.uncheckedLabel,this.checkedTextColor=y&&y.checkedTextColor,this.uncheckedTextColor=y&&y.uncheckedTextColor}set checked(y){this._checked=!1!==y}get checked(){return this._checked}set disabled(y){this._disabled=!1!==y}get disabled(){return this._disabled}set reverse(y){this._reverse=!1!==y}get reverse(){return this._reverse}set loading(y){this._loading=!1!==y}get loading(){return this._loading}getColor(y=""){return"borderColor"===y?this.defaultBoColor:"switchColor"===y?this.reverse?this.checked&&this.switchOffColor||this.switchColor:this.checked?this.switchColor:this.switchOffColor||this.switchColor:"checkedTextColor"===y?this.reverse?this.uncheckedTextColor:this.checkedTextColor:"uncheckedTextColor"===y?this.reverse?this.checkedTextColor:this.uncheckedTextColor:this.reverse?this.checked?this.defaultBgColor:this.color:this.checked?this.color:this.defaultBgColor}onClick(y){this.disabled||(this.checked=!this.checked,this.change.emit(this.checked),this.valueChange.emit(this.checked),this.changeEvent.emit(y),this.onChangeCallback(this.checked),this.onTouchedCallback(this.checked),this.cdr.markForCheck())}onToggle(y){this.disabled||(this.beforeChange?this._beforeChange=this.beforeChange.subscribe(te=>{te&&this.onClick(y)}):this.onClick(y))}writeValue(y){y!==this.checked&&(this.checked=!!y),this.onChangeCallback(this.checked),this.cdr&&this.cdr.markForCheck()}registerOnChange(y){this.onChangeCallback=y}registerOnTouched(y){this.onTouchedCallback=y}setDisabledState(y){this.disabled=y}ngOnDestroy(){this._beforeChange&&this._beforeChange.unsubscribe()}}return W.\u0275fac=function(y){return new(y||W)(f.Y36(ui,8),f.Y36(f.sBO))},W.\u0275cmp=f.Xpm({type:W,selectors:[["ui-switch"]],hostBindings:function(y,te){1&y&&f.NdJ("click",function(Te){return te.onToggle(Te)})},inputs:{size:"size",color:"color",switchOffColor:"switchOffColor",switchColor:"switchColor",defaultBgColor:"defaultBgColor",defaultBoColor:"defaultBoColor",checkedLabel:"checkedLabel",uncheckedLabel:"uncheckedLabel",checkedTextColor:"checkedTextColor",uncheckedTextColor:"uncheckedTextColor",beforeChange:"beforeChange",checked:"checked",disabled:"disabled",reverse:"reverse",loading:"loading"},outputs:{change:"change",changeEvent:"changeEvent",valueChange:"valueChange"},features:[f._Bn([ai])],ngContentSelectors:Wt,decls:4,vars:20,consts:[["type","button","role","switch",1,"switch"],["class","switch-pane",4,"ngIf"],[1,"switch-pane"],[1,"switch-label-checked"],[1,"switch-label-unchecked"]],template:function(y,te){1&y&&(f.F$t(),f.TgZ(0,"button",0),f.YNc(1,Ht,5,8,"label",1),f.TgZ(2,"small"),f.Hsn(3),f.qZA()()),2&y&&(f.Udp("background-color",te.getColor())("border-color",te.getColor("borderColor")),f.ekj("checked",te.checked)("disabled",te.disabled)("loading",te.loading)("switch-large","large"===te.size)("switch-medium","medium"===te.size)("switch-small","small"===te.size),f.uIk("aria-checked",te.checked),f.xp6(1),f.Q6J("ngIf",te.checkedLabel||te.uncheckedLabel),f.xp6(1),f.Udp("background",te.getColor("switchColor")))},directives:[M.O5],encapsulation:2}),W})(),$t=(()=>{class W{static forRoot(y){return{ngModule:W,providers:[{provide:ui,useValue:y||{}}]}}}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,xe.u5],xe.u5]}),W})(),$i=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,$t,Ze.V]]}),W})();var Di=ce(8966),yi=ce(1125),Si=ce(773),xi=ce(4623),ti=ce(8279),Ii=ce(4871),Ti=ce(4500);let rn=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez]]}),W})();var on=ce(5075),Tn=ce(8083),Li=ce(845),bn=ce(9783),In=ce(5787),Se=ce(925),He=ce(3191),P=ce(5664),fe=ce(7579),ze=ce(727),$e=ce(4986),Pt=ce(2805),Ut=ce(6406),Hi=ce(8306),Ui=ce(6451),Fi=ce(2722),an=ce(393);function _t(W,N,y){for(let te in N)if(N.hasOwnProperty(te)){const me=N[te];me?W.setProperty(te,me,(null==y?void 0:y.has(te))?"important":""):W.removeProperty(te)}return W}function Ni(W,N){const y=N?"":"none";_t(W.style,{"touch-action":N?"":"none","-webkit-user-drag":N?"":"none","-webkit-tap-highlight-color":N?"":"transparent","user-select":y,"-ms-user-select":y,"-webkit-user-select":y,"-moz-user-select":y})}function ln(W,N,y){_t(W.style,{position:N?"":"fixed",top:N?"":"0",opacity:N?"":"0",left:N?"":"-999em"},y)}function Ei(W,N){return N&&"none"!=N?W+" "+N:W}function cn(W){const N=W.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(W)*N}function Wi(W,N){return W.getPropertyValue(N).split(",").map(te=>te.trim())}function gn(W){const N=W.getBoundingClientRect();return{top:N.top,right:N.right,bottom:N.bottom,left:N.left,width:N.width,height:N.height,x:N.x,y:N.y}}function It(W,N,y){const{top:te,bottom:me,left:Te,right:We}=W;return y>=te&&y<=me&&N>=Te&&N<=We}function hi(W,N,y){W.top+=N,W.bottom=W.top+W.height,W.left+=y,W.right=W.left+W.width}function pe(W,N,y,te){const{top:me,right:Te,bottom:We,left:it,width:yt,height:mt}=W,Lt=yt*N,_i=mt*N;return te>me-_i&&te<We+_i&&y>it-Lt&&y<Te+Lt}class Je{constructor(N){this._document=N,this.positions=new Map}clear(){this.positions.clear()}cache(N){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),N.forEach(y=>{this.positions.set(y,{scrollPosition:{top:y.scrollTop,left:y.scrollLeft},clientRect:gn(y)})})}handleScroll(N){const y=(0,Se.sA)(N),te=this.positions.get(y);if(!te)return null;const me=te.scrollPosition;let Te,We;if(y===this._document){const mt=this.getViewportScrollPosition();Te=mt.top,We=mt.left}else Te=y.scrollTop,We=y.scrollLeft;const it=me.top-Te,yt=me.left-We;return this.positions.forEach((mt,Lt)=>{mt.clientRect&&y!==Lt&&y.contains(Lt)&&hi(mt.clientRect,it,yt)}),me.top=Te,me.left=We,{top:it,left:yt}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function S(W){const N=W.cloneNode(!0),y=N.querySelectorAll("[id]"),te=W.nodeName.toLowerCase();N.removeAttribute("id");for(let me=0;me<y.length;me++)y[me].removeAttribute("id");return"canvas"===te?ct(W,N):("input"===te||"select"===te||"textarea"===te)&&De(W,N),k("canvas",W,N,ct),k("input, textarea, select",W,N,De),N}function k(W,N,y,te){const me=N.querySelectorAll(W);if(me.length){const Te=y.querySelectorAll(W);for(let We=0;We<me.length;We++)te(me[We],Te[We])}}let Ae=0;function De(W,N){"file"!==N.type&&(N.value=W.value),"radio"===N.type&&N.name&&(N.name=`mat-clone-${N.name}-${Ae++}`)}function ct(W,N){const y=N.getContext("2d");if(y)try{y.drawImage(W,0,0)}catch(te){}}const nt=(0,Se.i$)({passive:!0}),bt=(0,Se.i$)({passive:!1}),kt=new Set(["position"]);class pi{constructor(N,y,te,me,Te,We){this._config=y,this._document=te,this._ngZone=me,this._viewportRuler=Te,this._dragDropRegistry=We,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new fe.x,this._pointerMoveSubscription=ze.w0.EMPTY,this._pointerUpSubscription=ze.w0.EMPTY,this._scrollSubscription=ze.w0.EMPTY,this._resizeSubscription=ze.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new fe.x,this.started=new fe.x,this.released=new fe.x,this.ended=new fe.x,this.entered=new fe.x,this.exited=new fe.x,this.dropped=new fe.x,this.moved=this._moveEvents,this._pointerDown=it=>{if(this.beforeStarted.next(),this._handles.length){const yt=this._getTargetHandle(it);yt&&!this._disabledHandles.has(yt)&&!this.disabled&&this._initializeDragSequence(yt,it)}else this.disabled||this._initializeDragSequence(this._rootElement,it)},this._pointerMove=it=>{const yt=this._getPointerPositionOnPage(it);if(!this._hasStartedDragging){if(Math.abs(yt.x-this._pickupPositionOnPage.x)+Math.abs(yt.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Vi=Date.now()>=this._dragStartTime+this._getDragStartDelay(it),Ri=this._dropContainer;if(!Vi)return void this._endDragSequence(it);(!Ri||!Ri.isDragging()&&!Ri.isReceiving())&&(it.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(it)))}return}it.preventDefault();const mt=this._getConstrainedPointerPosition(yt);if(this._hasMoved=!0,this._lastKnownPointerPosition=yt,this._updatePointerDirectionDelta(mt),this._dropContainer)this._updateActiveDropContainer(mt,yt);else{const Lt=this._activeTransform;Lt.x=mt.x-this._pickupPositionOnPage.x+this._passiveTransform.x,Lt.y=mt.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(Lt.x,Lt.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:mt,event:it,distance:this._getDragDistance(mt),delta:this._pointerDirectionDelta})})},this._pointerUp=it=>{this._endDragSequence(it)},this._nativeDragStart=it=>{if(this._handles.length){const yt=this._getTargetHandle(it);yt&&!this._disabledHandles.has(yt)&&!this.disabled&&it.preventDefault()}else this.disabled||it.preventDefault()},this.withRootElement(N).withParent(y.parentDragRef||null),this._parentPositions=new Je(te),We.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(N){const y=(0,He.Ig)(N);y!==this._disabled&&(this._disabled=y,this._toggleNativeDragInteractions(),this._handles.forEach(te=>Ni(te,y)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(N){this._handles=N.map(te=>(0,He.fI)(te)),this._handles.forEach(te=>Ni(te,this.disabled)),this._toggleNativeDragInteractions();const y=new Set;return this._disabledHandles.forEach(te=>{this._handles.indexOf(te)>-1&&y.add(te)}),this._disabledHandles=y,this}withPreviewTemplate(N){return this._previewTemplate=N,this}withPlaceholderTemplate(N){return this._placeholderTemplate=N,this}withRootElement(N){const y=(0,He.fI)(N);return y!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{y.addEventListener("mousedown",this._pointerDown,bt),y.addEventListener("touchstart",this._pointerDown,nt),y.addEventListener("dragstart",this._nativeDragStart,bt)}),this._initialTransform=void 0,this._rootElement=y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(N){return this._boundaryElement=N?(0,He.fI)(N):null,this._resizeSubscription.unsubscribe(),N&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(N){return this._parentDragRef=N,this}dispose(){var N,y;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(N=this._rootElement)||void 0===N||N.remove()),null===(y=this._anchor)||void 0===y||y.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(N){!this._disabledHandles.has(N)&&this._handles.indexOf(N)>-1&&(this._disabledHandles.add(N),Ni(N,!0))}enableHandle(N){this._disabledHandles.has(N)&&(this._disabledHandles.delete(N),Ni(N,this.disabled))}withDirection(N){return this._direction=N,this}_withDropContainer(N){this._dropContainer=N}getFreeDragPosition(){const N=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:N.x,y:N.y}}setFreeDragPosition(N){return this._activeTransform={x:0,y:0},this._passiveTransform.x=N.x,this._passiveTransform.y=N.y,this._dropContainer||this._applyRootElementTransform(N.x,N.y),this}withPreviewContainer(N){return this._previewContainer=N,this}_sortFromLastPointerPosition(){const N=this._lastKnownPointerPosition;N&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(N),N)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var N,y;null===(N=this._preview)||void 0===N||N.remove(),null===(y=this._previewRef)||void 0===y||y.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var N,y;null===(N=this._placeholder)||void 0===N||N.remove(),null===(y=this._placeholderRef)||void 0===y||y.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(N){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(N),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const y=this._getPointerPositionOnPage(N);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(y),dropPoint:y})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(N){bi(N)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const y=this._dropContainer;if(y){const te=this._rootElement,me=te.parentNode,Te=this._placeholder=this._createPlaceholderElement(),We=this._anchor=this._anchor||this._document.createComment(""),it=this._getShadowRoot();me.insertBefore(We,te),this._initialTransform=te.style.transform||"",this._preview=this._createPreviewElement(),ln(te,!1,kt),this._document.body.appendChild(me.replaceChild(Te,te)),this._getPreviewInsertionPoint(me,it).appendChild(this._preview),this.started.next({source:this}),y.start(),this._initialContainer=y,this._initialIndex=y.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(y?y.getScrollableParents():[])}_initializeDragSequence(N,y){this._parentDragRef&&y.stopPropagation();const te=this.isDragging(),me=bi(y),Te=!me&&0!==y.button,We=this._rootElement,it=(0,Se.sA)(y),yt=!me&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),mt=me?(0,P.yG)(y):(0,P.X6)(y);if(it&&it.draggable&&"mousedown"===y.type&&y.preventDefault(),te||Te||yt||mt)return;if(this._handles.length){const Ft=We.style;this._rootElementTapHighlight=Ft.webkitTapHighlightColor||"",Ft.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ft=>this._updateOnScroll(Ft)),this._boundaryElement&&(this._boundaryRect=gn(this._boundaryElement));const Lt=this._previewTemplate;this._pickupPositionInElement=Lt&&Lt.template&&!Lt.matchSize?{x:0,y:0}:this._getPointerPositionInElement(N,y);const _i=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(y);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:_i.x,y:_i.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,y)}_cleanupDragArtifacts(N){ln(this._rootElement,!0,kt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const y=this._dropContainer,te=y.getItemIndex(this),me=this._getPointerPositionOnPage(N),Te=this._getDragDistance(me),We=y._isOverContainer(me.x,me.y);this.ended.next({source:this,distance:Te,dropPoint:me}),this.dropped.next({item:this,currentIndex:te,previousIndex:this._initialIndex,container:y,previousContainer:this._initialContainer,isPointerOverContainer:We,distance:Te,dropPoint:me}),y.drop(this,te,this._initialIndex,this._initialContainer,We,Te,me),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:N,y},{x:te,y:me}){let Te=this._initialContainer._getSiblingContainerFromPosition(this,N,y);!Te&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(N,y)&&(Te=this._initialContainer),Te&&Te!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=Te,this._dropContainer.enter(this,N,y,Te===this._initialContainer&&Te.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:Te,currentIndex:Te.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(te,me),this._dropContainer._sortItem(this,N,y,this._pointerDirectionDelta),this._applyPreviewTransform(N-this._pickupPositionInElement.x,y-this._pickupPositionInElement.y))}_createPreviewElement(){const N=this._previewTemplate,y=this.previewClass,te=N?N.template:null;let me;if(te&&N){const Te=N.matchSize?this._rootElement.getBoundingClientRect():null,We=N.viewContainer.createEmbeddedView(te,N.context);We.detectChanges(),me=Qt(We,this._document),this._previewRef=We,N.matchSize?fi(me,Te):me.style.transform=li(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const Te=this._rootElement;me=S(Te),fi(me,Te.getBoundingClientRect()),this._initialTransform&&(me.style.transform=this._initialTransform)}return _t(me.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},kt),Ni(me,!1),me.classList.add("cdk-drag-preview"),me.setAttribute("dir",this._direction),y&&(Array.isArray(y)?y.forEach(Te=>me.classList.add(Te)):me.classList.add(y)),me}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const N=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(N.left,N.top);const y=function Zi(W){const N=getComputedStyle(W),y=Wi(N,"transition-property"),te=y.find(it=>"transform"===it||"all"===it);if(!te)return 0;const me=y.indexOf(te),Te=Wi(N,"transition-duration"),We=Wi(N,"transition-delay");return cn(Te[me])+cn(We[me])}(this._preview);return 0===y?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(te=>{const me=We=>{var it;(!We||(0,Se.sA)(We)===this._preview&&"transform"===We.propertyName)&&(null===(it=this._preview)||void 0===it||it.removeEventListener("transitionend",me),te(),clearTimeout(Te))},Te=setTimeout(me,1.5*y);this._preview.addEventListener("transitionend",me)}))}_createPlaceholderElement(){const N=this._placeholderTemplate,y=N?N.template:null;let te;return y?(this._placeholderRef=N.viewContainer.createEmbeddedView(y,N.context),this._placeholderRef.detectChanges(),te=Qt(this._placeholderRef,this._document)):te=S(this._rootElement),te.style.pointerEvents="none",te.classList.add("cdk-drag-placeholder"),te}_getPointerPositionInElement(N,y){const te=this._rootElement.getBoundingClientRect(),me=N===this._rootElement?null:N,Te=me?me.getBoundingClientRect():te,We=bi(y)?y.targetTouches[0]:y,it=this._getViewportScrollPosition();return{x:Te.left-te.left+(We.pageX-Te.left-it.left),y:Te.top-te.top+(We.pageY-Te.top-it.top)}}_getPointerPositionOnPage(N){const y=this._getViewportScrollPosition(),te=bi(N)?N.touches[0]||N.changedTouches[0]||{pageX:0,pageY:0}:N,me=te.pageX-y.left,Te=te.pageY-y.top;if(this._ownerSVGElement){const We=this._ownerSVGElement.getScreenCTM();if(We){const it=this._ownerSVGElement.createSVGPoint();return it.x=me,it.y=Te,it.matrixTransform(We.inverse())}}return{x:me,y:Te}}_getConstrainedPointerPosition(N){const y=this._dropContainer?this._dropContainer.lockAxis:null;let{x:te,y:me}=this.constrainPosition?this.constrainPosition(N,this):N;if("x"===this.lockAxis||"x"===y?me=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===y)&&(te=this._pickupPositionOnPage.x),this._boundaryRect){const{x:Te,y:We}=this._pickupPositionInElement,it=this._boundaryRect,{width:yt,height:mt}=this._getPreviewRect(),Lt=it.top+We,_i=it.bottom-(mt-We);te=di(te,it.left+Te,it.right-(yt-Te)),me=di(me,Lt,_i)}return{x:te,y:me}}_updatePointerDirectionDelta(N){const{x:y,y:te}=N,me=this._pointerDirectionDelta,Te=this._pointerPositionAtLastDirectionChange,We=Math.abs(y-Te.x),it=Math.abs(te-Te.y);return We>this._config.pointerDirectionChangeThreshold&&(me.x=y>Te.x?1:-1,Te.x=y),it>this._config.pointerDirectionChangeThreshold&&(me.y=te>Te.y?1:-1,Te.y=te),me}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const N=this._handles.length>0||!this.isDragging();N!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=N,Ni(this._rootElement,N))}_removeRootElementListeners(N){N.removeEventListener("mousedown",this._pointerDown,bt),N.removeEventListener("touchstart",this._pointerDown,nt),N.removeEventListener("dragstart",this._nativeDragStart,bt)}_applyRootElementTransform(N,y){const te=li(N,y),me=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=me.transform&&"none"!=me.transform?me.transform:""),me.transform=Ei(te,this._initialTransform)}_applyPreviewTransform(N,y){var te;const me=(null===(te=this._previewTemplate)||void 0===te?void 0:te.template)?void 0:this._initialTransform,Te=li(N,y);this._preview.style.transform=Ei(Te,me)}_getDragDistance(N){const y=this._pickupPositionOnPage;return y?{x:N.x-y.x,y:N.y-y.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:N,y}=this._passiveTransform;if(0===N&&0===y||this.isDragging()||!this._boundaryElement)return;const te=this._boundaryElement.getBoundingClientRect(),me=this._rootElement.getBoundingClientRect();if(0===te.width&&0===te.height||0===me.width&&0===me.height)return;const Te=te.left-me.left,We=me.right-te.right,it=te.top-me.top,yt=me.bottom-te.bottom;te.width>me.width?(Te>0&&(N+=Te),We>0&&(N-=We)):N=0,te.height>me.height?(it>0&&(y+=it),yt>0&&(y-=yt)):y=0,(N!==this._passiveTransform.x||y!==this._passiveTransform.y)&&this.setFreeDragPosition({y,x:N})}_getDragStartDelay(N){const y=this.dragStartDelay;return"number"==typeof y?y:bi(N)?y.touch:y?y.mouse:0}_updateOnScroll(N){const y=this._parentPositions.handleScroll(N);if(y){const te=(0,Se.sA)(N);this._boundaryRect&&te!==this._boundaryElement&&te.contains(this._boundaryElement)&&hi(this._boundaryRect,y.top,y.left),this._pickupPositionOnPage.x+=y.left,this._pickupPositionOnPage.y+=y.top,this._dropContainer||(this._activeTransform.x-=y.left,this._activeTransform.y-=y.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var N;return(null===(N=this._parentPositions.positions.get(this._document))||void 0===N?void 0:N.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,Se.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(N,y){const te=this._previewContainer||"global";if("parent"===te)return N;if("global"===te){const me=this._document;return y||me.fullscreenElement||me.webkitFullscreenElement||me.mozFullScreenElement||me.msFullscreenElement||me.body}return(0,He.fI)(te)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(N){return this._handles.find(y=>N.target&&(N.target===y||y.contains(N.target)))}}function li(W,N){return`translate3d(${Math.round(W)}px, ${Math.round(N)}px, 0)`}function di(W,N,y){return Math.max(N,Math.min(y,W))}function bi(W){return"t"===W.type[0]}function Qt(W,N){const y=W.rootNodes;if(1===y.length&&y[0].nodeType===N.ELEMENT_NODE)return y[0];const te=N.createElement("div");return y.forEach(me=>te.appendChild(me)),te}function fi(W,N){W.style.width=`${N.width}px`,W.style.height=`${N.height}px`,W.style.transform=li(N.left,N.top)}function Xt(W,N){return Math.max(0,Math.min(N,W))}class wi{constructor(N,y,te,me,Te){this._dragDropRegistry=y,this._ngZone=me,this._viewportRuler=Te,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new fe.x,this.entered=new fe.x,this.exited=new fe.x,this.dropped=new fe.x,this.sorted=new fe.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=ze.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new fe.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Dt(W=0,N=$e.z){return W<0&&(W=0),(0,Pt.H)(W,W,N)}(0,Ut.Z).pipe((0,Fi.R)(this._stopScrollTimers)).subscribe(()=>{const We=this._scrollNode,it=this.autoScrollStep;1===this._verticalScrollDirection?We.scrollBy(0,-it):2===this._verticalScrollDirection&&We.scrollBy(0,it),1===this._horizontalScrollDirection?We.scrollBy(-it,0):2===this._horizontalScrollDirection&&We.scrollBy(it,0)})},this.element=(0,He.fI)(N),this._document=te,this.withScrollableParents([this.element]),y.registerDropContainer(this),this._parentPositions=new Je(te)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(N,y,te,me){let Te;this._draggingStarted(),null==me?(Te=this.sortingDisabled?this._draggables.indexOf(N):-1,-1===Te&&(Te=this._getItemIndexFromPointerPosition(N,y,te))):Te=me;const We=this._activeDraggables,it=We.indexOf(N),yt=N.getPlaceholderElement();let mt=We[Te];if(mt===N&&(mt=We[Te+1]),!mt&&(null==Te||-1===Te||Te<We.length-1)&&this._shouldEnterAsFirstChild(y,te)&&(mt=We[0]),it>-1&&We.splice(it,1),mt&&!this._dragDropRegistry.isDragging(mt)){const Lt=mt.getRootElement();Lt.parentElement.insertBefore(yt,Lt),We.splice(Te,0,N)}else(0,He.fI)(this.element).appendChild(yt),We.push(N);yt.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:N,container:this,currentIndex:this.getItemIndex(N)})}exit(N){this._reset(),this.exited.next({item:N,container:this})}drop(N,y,te,me,Te,We,it){this._reset(),this.dropped.next({item:N,currentIndex:y,previousIndex:te,container:this,previousContainer:me,isPointerOverContainer:Te,distance:We,dropPoint:it})}withItems(N){const y=this._draggables;return this._draggables=N,N.forEach(te=>te._withDropContainer(this)),this.isDragging()&&(y.filter(me=>me.isDragging()).every(me=>-1===N.indexOf(me))?this._reset():this._cacheItems()),this}withDirection(N){return this._direction=N,this}connectedTo(N){return this._siblings=N.slice(),this}withOrientation(N){return this._orientation=N,this}withScrollableParents(N){const y=(0,He.fI)(this.element);return this._scrollableElements=-1===N.indexOf(y)?[y,...N]:N.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(N){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(te=>te.drag===N):this._draggables.indexOf(N)}isReceiving(){return this._activeSiblings.size>0}_sortItem(N,y,te,me){if(this.sortingDisabled||!this._clientRect||!pe(this._clientRect,.05,y,te))return;const Te=this._itemPositions,We=this._getItemIndexFromPointerPosition(N,y,te,me);if(-1===We&&Te.length>0)return;const it="horizontal"===this._orientation,yt=Te.findIndex(ei=>ei.drag===N),mt=Te[We],_i=mt.clientRect,Ft=yt>We?1:-1,Vi=this._getItemOffsetPx(Te[yt].clientRect,_i,Ft),Ri=this._getSiblingOffsetPx(yt,Te,Ft),wn=Te.slice();(function gi(W,N,y){const te=Xt(N,W.length-1),me=Xt(y,W.length-1);if(te===me)return;const Te=W[te],We=me<te?-1:1;for(let it=te;it!==me;it+=We)W[it]=W[it+We];W[me]=Te})(Te,yt,We),this.sorted.next({previousIndex:yt,currentIndex:We,container:this,item:N}),Te.forEach((ei,bs)=>{if(wn[bs]===ei)return;const Fn=ei.drag===N,oi=Fn?Vi:Ri,zn=Fn?N.getPlaceholderElement():ei.drag.getRootElement();ei.offset+=oi,it?(zn.style.transform=Ei(`translate3d(${Math.round(ei.offset)}px, 0, 0)`,ei.initialTransform),hi(ei.clientRect,0,oi)):(zn.style.transform=Ei(`translate3d(0, ${Math.round(ei.offset)}px, 0)`,ei.initialTransform),hi(ei.clientRect,oi,0))}),this._previousSwap.overlaps=It(_i,y,te),this._previousSwap.drag=mt.drag,this._previousSwap.delta=it?me.x:me.y}_startScrollingIfNecessary(N,y){if(this.autoScrollDisabled)return;let te,me=0,Te=0;if(this._parentPositions.positions.forEach((We,it)=>{it===this._document||!We.clientRect||te||pe(We.clientRect,.05,N,y)&&([me,Te]=function xn(W,N,y,te){const me=zi(N,te),Te=ni(N,y);let We=0,it=0;if(me){const yt=W.scrollTop;1===me?yt>0&&(We=1):W.scrollHeight-yt>W.clientHeight&&(We=2)}if(Te){const yt=W.scrollLeft;1===Te?yt>0&&(it=1):W.scrollWidth-yt>W.clientWidth&&(it=2)}return[We,it]}(it,We.clientRect,N,y),(me||Te)&&(te=it))}),!me&&!Te){const{width:We,height:it}=this._viewportRuler.getViewportSize(),yt={width:We,height:it,top:0,right:We,bottom:it,left:0};me=zi(yt,y),Te=ni(yt,N),te=window}te&&(me!==this._verticalScrollDirection||Te!==this._horizontalScrollDirection||te!==this._scrollNode)&&(this._verticalScrollDirection=me,this._horizontalScrollDirection=Te,this._scrollNode=te,(me||Te)&&te?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const N=(0,He.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=N.msScrollSnapType||N.scrollSnapType||"",N.scrollSnapType=N.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const N=(0,He.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(N).clientRect}_cacheItemPositions(){const N="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(y=>{const te=y.getVisibleElement();return{drag:y,offset:0,initialTransform:te.style.transform||"",clientRect:gn(te)}}).sort((y,te)=>N?y.clientRect.left-te.clientRect.left:y.clientRect.top-te.clientRect.top)}_reset(){this._isDragging=!1;const N=(0,He.fI)(this.element).style;N.scrollSnapType=N.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(y=>{var te;const me=y.getRootElement();if(me){const Te=null===(te=this._itemPositions.find(We=>We.drag===y))||void 0===te?void 0:te.initialTransform;me.style.transform=Te||""}}),this._siblings.forEach(y=>y._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(N,y,te){const me="horizontal"===this._orientation,Te=y[N].clientRect,We=y[N+-1*te];let it=Te[me?"width":"height"]*te;if(We){const yt=me?"left":"top",mt=me?"right":"bottom";-1===te?it-=We.clientRect[yt]-Te[mt]:it+=Te[yt]-We.clientRect[mt]}return it}_getItemOffsetPx(N,y,te){const me="horizontal"===this._orientation;let Te=me?y.left-N.left:y.top-N.top;return-1===te&&(Te+=me?y.width-N.width:y.height-N.height),Te}_shouldEnterAsFirstChild(N,y){if(!this._activeDraggables.length)return!1;const te=this._itemPositions,me="horizontal"===this._orientation;if(te[0].drag!==this._activeDraggables[0]){const We=te[te.length-1].clientRect;return me?N>=We.right:y>=We.bottom}{const We=te[0].clientRect;return me?N<=We.left:y<=We.top}}_getItemIndexFromPointerPosition(N,y,te,me){const Te="horizontal"===this._orientation,We=this._itemPositions.findIndex(({drag:it,clientRect:yt})=>{if(it===N)return!1;if(me){const mt=Te?me.x:me.y;if(it===this._previousSwap.drag&&this._previousSwap.overlaps&&mt===this._previousSwap.delta)return!1}return Te?y>=Math.floor(yt.left)&&y<Math.floor(yt.right):te>=Math.floor(yt.top)&&te<Math.floor(yt.bottom)});return-1!==We&&this.sortPredicate(We,N,this)?We:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(N,y){return null!=this._clientRect&&It(this._clientRect,N,y)}_getSiblingContainerFromPosition(N,y,te){return this._siblings.find(me=>me._canReceive(N,y,te))}_canReceive(N,y,te){if(!this._clientRect||!It(this._clientRect,y,te)||!this.enterPredicate(N,this))return!1;const me=this._getShadowRoot().elementFromPoint(y,te);if(!me)return!1;const Te=(0,He.fI)(this.element);return me===Te||Te.contains(me)}_startReceiving(N,y){const te=this._activeSiblings;!te.has(N)&&y.every(me=>this.enterPredicate(me,this)||this._draggables.indexOf(me)>-1)&&(te.add(N),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(N){this._activeSiblings.delete(N),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(N=>{if(this.isDragging()){const y=this._parentPositions.handleScroll(N);y&&(this._itemPositions.forEach(({clientRect:te})=>{hi(te,y.top,y.left)}),this._itemPositions.forEach(({drag:te})=>{this._dragDropRegistry.isDragging(te)&&te._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const N=(0,Se.kV)((0,He.fI)(this.element));this._cachedShadowRoot=N||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const N=this._activeDraggables.filter(y=>y.isDragging());this._siblings.forEach(y=>y._startReceiving(this,N))}}function zi(W,N){const{top:y,bottom:te,height:me}=W,Te=.05*me;return N>=y-Te&&N<=y+Te?1:N>=te-Te&&N<=te+Te?2:0}function ni(W,N){const{left:y,right:te,width:me}=W,Te=.05*me;return N>=y-Te&&N<=y+Te?1:N>=te-Te&&N<=te+Te?2:0}const Ci=(0,Se.i$)({passive:!1,capture:!0});let Xi=(()=>{class W{constructor(y,te){this._ngZone=y,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=me=>me.isDragging(),this.pointerMove=new fe.x,this.pointerUp=new fe.x,this.scroll=new fe.x,this._preventDefaultWhileDragging=me=>{this._activeDragInstances.length>0&&me.preventDefault()},this._persistentTouchmoveListener=me=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&me.preventDefault(),this.pointerMove.next(me))},this._document=te}registerDropContainer(y){this._dropInstances.has(y)||this._dropInstances.add(y)}registerDragItem(y){this._dragInstances.add(y),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ci)})}removeDropContainer(y){this._dropInstances.delete(y)}removeDragItem(y){this._dragInstances.delete(y),this.stopDragging(y),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ci)}startDragging(y,te){if(!(this._activeDragInstances.indexOf(y)>-1)&&(this._activeDragInstances.push(y),1===this._activeDragInstances.length)){const me=te.type.startsWith("touch");this._globalListeners.set(me?"touchend":"mouseup",{handler:Te=>this.pointerUp.next(Te),options:!0}).set("scroll",{handler:Te=>this.scroll.next(Te),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ci}),me||this._globalListeners.set("mousemove",{handler:Te=>this.pointerMove.next(Te),options:Ci}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((Te,We)=>{this._document.addEventListener(We,Te.handler,Te.options)})})}}stopDragging(y){const te=this._activeDragInstances.indexOf(y);te>-1&&(this._activeDragInstances.splice(te,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(y){return this._activeDragInstances.indexOf(y)>-1}scrolled(y){const te=[this.scroll];return y&&y!==this._document&&te.push(new Hi.y(me=>this._ngZone.runOutsideAngular(()=>{const We=it=>{this._activeDragInstances.length&&me.next(it)};return y.addEventListener("scroll",We,!0),()=>{y.removeEventListener("scroll",We,!0)}}))),(0,Ui.T)(...te)}ngOnDestroy(){this._dragInstances.forEach(y=>this.removeDragItem(y)),this._dropInstances.forEach(y=>this.removeDropContainer(y)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((y,te)=>{this._document.removeEventListener(te,y.handler,y.options)}),this._globalListeners.clear()}}return W.\u0275fac=function(y){return new(y||W)(f.LFG(f.R0b),f.LFG(M.K0))},W.\u0275prov=f.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();const _n={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let mn=(()=>{class W{constructor(y,te,me,Te){this._document=y,this._ngZone=te,this._viewportRuler=me,this._dragDropRegistry=Te}createDrag(y,te=_n){return new pi(y,te,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(y){return new wi(y,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return W.\u0275fac=function(y){return new(y||W)(f.LFG(M.K0),f.LFG(f.R0b),f.LFG(an.rL),f.LFG(Xi))},W.\u0275prov=f.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})(),Vn=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({providers:[mn],imports:[an.ZD]}),W})(),Un=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,Li.hJ,bn.m8,In.T,Vn],bn.m8,Vn]}),W})();var Mn=ce(2490);let ts=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,xe.u5,xe.UX,ie.yI,i.VN]]}),W})(),is=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,ie.yI,xe.u5,xe.UX,i.VN]]}),W})(),Bi=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,ie.yI,xe.u5,xe.UX,i.VN]]}),W})(),un=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,Me.mO],Me.mO]}),W})(),ns=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,Me.ZQ,Mn.xC,X.o]]}),W})(),Jn=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({providers:[],imports:[[]]}),W})(),ss=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,Ti.m]]}),W})();var Gi=ce(405);let ms=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,Gi.k,un,xe.u5,Me.HK],Gi.k]}),W})();var Wn=ce(4521),en=(ce(7278),ce(330));let tn=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[M.ez,Me.XC,en.vI]]}),W})();var Qi=ce(1822);const On=[M.ez,xe.u5,xe.UX,et,Me.dT,At,gt.Ud,i.VN,Ze.V,ft.h,Me.HK,Gt,Vt,St,wt,Ge.U8,qe.w,$,Re,be,Ee.uH,Be,Ye.q,Qe.VI,Tt,$i,Di.Is,yi.To,Si.Cq,at.t,xi.ie,ti.p0,I,Me.bz,ie.yI,Me.XC,X.o,Ii.D,Jn,Me.Oz,Ti.m,rn,on.Z,Tn.H,Un,Mn.xC,ts,is,Bi,un,Me.ZQ,ns,ss,ms,Wn.Bz,tn,Me.ZS,Qi.S];let nn=(()=>{class W{}return W.\u0275fac=function(y){return new(y||W)},W.\u0275mod=f.oAB({type:W}),W.\u0275inj=f.cJS({imports:[[...On],M.ez,xe.u5,xe.UX,et,Me.dT,At,gt.Ud,i.VN,Ze.V,ft.h,Me.HK,Gt,Vt,St,wt,Ge.U8,qe.w,$,Re,be,Ee.uH,Be,Ye.q,Qe.VI,Tt,$i,Di.Is,yi.To,Si.Cq,at.t,xi.ie,ti.p0,I,Me.bz,ie.yI,Me.XC,X.o,Ii.D,Jn,Me.Oz,Ti.m,rn,on.Z,Tn.H,Un,Mn.xC,ts,is,Bi,un,Me.ZQ,ns,ss,ms,Wn.Bz,tn,Me.ZS,Qi.S]}),W})()},6553:function(Xe,de){var i,xe=function(){this._tweens={},this._tweensAddedDuringUpdate={}};xe.prototype={getAll:function(){return Object.keys(this._tweens).map(function(M){return this._tweens[M]}.bind(this))},removeAll:function(){this._tweens={}},add:function(M){this._tweens[M.getId()]=M,this._tweensAddedDuringUpdate[M.getId()]=M},remove:function(M){delete this._tweens[M.getId()],delete this._tweensAddedDuringUpdate[M.getId()]},update:function(M,f){var I=Object.keys(this._tweens);if(0===I.length)return!1;for(M=void 0!==M?M:ie.now();I.length>0;){this._tweensAddedDuringUpdate={};for(var d=0;d<I.length;d++){var A=this._tweens[I[d]];A&&!1===A.update(M)&&(A._isPlaying=!1,f||delete this._tweens[I[d]])}I=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var M,ie=new xe;ie.Group=xe,ie._nextId=0,ie.nextId=function(){return ie._nextId++},ie.now="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var M=process.hrtime();return 1e3*M[0]+M[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},ie.Tween=function(M,f){this._object=M,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=ie.Easing.Linear.None,this._interpolationFunction=ie.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=f||ie,this._id=ie.nextId()},ie.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(M,f){return this._valuesEnd=M,void 0!==f&&(this._duration=f),this},duration:function(f){return this._duration=f,this},start:function(M){for(var f in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==M?"string"==typeof M?ie.now()+parseFloat(M):M:ie.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[f]instanceof Array){if(0===this._valuesEnd[f].length)continue;this._valuesEnd[f]=[this._object[f]].concat(this._valuesEnd[f])}void 0!==this._object[f]&&(this._valuesStart[f]=this._object[f],this._valuesStart[f]instanceof Array||(this._valuesStart[f]*=1),this._valuesStartRepeat[f]=this._valuesStart[f]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var M=0,f=this._chainedTweens.length;M<f;M++)this._chainedTweens[M].stop()},group:function(M){return this._group=M,this},delay:function(M){return this._delayTime=M,this},repeat:function(M){return this._repeat=M,this},repeatDelay:function(M){return this._repeatDelayTime=M,this},yoyo:function(M){return this._yoyo=M,this},easing:function(M){return this._easingFunction=M,this},interpolation:function(M){return this._interpolationFunction=M,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(M){return this._onStartCallback=M,this},onUpdate:function(M){return this._onUpdateCallback=M,this},onRepeat:function(f){return this._onRepeatCallback=f,this},onComplete:function(M){return this._onCompleteCallback=M,this},onStop:function(M){return this._onStopCallback=M,this},update:function(M){var f,I,d;if(M<this._startTime)return!0;for(f in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),I=(M-this._startTime)/this._duration,d=this._easingFunction(I=0===this._duration||I>1?1:I),this._valuesEnd)if(void 0!==this._valuesStart[f]){var A=this._valuesStart[f]||0,g=this._valuesEnd[f];g instanceof Array?this._object[f]=this._interpolationFunction(g,d):("string"==typeof g&&(g="+"===g.charAt(0)||"-"===g.charAt(0)?A+parseFloat(g):parseFloat(g)),"number"==typeof g&&(this._object[f]=A+(g-A)*d))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,I),1===I){if(this._repeat>0){for(f in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[f]&&(this._valuesStartRepeat[f]=this._valuesStartRepeat[f]+parseFloat(this._valuesEnd[f])),this._yoyo){var C=this._valuesStartRepeat[f];this._valuesStartRepeat[f]=this._valuesEnd[f],this._valuesEnd[f]=C}this._valuesStart[f]=this._valuesStartRepeat[f]}return this._yoyo&&(this._reversed=!this._reversed),this._startTime=void 0!==this._repeatDelayTime?M+this._repeatDelayTime:M+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var E=0,l=this._chainedTweens.length;E<l;E++)this._chainedTweens[E].start(this._startTime+this._duration);return!1}return!0}},ie.Easing={Linear:{None:function(M){return M}},Quadratic:{In:function(M){return M*M},Out:function(M){return M*(2-M)},InOut:function(M){return(M*=2)<1?.5*M*M:-.5*(--M*(M-2)-1)}},Cubic:{In:function(M){return M*M*M},Out:function(M){return--M*M*M+1},InOut:function(M){return(M*=2)<1?.5*M*M*M:.5*((M-=2)*M*M+2)}},Quartic:{In:function(M){return M*M*M*M},Out:function(M){return 1- --M*M*M*M},InOut:function(M){return(M*=2)<1?.5*M*M*M*M:-.5*((M-=2)*M*M*M-2)}},Quintic:{In:function(M){return M*M*M*M*M},Out:function(M){return--M*M*M*M*M+1},InOut:function(M){return(M*=2)<1?.5*M*M*M*M*M:.5*((M-=2)*M*M*M*M+2)}},Sinusoidal:{In:function(M){return 1-Math.cos(M*Math.PI/2)},Out:function(M){return Math.sin(M*Math.PI/2)},InOut:function(M){return.5*(1-Math.cos(Math.PI*M))}},Exponential:{In:function(M){return 0===M?0:Math.pow(1024,M-1)},Out:function(M){return 1===M?1:1-Math.pow(2,-10*M)},InOut:function(M){return 0===M?0:1===M?1:(M*=2)<1?.5*Math.pow(1024,M-1):.5*(2-Math.pow(2,-10*(M-1)))}},Circular:{In:function(M){return 1-Math.sqrt(1-M*M)},Out:function(M){return Math.sqrt(1- --M*M)},InOut:function(M){return(M*=2)<1?-.5*(Math.sqrt(1-M*M)-1):.5*(Math.sqrt(1-(M-=2)*M)+1)}},Elastic:{In:function(M){return 0===M?0:1===M?1:-Math.pow(2,10*(M-1))*Math.sin(5*(M-1.1)*Math.PI)},Out:function(M){return 0===M?0:1===M?1:Math.pow(2,-10*M)*Math.sin(5*(M-.1)*Math.PI)+1},InOut:function(M){return 0===M?0:1===M?1:(M*=2)<1?-.5*Math.pow(2,10*(M-1))*Math.sin(5*(M-1.1)*Math.PI):.5*Math.pow(2,-10*(M-1))*Math.sin(5*(M-1.1)*Math.PI)+1}},Back:{In:function(M){var f=1.70158;return M*M*((f+1)*M-f)},Out:function(M){var f=1.70158;return--M*M*((f+1)*M+f)+1},InOut:function(M){var f=2.5949095;return(M*=2)<1?M*M*((f+1)*M-f)*.5:.5*((M-=2)*M*((f+1)*M+f)+2)}},Bounce:{In:function(M){return 1-ie.Easing.Bounce.Out(1-M)},Out:function(M){return M<1/2.75?7.5625*M*M:M<2/2.75?7.5625*(M-=1.5/2.75)*M+.75:M<2.5/2.75?7.5625*(M-=2.25/2.75)*M+.9375:7.5625*(M-=2.625/2.75)*M+.984375},InOut:function(M){return M<.5?.5*ie.Easing.Bounce.In(2*M):.5*ie.Easing.Bounce.Out(2*M-1)+.5}}},ie.Interpolation={Linear:function(M,f){var I=M.length-1,d=I*f,A=Math.floor(d),g=ie.Interpolation.Utils.Linear;return f<0?g(M[0],M[1],d):f>1?g(M[I],M[I-1],I-d):g(M[A],M[A+1>I?I:A+1],d-A)},Bezier:function(M,f){for(var I=0,d=M.length-1,A=Math.pow,g=ie.Interpolation.Utils.Bernstein,C=0;C<=d;C++)I+=A(1-f,d-C)*A(f,C)*M[C]*g(d,C);return I},CatmullRom:function(M,f){var I=M.length-1,d=I*f,A=Math.floor(d),g=ie.Interpolation.Utils.CatmullRom;return M[0]===M[I]?(f<0&&(A=Math.floor(d=I*(1+f))),g(M[(A-1+I)%I],M[A],M[(A+1)%I],M[(A+2)%I],d-A)):f<0?M[0]-(g(M[0],M[0],M[1],M[1],-d)-M[0]):f>1?M[I]-(g(M[I],M[I],M[I-1],M[I-1],d-I)-M[I]):g(M[A?A-1:0],M[A],M[I<A+1?I:A+1],M[I<A+2?I:A+2],d-A)},Utils:{Linear:function(M,f,I){return(f-M)*I+M},Bernstein:function(M,f){var I=ie.Interpolation.Utils.Factorial;return I(M)/I(f)/I(M-f)},Factorial:(M=[1],function(f){var I=1;if(M[f])return M[f];for(var d=f;d>1;d--)I*=d;return M[f]=I,I}),CatmullRom:function(M,f,I,d,A){var g=.5*(I-M),C=.5*(d-f),E=A*A;return(2*f-2*I+g+C)*(A*E)+(-3*f+3*I-2*g-C)*E+g*A+f}}},void 0!==(i=function(){return ie}.apply(de,[]))&&(Xe.exports=i)},1778:(Xe,de,ce)=>{"use strict";ce.d(de,{JO:()=>hi,KO:()=>It,Z2:()=>Ui,ck:()=>Hi});var i=ce(5e3),xe=ce(3075),ie=ce(9808),M=ce(7579),f=ce(6553),d=ce(8372),A=ce(1884),g=ce(8505);function C(pe,Je){1&pe&&(i.O4$(),i.TgZ(0,"svg",4)(1,"g"),i._UZ(2,"path",5),i.qZA()())}function E(pe,Je){1&pe&&(i.O4$(),i.TgZ(0,"svg",6)(1,"g")(2,"g",7)(3,"g"),i._UZ(4,"path",8),i.qZA()()()())}function l(pe,Je){1&pe&&(i.O4$(),i.TgZ(0,"svg",6)(1,"g")(2,"g",9)(3,"g"),i._UZ(4,"path",10),i.qZA()()()())}function T(pe,Je){1&pe&&(i.O4$(),i.TgZ(0,"svg",11)(1,"g")(2,"g")(3,"g",12)(4,"g"),i._UZ(5,"path",13),i.qZA()()()()())}function _(pe,Je){1&pe&&(i.O4$(),i.TgZ(0,"svg",14)(1,"g"),i._UZ(2,"path",15),i.qZA()())}const H=["header"],oe=["container"],O=["content"],q=["invisiblePadding"],b=["*"],v=["searchInput"],K=["selectedList"],x=["dropdownList"],B=["cuppaDropdown"];function V(pe,Je){if(1&pe&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&pe){const S=i.oxw();i.xp6(1),i.Oqu(S.settings.text)}}function L(pe,Je){if(1&pe&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&pe){const S=Je.$implicit,k=i.oxw(2);i.xp6(1),i.hij(" ",S[k.settings.labelKey]," ")}}function G(pe,Je){if(1&pe&&(i.TgZ(0,"span"),i.YNc(1,L,2,1,"span",22),i.qZA()),2&pe){const S=i.oxw();i.xp6(1),i.Q6J("ngForOf",S.selectedItems)("ngForTrackBy",S.trackByFn.bind(S))}}function ne(pe,Je){if(1&pe&&(i.TgZ(0,"span",29),i._uU(1),i.qZA()),2&pe){const S=i.oxw().$implicit,k=i.oxw(2);i.xp6(1),i.Oqu(S[k.settings.labelKey])}}function le(pe,Je){if(1&pe&&(i.TgZ(0,"span",29),i._UZ(1,"c-templateRenderer",30),i.qZA()),2&pe){const S=i.oxw().$implicit,k=i.oxw(2);i.xp6(1),i.Q6J("data",k.badgeTempl)("item",S)}}function ue(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"div",25),i.YNc(1,ne,2,1,"span",26),i.YNc(2,le,2,2,"span",26),i.TgZ(3,"span",27),i.NdJ("click",function(Ae){const De=i.CHM(S),ct=De.$implicit,nt=De.index;return i.oxw(2).onItemClick(ct,nt,Ae),Ae.stopPropagation()}),i._UZ(4,"c-icon",28),i.qZA()()}if(2&pe){const S=i.oxw(2);i.xp6(1),i.Q6J("ngIf",!S.badgeTempl),i.xp6(1),i.Q6J("ngIf",S.badgeTempl),i.xp6(2),i.Q6J("name","remove")}}function _e(pe,Je){if(1&pe&&(i.TgZ(0,"span",23),i.YNc(1,ue,5,3,"div",24),i.qZA()),2&pe){const S=i.oxw();i.xp6(1),i.Q6J("ngForOf",S.selectedItems)("ngForTrackBy",S.trackByFn.bind(S))}}function he(pe,Je){if(1&pe&&(i.TgZ(0,"span",29),i._uU(1),i.qZA()),2&pe){const S=i.oxw().$implicit,k=i.oxw(2);i.xp6(1),i.Oqu(S[k.settings.labelKey])}}function Ce(pe,Je){if(1&pe&&(i.TgZ(0,"span",29),i._UZ(1,"c-templateRenderer",30),i.qZA()),2&pe){const S=i.oxw().$implicit,k=i.oxw(2);i.xp6(1),i.Q6J("data",k.badgeTempl)("item",S)}}function ee(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"div",32),i.YNc(1,he,2,1,"span",26),i.YNc(2,Ce,2,2,"span",26),i.TgZ(3,"span",27),i.NdJ("click",function(Ae){const De=i.CHM(S),ct=De.$implicit,nt=De.index;return i.oxw(2).onItemClick(ct,nt,Ae),Ae.stopPropagation()}),i._UZ(4,"c-icon",28),i.qZA()()}if(2&pe){const S=Je.index,k=i.oxw(2);i.Q6J("hidden",S>k.settings.badgeShowLimit-1),i.xp6(1),i.Q6J("ngIf",!k.badgeTempl),i.xp6(1),i.Q6J("ngIf",k.badgeTempl),i.xp6(2),i.Q6J("name","remove")}}function F(pe,Je){if(1&pe&&(i.TgZ(0,"div",23),i.YNc(1,ee,5,4,"div",31),i.qZA()),2&pe){const S=i.oxw();i.xp6(1),i.Q6J("ngForOf",S.selectedItems)("ngForTrackBy",S.trackByFn.bind(S))}}function R(pe,Je){if(1&pe&&(i.TgZ(0,"span",33),i._uU(1),i.qZA()),2&pe){const S=i.oxw();i.xp6(1),i.hij("+",(null==S.selectedItems?null:S.selectedItems.length)-S.settings.badgeShowLimit,"")}}function j(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"span",34),i.NdJ("click",function(Ae){return i.CHM(S),i.oxw().clearSelection(Ae),Ae.stopPropagation()}),i._UZ(1,"c-icon",28),i.qZA()}2&pe&&(i.xp6(1),i.Q6J("name","remove"))}function Y(pe,Je){1&pe&&(i.TgZ(0,"span",35),i._UZ(1,"c-icon",28),i.qZA()),2&pe&&(i.xp6(1),i.Q6J("name","angle-down"))}function Q(pe,Je){1&pe&&(i.TgZ(0,"span",36),i._UZ(1,"c-icon",28),i.qZA()),2&pe&&(i.xp6(1),i.Q6J("name","angle-up"))}function m(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"input",41),i.NdJ("change",function(Ae){return i.CHM(S),i.oxw(2).toggleSelectAll(Ae)}),i.qZA()}if(2&pe){const S=i.oxw(2);i.Q6J("checked",S.isSelectAll)("disabled",S.settings.limitSelection==(null==S.selectedItems?null:S.selectedItems.length))("id",S.id)}}function U(pe,Je){if(1&pe&&(i.TgZ(0,"div",37),i.YNc(1,m,1,3,"input",38),i.TgZ(2,"label",39)(3,"span",40),i._uU(4),i.qZA(),i.TgZ(5,"span",40),i._uU(6),i.qZA()()()),2&pe){const S=i.oxw();i.xp6(1),i.Q6J("ngIf",S.settings.showCheckbox),i.xp6(1),i.Q6J("for",S.id),i.xp6(1),i.Q6J("hidden",S.isSelectAll),i.xp6(1),i.Oqu(S.settings.selectAllText),i.xp6(1),i.Q6J("hidden",!S.isSelectAll),i.xp6(1),i.Oqu(S.settings.unSelectAllText)}}function se(pe,Je){1&pe&&i._UZ(0,"img",42)}function ye(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"span",48),i.NdJ("click",function(){return i.CHM(S),i.oxw(2).clearSearch()}),i._UZ(1,"c-icon",28),i.qZA()}if(2&pe){const S=i.oxw(2);i.Q6J("hidden",null==S.filter||0==(null==S.filter?null:S.filter.length)),i.xp6(1),i.Q6J("name","clear")}}function Z(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"span",48),i.NdJ("click",function(){return i.CHM(S),i.oxw(2).resetInfiniteSearch()}),i._UZ(1,"c-icon",28),i.qZA()}if(2&pe){const S=i.oxw(2);i.Q6J("hidden",null==S.filter||0==(null==S.filter?null:S.filter.length)),i.xp6(1),i.Q6J("name","clear")}}function we(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"input",49,50),i.NdJ("ngModelChange",function(Ae){return i.CHM(S),i.oxw(2).filter=Ae})("keyup",function(){return i.CHM(S),i.oxw(2).filterGroupedList()}),i.qZA()}if(2&pe){const S=i.oxw(2);i.Q6J("placeholder",S.settings.searchPlaceholderText)("ngModel",S.filter)}}function ke(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"input",49,50),i.NdJ("ngModelChange",function(Ae){return i.CHM(S),i.oxw(2).filter=Ae})("keyup",function(Ae){return i.CHM(S),i.oxw(2).filteritems(Ae)}),i.qZA()}if(2&pe){const S=i.oxw(2);i.Q6J("placeholder",S.settings.searchPlaceholderText)("ngModel",S.filter)}}function Ne(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"input",49,50),i.NdJ("ngModelChange",function(Ae){return i.CHM(S),i.oxw(2).filter=Ae})("keyup",function(Ae){return i.CHM(S),i.oxw(2).onKeyUp(Ae)}),i.qZA()}if(2&pe){const S=i.oxw(2);i.Q6J("placeholder",S.settings.searchPlaceholderText)("ngModel",S.filter)}}function Fe(pe,Je){if(1&pe&&i._UZ(0,"c-templateRenderer",30),2&pe){const S=i.oxw(2);i.Q6J("data",S.searchTempl)("item",S.item)}}function Ue(pe,Je){if(1&pe&&(i.TgZ(0,"div",43)(1,"span",44),i._UZ(2,"c-icon",28),i.qZA(),i.YNc(3,ye,2,2,"span",45),i.YNc(4,Z,2,2,"span",45),i.YNc(5,we,2,2,"input",46),i.YNc(6,ke,2,2,"input",46),i.YNc(7,Ne,2,2,"input",46),i.YNc(8,Fe,1,2,"c-templateRenderer",47),i.qZA()),2&pe){const S=i.oxw();i.xp6(2),i.Q6J("name","search"),i.xp6(1),i.Q6J("ngIf",!S.settings.lazyLoading),i.xp6(1),i.Q6J("ngIf",S.settings.lazyLoading),i.xp6(1),i.Q6J("ngIf",S.settings.groupBy&&!S.settings.lazyLoading&&!S.searchTempl),i.xp6(1),i.Q6J("ngIf",!S.settings.groupBy&&!S.settings.lazyLoading&&!S.searchTempl),i.xp6(1),i.Q6J("ngIf",S.settings.lazyLoading&&!S.searchTempl),i.xp6(1),i.Q6J("ngIf",S.searchTempl)}}function rt(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"div",53),i.NdJ("click",function(){return i.CHM(S),i.oxw(2).toggleFilterSelectAll()}),i._UZ(1,"input",54),i.TgZ(2,"label")(3,"span",40),i._uU(4),i.qZA(),i.TgZ(5,"span",40),i._uU(6),i.qZA()()()}if(2&pe){const S=i.oxw(2);i.xp6(1),i.Q6J("checked",S.isFilterSelectAll)("disabled",S.settings.limitSelection==(null==S.selectedItems?null:S.selectedItems.length)),i.xp6(2),i.Q6J("hidden",S.isFilterSelectAll),i.xp6(1),i.Oqu(S.settings.filterSelectAllText),i.xp6(1),i.Q6J("hidden",!S.isFilterSelectAll),i.xp6(1),i.Oqu(S.settings.filterUnSelectAllText)}}function st(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"div",53),i.NdJ("click",function(){return i.CHM(S),i.oxw(2).toggleFilterSelectAll()}),i._UZ(1,"input",55),i.TgZ(2,"label")(3,"span",40),i._uU(4),i.qZA(),i.TgZ(5,"span",40),i._uU(6),i.qZA()()()}if(2&pe){const S=i.oxw(2);i.xp6(1),i.Q6J("checked",S.isFilterSelectAll&&(null==S.filter?null:S.filter.length)>0)("disabled",S.settings.limitSelection==(null==S.selectedItems?null:S.selectedItems.length)),i.xp6(2),i.Q6J("hidden",S.isFilterSelectAll),i.xp6(1),i.Oqu(S.settings.filterSelectAllText),i.xp6(1),i.Q6J("hidden",!S.isFilterSelectAll),i.xp6(1),i.Oqu(S.settings.filterUnSelectAllText)}}function pt(pe,Je){if(1&pe&&(i.TgZ(0,"div",51),i.YNc(1,rt,7,6,"div",52),i.YNc(2,st,7,6,"div",52),i.qZA()),2&pe){const S=i.oxw();i.xp6(1),i.Q6J("ngIf",!S.settings.groupBy&&(null==S.filter?null:S.filter.length)>0&&S.filterLength>0&&!S.settings.singleSelection),i.xp6(1),i.Q6J("ngIf",S.settings.groupBy&&(null==S.filter?null:S.filter.length)>0&&(null==S.groupedData?null:S.groupedData.length)>0&&!S.settings.singleSelection)}}function J(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"div",53),i.NdJ("click",function(){return i.CHM(S),i.oxw(2).toggleInfiniteFilterSelectAll()}),i._UZ(1,"input",55),i.TgZ(2,"label")(3,"span",40),i._uU(4),i.qZA(),i.TgZ(5,"span",40),i._uU(6),i.qZA()()()}if(2&pe){const S=i.oxw(2);i.xp6(1),i.Q6J("checked",S.isInfiniteFilterSelectAll)("disabled",S.settings.limitSelection==(null==S.selectedItems?null:S.selectedItems.length)),i.xp6(2),i.Q6J("hidden",S.isInfiniteFilterSelectAll),i.xp6(1),i.Oqu(S.settings.filterSelectAllText),i.xp6(1),i.Q6J("hidden",!S.isInfiniteFilterSelectAll),i.xp6(1),i.Oqu(S.settings.filterUnSelectAllText)}}function ve(pe,Je){if(1&pe&&(i.TgZ(0,"div",51),i.YNc(1,J,7,6,"div",52),i.qZA()),2&pe){const S=i.oxw();i.xp6(1),i.Q6J("ngIf",(null==S.filter?null:S.filter.length)>0&&S.infiniteFilterLength>0)}}function Be(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"div",57)(1,"button",58),i.NdJ("click",function(){return i.CHM(S),i.oxw(2).addFilterNewItem()}),i._uU(2),i.qZA()()}if(2&pe){const S=i.oxw(2);i.xp6(2),i.Oqu(S.settings.addNewButtonText)}}function Me(pe,Je){if(1&pe&&(i.TgZ(0,"div",51),i.YNc(1,Be,3,1,"div",56),i.qZA()),2&pe){const S=i.oxw();i.xp6(1),i.Q6J("ngIf",S.settings.addNewItemOnFilter)}}function Re(pe,Je){if(1&pe&&i._UZ(0,"input",55),2&pe){const S=i.oxw().$implicit,k=i.oxw(2);i.Q6J("checked",k.isSelected(S))("disabled",k.settings.limitSelection==(null==k.selectedItems?null:k.selectedItems.length)&&!k.isSelected(S)||S.disabled)}}const qe=function(pe){return{"selected-item":pe}};function et(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"li",62),i.NdJ("click",function(Ae){const De=i.CHM(S),ct=De.$implicit,nt=De.index;return i.oxw(2).onItemClick(ct,nt,Ae)}),i.YNc(1,Re,1,2,"input",63),i.TgZ(2,"label"),i._uU(3),i.qZA()()}if(2&pe){const S=Je.$implicit,k=i.oxw(2);i.Q6J("ngClass",i.VKq(3,qe,1==k.isSelected(S))),i.xp6(1),i.Q6J("ngIf",k.settings.showCheckbox),i.xp6(2),i.Oqu(S[k.settings.labelKey])}}function at(pe,Je){if(1&pe&&(i.TgZ(0,"div",59)(1,"ul",60),i.YNc(2,et,4,5,"li",61),i.qZA()()),2&pe){const S=i.oxw();i.Udp("max-height",S.settings.maxHeight+"px"),i.xp6(2),i.Q6J("ngForOf",S.data)}}function At(pe,Je){if(1&pe&&i._UZ(0,"input",67),2&pe){const S=i.oxw().$implicit,k=i.oxw(2);i.Q6J("checked",k.isSelected(S))("disabled",k.settings.limitSelection==(null==k.selectedItems?null:k.selectedItems.length)&&!k.isSelected(S)||S.disabled)}}function gt(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"li",62),i.NdJ("click",function(Ae){const De=i.CHM(S),ct=De.$implicit,nt=De.index;return i.oxw(2).onItemClick(ct,nt,Ae)}),i.YNc(1,At,1,2,"input",66),i.TgZ(2,"label"),i._uU(3),i.qZA()()}if(2&pe){const S=Je.$implicit,k=i.oxw(2);i.Q6J("ngClass",i.VKq(3,qe,1==k.isSelected(S))),i.xp6(1),i.Q6J("ngIf",k.settings.showCheckbox),i.xp6(2),i.Oqu(S[k.settings.labelKey])}}const Ze=function(pe){return{height:pe}};function ft(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"div",59)(1,"ul",64,65),i.NdJ("vsStart",function(Ae){return i.CHM(S),i.oxw().onScrollEnd(Ae)})("vsEnd",function(Ae){return i.CHM(S),i.oxw().onScrollEnd(Ae)}),i.YNc(3,gt,4,5,"li",61),i.qZA()()}if(2&pe){const S=i.MAs(2),k=i.oxw();i.Udp("max-height",k.settings.maxHeight+"px"),i.xp6(1),i.Q6J("enableUnequalChildrenSizes",k.randomSize)("items",k.virtualdata)("ngStyle",i.VKq(6,Ze,k.settings.maxHeight+"px")),i.xp6(2),i.Q6J("ngForOf",S.viewPortItems)}}function Vt(pe,Je){if(1&pe&&i._UZ(0,"input",67),2&pe){const S=i.oxw().$implicit,k=i.oxw(2);i.Q6J("checked",k.isSelected(S))("disabled",k.settings.limitSelection==(null==k.selectedItems?null:k.selectedItems.length)&&!k.isSelected(S)||S.disabled)}}function St(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"li",62),i.NdJ("click",function(Ae){const De=i.CHM(S),ct=De.$implicit,nt=De.index;return i.oxw(2).onItemClick(ct,nt,Ae)}),i.YNc(1,Vt,1,2,"input",66),i._UZ(2,"label")(3,"c-templateRenderer",30),i.qZA()}if(2&pe){const S=Je.$implicit,k=i.oxw(2);i.Q6J("ngClass",i.VKq(4,qe,1==k.isSelected(S))),i.xp6(1),i.Q6J("ngIf",k.settings.showCheckbox),i.xp6(2),i.Q6J("data",k.itemTempl)("item",S)}}function wt(pe,Je){if(1&pe&&(i.TgZ(0,"div",59)(1,"ul",60),i.YNc(2,St,4,6,"li",61),i.qZA()()),2&pe){const S=i.oxw();i.Udp("max-height",S.settings.maxHeight+"px"),i.xp6(2),i.Q6J("ngForOf",S.data)}}function si(pe,Je){if(1&pe&&i._UZ(0,"input",67),2&pe){const S=i.oxw().$implicit,k=i.oxw(2);i.Q6J("checked",k.isSelected(S))("disabled",k.settings.limitSelection==(null==k.selectedItems?null:k.selectedItems.length)&&!k.isSelected(S)||S.disabled)}}function Gt(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"li",62),i.NdJ("click",function(Ae){const De=i.CHM(S),ct=De.$implicit,nt=De.index;return i.oxw(2).onItemClick(ct,nt,Ae)}),i.YNc(1,si,1,2,"input",66),i._UZ(2,"label")(3,"c-templateRenderer",30),i.qZA()}if(2&pe){const S=Je.$implicit,k=i.oxw(2);i.Q6J("ngClass",i.VKq(4,qe,1==k.isSelected(S))),i.xp6(1),i.Q6J("ngIf",k.settings.showCheckbox),i.xp6(2),i.Q6J("data",k.itemTempl)("item",S)}}function Ge(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"div",59)(1,"ul",64,68),i.NdJ("vsStart",function(Ae){return i.CHM(S),i.oxw().onScrollEnd(Ae)})("vsEnd",function(Ae){return i.CHM(S),i.oxw().onScrollEnd(Ae)}),i.YNc(3,Gt,4,6,"li",61),i.qZA()()}if(2&pe){const S=i.MAs(2),k=i.oxw();i.Udp("max-height",k.settings.maxHeight+"px"),i.xp6(1),i.Q6J("enableUnequalChildrenSizes",k.randomSize)("items",k.virtualdata)("ngStyle",i.VKq(6,Ze,k.settings.maxHeight+"px")),i.xp6(2),i.Q6J("ngForOf",S.viewPortItems)}}function $(pe,Je){if(1&pe&&i._UZ(0,"input",67),2&pe){const S=i.oxw(2).$implicit,k=i.oxw(2);i.Q6J("checked",k.isSelected(S))("disabled",k.settings.limitSelection==(null==k.selectedItems?null:k.selectedItems.length)&&!k.isSelected(S)||S.disabled)}}const X=function(pe,Je){return{"grp-title":pe,"grp-item":Je}};function be(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"li",62),i.NdJ("click",function(Ae){i.CHM(S);const De=i.oxw(),ct=De.$implicit,nt=De.index;return i.oxw(2).onItemClick(ct,nt,Ae)}),i.YNc(1,$,1,2,"input",66),i._UZ(2,"label")(3,"c-templateRenderer",30),i.qZA()}if(2&pe){const S=i.oxw().$implicit,k=i.oxw(2);i.Q6J("ngClass",i.WLB(4,X,S.grpTitle,!S.grpTitle&&!k.settings.singleSelection)),i.xp6(1),i.Q6J("ngIf",k.settings.showCheckbox&&!k.settings.singleSelection),i.xp6(2),i.Q6J("data",k.itemTempl)("item",S)}}function Ee(pe,Je){if(1&pe&&i._UZ(0,"input",67),2&pe){const S=i.oxw(2).$implicit,k=i.oxw(2);i.Q6J("checked",k.isSelected(S))("disabled",k.settings.limitSelection==(null==k.selectedItems?null:k.selectedItems.length)&&!k.isSelected(S)||S.disabled)}}function Ye(pe,Je){if(1&pe&&(i.TgZ(0,"li",73),i.YNc(1,Ee,1,2,"input",66),i._UZ(2,"label")(3,"c-templateRenderer",30),i.qZA()),2&pe){const S=i.oxw().$implicit,k=i.oxw(2);i.Q6J("ngClass",i.WLB(4,X,S.grpTitle,!S.grpTitle&&!k.settings.singleSelection)),i.xp6(1),i.Q6J("ngIf",k.settings.showCheckbox),i.xp6(2),i.Q6J("data",k.itemTempl)("item",S)}}function Qe(pe,Je){if(1&pe&&(i.TgZ(0,"span"),i.YNc(1,be,4,7,"li",71),i.YNc(2,Ye,4,7,"li",72),i.qZA()),2&pe){const S=Je.$implicit;i.xp6(1),i.Q6J("ngIf",!S.grpTitle),i.xp6(1),i.Q6J("ngIf",S.grpTitle)}}function lt(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"div",59)(1,"ul",64,69),i.NdJ("vsStart",function(Ae){return i.CHM(S),i.oxw().onScrollEnd(Ae)})("vsEnd",function(Ae){return i.CHM(S),i.oxw().onScrollEnd(Ae)}),i.YNc(3,Qe,3,2,"span",70),i.qZA()()}if(2&pe){const S=i.MAs(2),k=i.oxw();i.Udp("max-height",k.settings.maxHeight+"px"),i.xp6(1),i.Q6J("enableUnequalChildrenSizes",k.randomSize)("items",k.virtualdata)("ngStyle",i.VKq(6,Ze,k.settings.maxHeight+"px")),i.xp6(2),i.Q6J("ngForOf",S.viewPortItems)}}function Tt(pe,Je){if(1&pe&&i._UZ(0,"input",67),2&pe){const S=i.oxw().$implicit,k=i.oxw(2);i.Q6J("checked",S.selected)("disabled",k.settings.limitSelection==(null==k.selectedItems?null:k.selectedItems.length)&&!k.isSelected(S)||S.disabled)}}function Ht(pe,Je){if(1&pe&&i._UZ(0,"input",67),2&pe){const S=i.oxw().$implicit,k=i.oxw(3);i.Q6J("checked",k.isSelected(S))("disabled",k.settings.limitSelection==(null==k.selectedItems?null:k.selectedItems.length)&&!k.isSelected(S)||S.disabled)}}function Wt(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"span")(1,"li",62),i.NdJ("click",function(Ae){const De=i.CHM(S),ct=De.$implicit,nt=De.index;return i.oxw(3).onItemClick(ct,nt,Ae),Ae.stopPropagation()}),i.YNc(2,Ht,1,2,"input",66),i._UZ(3,"label")(4,"c-templateRenderer",30),i.qZA()()}if(2&pe){const S=Je.$implicit,k=i.oxw(3);i.xp6(1),i.Q6J("ngClass",i.WLB(4,X,S.grpTitle,!S.grpTitle&&!k.settings.singleSelection)),i.xp6(1),i.Q6J("ngIf",k.settings.showCheckbox),i.xp6(2),i.Q6J("data",k.itemTempl)("item",S)}}function ui(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"span")(1,"li",62),i.NdJ("click",function(){const De=i.CHM(S).$implicit;return i.oxw(2).selectGroup(De)}),i.YNc(2,Tt,1,2,"input",66),i.TgZ(3,"label"),i._uU(4),i.qZA(),i.TgZ(5,"ul",60),i.YNc(6,Wt,5,7,"span",70),i.qZA()()()}if(2&pe){const S=Je.$implicit,k=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.WLB(4,X,S.grpTitle,!S.grpTitle&&!k.settings.singleSelection)),i.xp6(1),i.Q6J("ngIf",k.settings.showCheckbox&&!k.settings.singleSelection),i.xp6(2),i.Oqu(S[k.settings.labelKey]),i.xp6(2),i.Q6J("ngForOf",S.list)}}function ai(pe,Je){if(1&pe&&(i.TgZ(0,"div",59)(1,"ul",60),i.YNc(2,ui,7,7,"span",70),i.qZA()()),2&pe){const S=i.oxw();i.Udp("max-height",S.settings.maxHeight+"px"),i.xp6(2),i.Q6J("ngForOf",S.groupedData)}}function Oi(pe,Je){if(1&pe&&i._UZ(0,"input",67),2&pe){const S=i.oxw(2).$implicit,k=i.oxw(2);i.Q6J("checked",k.isSelected(S))("disabled",k.settings.limitSelection==(null==k.selectedItems?null:k.selectedItems.length)&&!k.isSelected(S)||S.disabled)}}const $t=function(pe,Je,S){return{"grp-title":pe,"grp-item":Je,"selected-item":S}};function $i(pe,Je){if(1&pe&&(i.TgZ(0,"li",73),i.YNc(1,Oi,1,2,"input",66),i.TgZ(2,"label"),i._uU(3),i.qZA()()),2&pe){const S=i.oxw().$implicit,k=i.oxw(2);i.Q6J("ngClass",i.kEZ(3,$t,S.grpTitle,!S.grpTitle&&!k.settings.singleSelection,1==k.isSelected(S))),i.xp6(1),i.Q6J("ngIf",k.settings.showCheckbox&&!S.grpTitle&&!k.settings.singleSelection),i.xp6(2),i.Oqu(S[k.settings.labelKey])}}function Di(pe,Je){if(1&pe&&i._UZ(0,"input",67),2&pe){const S=i.oxw(2).$implicit,k=i.oxw(2);i.Q6J("checked",k.isSelected(S))("disabled",k.settings.limitSelection==(null==k.selectedItems?null:k.selectedItems.length)&&!k.isSelected(S)||S.disabled)}}function yi(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"li",62),i.NdJ("click",function(Ae){i.CHM(S);const De=i.oxw(),ct=De.$implicit,nt=De.index;return i.oxw(2).onItemClick(ct,nt,Ae)}),i.YNc(1,Di,1,2,"input",66),i.TgZ(2,"label"),i._uU(3),i.qZA()()}if(2&pe){const S=i.oxw().$implicit,k=i.oxw(2);i.Q6J("ngClass",i.kEZ(3,$t,S.grpTitle,!S.grpTitle&&!k.settings.singleSelection,1==k.isSelected(S))),i.xp6(1),i.Q6J("ngIf",k.settings.showCheckbox&&!S.grpTitle),i.xp6(2),i.Oqu(S[k.settings.labelKey])}}function Si(pe,Je){if(1&pe&&(i.TgZ(0,"span"),i.YNc(1,$i,4,7,"li",72),i.YNc(2,yi,4,7,"li",71),i.qZA()),2&pe){const S=Je.$implicit;i.xp6(1),i.Q6J("ngIf",S.grpTitle),i.xp6(1),i.Q6J("ngIf",!S.grpTitle)}}function xi(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"div",59)(1,"virtual-scroller",74),i.NdJ("vsUpdate",function(Ae){return i.CHM(S),i.oxw().viewPortItems=Ae})("vsEnd",function(Ae){return i.CHM(S),i.oxw().onScrollEnd(Ae)}),i.TgZ(2,"ul",64,75),i.NdJ("vsStart",function(Ae){return i.CHM(S),i.oxw().onScrollEnd(Ae)})("vsEnd",function(Ae){return i.CHM(S),i.oxw().onScrollEnd(Ae)}),i.YNc(4,Si,3,2,"span",70),i.qZA()()()}if(2&pe){const S=i.MAs(3),k=i.oxw();i.Udp("max-height",k.settings.maxHeight+"px"),i.xp6(1),i.Q6J("items",k.groupedData)("ngStyle",i.VKq(8,Ze,k.settings.maxHeight+"px")),i.xp6(1),i.Q6J("enableUnequalChildrenSizes",k.randomSize)("items",k.virtualdata)("ngStyle",i.VKq(10,Ze,k.settings.maxHeight+"px")),i.xp6(2),i.Q6J("ngForOf",S.viewPortItems)}}function ti(pe,Je){if(1&pe&&i._UZ(0,"input",67),2&pe){const S=i.oxw().$implicit,k=i.oxw(2);i.Q6J("checked",S.selected)("disabled",k.settings.limitSelection==(null==k.selectedItems?null:k.selectedItems.length)&&!k.isSelected(S)||S.disabled)}}function Ii(pe,Je){if(1&pe&&i._UZ(0,"input",67),2&pe){const S=i.oxw().$implicit,k=i.oxw(3);i.Q6J("checked",k.isSelected(S))("disabled",k.settings.limitSelection==(null==k.selectedItems?null:k.selectedItems.length)&&!k.isSelected(S)||S.disabled)}}const Ti=function(pe,Je,S){return{"selected-item":pe,"grp-title":Je,"grp-item":S}};function rn(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"span")(1,"li",62),i.NdJ("click",function(Ae){const De=i.CHM(S),ct=De.$implicit,nt=De.index;return i.oxw(3).onItemClick(ct,nt,Ae),Ae.stopPropagation()}),i.YNc(2,Ii,1,2,"input",66),i.TgZ(3,"label"),i._uU(4),i.qZA()()()}if(2&pe){const S=Je.$implicit,k=i.oxw(3);i.xp6(1),i.Q6J("ngClass",i.kEZ(3,Ti,1==k.isSelected(S),S.grpTitle,!S.grpTitle&&!k.settings.singleSelection)),i.xp6(1),i.Q6J("ngIf",k.settings.showCheckbox),i.xp6(2),i.Oqu(S[k.settings.labelKey])}}function on(pe,Je){if(1&pe){const S=i.EpF();i.TgZ(0,"span")(1,"li",62),i.NdJ("click",function(){const De=i.CHM(S).$implicit;return i.oxw(2).selectGroup(De)}),i.YNc(2,ti,1,2,"input",66),i.TgZ(3,"label"),i._uU(4),i.qZA(),i.TgZ(5,"ul",60),i.YNc(6,rn,5,7,"span",70),i.qZA()()()}if(2&pe){const S=Je.$implicit,k=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.WLB(4,X,S.grpTitle,!S.grpTitle&&!k.settings.singleSelection)),i.xp6(1),i.Q6J("ngIf",k.settings.showCheckbox&&!k.settings.singleSelection),i.xp6(2),i.Oqu(S[k.settings.labelKey]),i.xp6(2),i.Q6J("ngForOf",S.list)}}function Tn(pe,Je){if(1&pe&&(i.TgZ(0,"div",59)(1,"ul",60),i.YNc(2,on,7,7,"span",70),i.qZA()()),2&pe){const S=i.oxw();i.Udp("max-height",S.settings.maxHeight+"px"),i.xp6(2),i.Q6J("ngForOf",S.groupedData)}}function Li(pe,Je){if(1&pe&&(i.TgZ(0,"h5",76),i._uU(1),i.qZA()),2&pe){const S=i.oxw();i.xp6(1),i.Oqu(S.settings.noDataLabel)}}const bn=function(pe){return{disabled:pe}},In=function(pe){return{tagToBody:pe}},Se=function(pe,Je){return{"arrow-up":pe,"arrow-down":Je}},He=function(pe){return{"single-select-mode":pe}};class P{constructor(Je,S){this.status=Je,this.body=S}}let fe=(()=>{class pe{constructor(S){this._elementRef=S,this.clickOutside=new i.vpe}onClick(S,k){k&&(this._elementRef.nativeElement.contains(k)||this.clickOutside.emit(S))}}return pe.\u0275fac=function(S){return new(S||pe)(i.Y36(i.SBq))},pe.\u0275dir=i.lG2({type:pe,selectors:[["","clickOutside",""]],hostBindings:function(S,k){1&S&&i.NdJ("click",function(De){return k.onClick(De,De.target)},!1,i.evT)("touchstart",function(De){return k.onClick(De,De.target)},!1,i.evT)},outputs:{clickOutside:"clickOutside"}}),pe})(),Dt=(()=>{class pe{constructor(){this.filteredData=[],this.subject=new M.x}setData(S){this.filteredData=S,this.subject.next(S)}getData(){return this.subject.asObservable()}getFilteredData(){return this.filteredData&&this.filteredData.length>0?this.filteredData:[]}}return pe.\u0275fac=function(S){return new(S||pe)},pe.\u0275prov=i.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),Ut=(()=>{class pe{constructor(S){this.ds=S,this.filteredList=[]}transform(S,k,Ae){return S&&k&&""!=k?(this.filteredList=S.filter(De=>this.applyFilter(De,k,Ae)),this.filteredList):S}applyFilter(S,k,Ae){let De=!1;if(Ae.length>0)if(S.grpTitle)De=!0;else for(var ct=0;ct<Ae.length;ct++)k&&S[Ae[ct]]&&""!=S[Ae[ct]]&&S[Ae[ct]].toString().toLowerCase().indexOf(k.toLowerCase())>=0&&(De=!0);else if(S.grpTitle)De=!0;else for(var nt in S)k&&S[nt]&&S[nt].toString().toLowerCase().indexOf(k.toLowerCase())>=0&&(De=!0);return De}}return pe.\u0275fac=function(S){return new(S||pe)(i.Y36(Dt,16))},pe.\u0275pipe=i.Yjl({name:"listFilter",type:pe,pure:!0}),pe})(),Hi=(()=>{class pe{constructor(){}}return pe.\u0275fac=function(S){return new(S||pe)},pe.\u0275cmp=i.Xpm({type:pe,selectors:[["c-item"]],contentQueries:function(S,k,Ae){if(1&S&&i.Suo(Ae,i.Rgc,7),2&S){let De;i.iGM(De=i.CRH())&&(k.template=De.first)}},decls:0,vars:0,template:function(S,k){},encapsulation:2}),pe})(),Ui=(()=>{class pe{constructor(){}}return pe.\u0275fac=function(S){return new(S||pe)},pe.\u0275cmp=i.Xpm({type:pe,selectors:[["c-badge"]],contentQueries:function(S,k,Ae){if(1&S&&i.Suo(Ae,i.Rgc,7),2&S){let De;i.iGM(De=i.CRH())&&(k.template=De.first)}},decls:0,vars:0,template:function(S,k){},encapsulation:2}),pe})(),Fi=(()=>{class pe{constructor(){}}return pe.\u0275fac=function(S){return new(S||pe)},pe.\u0275cmp=i.Xpm({type:pe,selectors:[["c-search"]],contentQueries:function(S,k,Ae){if(1&S&&i.Suo(Ae,i.Rgc,7),2&S){let De;i.iGM(De=i.CRH())&&(k.template=De.first)}},decls:0,vars:0,template:function(S,k){},encapsulation:2}),pe})(),an=(()=>{class pe{constructor(S){this.viewContainer=S}ngOnInit(){this.view=this.viewContainer.createEmbeddedView(this.data.template,{$implicit:this.data,item:this.item})}ngOnDestroy(){this.view.destroy()}}return pe.\u0275fac=function(S){return new(S||pe)(i.Y36(i.s_b))},pe.\u0275cmp=i.Xpm({type:pe,selectors:[["c-templateRenderer"]],inputs:{data:"data",item:"item"},decls:0,vars:0,template:function(S,k){},encapsulation:2}),pe})(),_t=(()=>{class pe{}return pe.\u0275fac=function(S){return new(S||pe)},pe.\u0275cmp=i.Xpm({type:pe,selectors:[["c-icon"]],inputs:{name:"name"},decls:5,vars:5,consts:[["width","100%","height","100%","version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 47.971 47.971","style","enable-background:new 0 0 47.971 47.971;",0,"xml","space","preserve",4,"ngIf"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","100%","height","100%","viewBox","0 0 612 612","style","enable-background:new 0 0 612 612;",0,"xml","space","preserve",4,"ngIf"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","100%","height","100%","viewBox","0 0 615.52 615.52","style","enable-background:new 0 0 615.52 615.52;",0,"xml","space","preserve",4,"ngIf"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 51.976 51.976","style","enable-background:new 0 0 51.976 51.976;",0,"xml","space","preserve",4,"ngIf"],["width","100%","height","100%","version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 47.971 47.971",0,"xml","space","preserve",2,"enable-background","new 0 0 47.971 47.971"],["d","M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88\n                                c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242\n                                C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879\n                                s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","100%","height","100%","viewBox","0 0 612 612",0,"xml","space","preserve",2,"enable-background","new 0 0 612 612"],["id","_x31_0_34_"],["d","M604.501,134.782c-9.999-10.05-26.222-10.05-36.221,0L306.014,422.558L43.721,134.782\n\t\t\t\tc-9.999-10.05-26.223-10.05-36.222,0s-9.999,26.35,0,36.399l279.103,306.241c5.331,5.357,12.422,7.652,19.386,7.296\n\t\t\t\tc6.988,0.356,14.055-1.939,19.386-7.296l279.128-306.268C614.5,161.106,614.5,144.832,604.501,134.782z"],["id","_x39__30_"],["d","M604.501,440.509L325.398,134.956c-5.331-5.357-12.423-7.627-19.386-7.27c-6.989-0.357-14.056,1.913-19.387,7.27\n\t\t\t\tL7.499,440.509c-9.999,10.024-9.999,26.298,0,36.323s26.223,10.024,36.222,0l262.293-287.164L568.28,476.832\n\t\t\t\tc9.999,10.024,26.222,10.024,36.221,0C614.5,466.809,614.5,450.534,604.501,440.509z"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","100%","height","100%","viewBox","0 0 615.52 615.52",0,"xml","space","preserve",2,"enable-background","new 0 0 615.52 615.52"],["id","Search__x28_and_thou_shall_find_x29_"],["d","M602.531,549.736l-184.31-185.368c26.679-37.72,42.528-83.729,42.528-133.548C460.75,103.35,357.997,0,231.258,0\n\t\t\t\t\tC104.518,0,1.765,103.35,1.765,230.82c0,127.47,102.753,230.82,229.493,230.82c49.53,0,95.271-15.944,132.78-42.777\n\t\t\t\t\tl184.31,185.366c7.482,7.521,17.292,11.291,27.102,11.291c9.812,0,19.62-3.77,27.083-11.291\n\t\t\t\t\tC617.496,589.188,617.496,564.777,602.531,549.736z M355.9,319.763l-15.042,21.273L319.7,356.174\n\t\t\t\t\tc-26.083,18.658-56.667,28.526-88.442,28.526c-84.365,0-152.995-69.035-152.995-153.88c0-84.846,68.63-153.88,152.995-153.88\n\t\t\t\t\ts152.996,69.034,152.996,153.88C384.271,262.769,374.462,293.526,355.9,319.763z"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 51.976 51.976",0,"xml","space","preserve",2,"enable-background","new 0 0 51.976 51.976"],["d","M44.373,7.603c-10.137-10.137-26.632-10.138-36.77,0c-10.138,10.138-10.137,26.632,0,36.77s26.632,10.138,36.77,0\n\t\tC54.51,34.235,54.51,17.74,44.373,7.603z M36.241,36.241c-0.781,0.781-2.047,0.781-2.828,0l-7.425-7.425l-7.778,7.778\n\t\tc-0.781,0.781-2.047,0.781-2.828,0c-0.781-0.781-0.781-2.047,0-2.828l7.778-7.778l-7.425-7.425c-0.781-0.781-0.781-2.048,0-2.828\n\t\tc0.781-0.781,2.047-0.781,2.828,0l7.425,7.425l7.071-7.071c0.781-0.781,2.047-0.781,2.828,0c0.781,0.781,0.781,2.047,0,2.828\n\t\tl-7.071,7.071l7.425,7.425C37.022,34.194,37.022,35.46,36.241,36.241z"]],template:function(S,k){1&S&&(i.YNc(0,C,3,0,"svg",0),i.YNc(1,E,5,0,"svg",1),i.YNc(2,l,5,0,"svg",1),i.YNc(3,T,6,0,"svg",2),i.YNc(4,_,3,0,"svg",3)),2&S&&(i.Q6J("ngIf","remove"==k.name),i.xp6(1),i.Q6J("ngIf","angle-down"==k.name),i.xp6(1),i.Q6J("ngIf","angle-up"==k.name),i.xp6(1),i.Q6J("ngIf","search"==k.name),i.xp6(1),i.Q6J("ngIf","clear"==k.name))},directives:[ie.O5],encapsulation:2}),pe})();function Ni(){return{scrollThrottlingTime:0,scrollDebounceTime:0,scrollAnimationTime:750,checkResizeInterval:1e3,resizeBypassRefreshThreshold:5,modifyOverflowStyleOfParentScroll:!0,stripedTable:!1}}let ln=(()=>{class pe{constructor(S,k,Ae,De,ct,nt){this.element=S,this.renderer=k,this.zone=Ae,this.changeDetectorRef=De,this.window=window,this.executeRefreshOutsideAngularZone=!1,this._enableUnequalChildrenSizes=!1,this.useMarginInsteadOfTranslate=!1,this.ssrViewportWidth=1920,this.ssrViewportHeight=1080,this._bufferAmount=0,this._items=[],this.compareItems=(bt,Nt)=>bt===Nt,this.vsUpdate=new i.vpe,this.vsChange=new i.vpe,this.vsStart=new i.vpe,this.vsEnd=new i.vpe,this.calculatedScrollbarWidth=0,this.calculatedScrollbarHeight=0,this.padding=0,this.previousViewPort={},this.cachedPageSize=0,this.previousScrollNumberElements=0,this.isAngularUniversalSSR=(0,ie.PM)(ct),this.scrollThrottlingTime=nt.scrollThrottlingTime,this.scrollDebounceTime=nt.scrollDebounceTime,this.scrollAnimationTime=nt.scrollAnimationTime,this.scrollbarWidth=nt.scrollbarWidth,this.scrollbarHeight=nt.scrollbarHeight,this.checkResizeInterval=nt.checkResizeInterval,this.resizeBypassRefreshThreshold=nt.resizeBypassRefreshThreshold,this.modifyOverflowStyleOfParentScroll=nt.modifyOverflowStyleOfParentScroll,this.stripedTable=nt.stripedTable,this.horizontal=!1,this.resetWrapGroupDimensions()}get viewPortInfo(){let S=this.previousViewPort||{};return{startIndex:S.startIndex||0,endIndex:S.endIndex||0,scrollStartPosition:S.scrollStartPosition||0,scrollEndPosition:S.scrollEndPosition||0,maxScrollPosition:S.maxScrollPosition||0,startIndexWithBuffer:S.startIndexWithBuffer||0,endIndexWithBuffer:S.endIndexWithBuffer||0}}get enableUnequalChildrenSizes(){return this._enableUnequalChildrenSizes}set enableUnequalChildrenSizes(S){this._enableUnequalChildrenSizes!==S&&(this._enableUnequalChildrenSizes=S,this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0)}get bufferAmount(){return"number"==typeof this._bufferAmount&&this._bufferAmount>=0?this._bufferAmount:this.enableUnequalChildrenSizes?5:0}set bufferAmount(S){this._bufferAmount=S}get scrollThrottlingTime(){return this._scrollThrottlingTime}set scrollThrottlingTime(S){this._scrollThrottlingTime=S,this.updateOnScrollFunction()}get scrollDebounceTime(){return this._scrollDebounceTime}set scrollDebounceTime(S){this._scrollDebounceTime=S,this.updateOnScrollFunction()}updateOnScrollFunction(){this.onScroll=this.scrollDebounceTime?this.debounce(()=>{this.refresh_internal(!1)},this.scrollDebounceTime):this.scrollThrottlingTime?this.throttleTrailing(()=>{this.refresh_internal(!1)},this.scrollThrottlingTime):()=>{this.refresh_internal(!1)}}get checkResizeInterval(){return this._checkResizeInterval}set checkResizeInterval(S){this._checkResizeInterval!==S&&(this._checkResizeInterval=S,this.addScrollEventHandlers())}get items(){return this._items}set items(S){S!==this._items&&(this._items=S||[],this.refresh_internal(!0))}get horizontal(){return this._horizontal}set horizontal(S){this._horizontal=S,this.updateDirection()}revertParentOverscroll(){const S=this.getScrollElement();S&&this.oldParentScrollOverflow&&(S.style["overflow-y"]=this.oldParentScrollOverflow.y,S.style["overflow-x"]=this.oldParentScrollOverflow.x),this.oldParentScrollOverflow=void 0}get parentScroll(){return this._parentScroll}set parentScroll(S){if(this._parentScroll===S)return;this.revertParentOverscroll(),this._parentScroll=S,this.addScrollEventHandlers();const k=this.getScrollElement();this.modifyOverflowStyleOfParentScroll&&k!==this.element.nativeElement&&(this.oldParentScrollOverflow={x:k.style["overflow-x"],y:k.style["overflow-y"]},k.style["overflow-y"]=this.horizontal?"visible":"auto",k.style["overflow-x"]=this.horizontal?"auto":"visible")}ngOnInit(){this.addScrollEventHandlers()}ngOnDestroy(){this.removeScrollEventHandlers(),this.revertParentOverscroll()}ngOnChanges(S){let k=this.cachedItemsLength!==this.items.length;this.cachedItemsLength=this.items.length,this.refresh_internal(k||!S.items||!S.items.previousValue||0===S.items.previousValue.length)}ngDoCheck(){if(this.cachedItemsLength!==this.items.length)return this.cachedItemsLength=this.items.length,void this.refresh_internal(!0);if(this.previousViewPort&&this.viewPortItems&&this.viewPortItems.length>0){let S=!1;for(let k=0;k<this.viewPortItems.length;++k)if(!this.compareItems(this.items[this.previousViewPort.startIndexWithBuffer+k],this.viewPortItems[k])){S=!0;break}S&&this.refresh_internal(!0)}}refresh(){this.refresh_internal(!0)}invalidateAllCachedMeasurements(){this.wrapGroupDimensions={maxChildSizePerWrapGroup:[],numberOfKnownWrapGroupChildSizes:0,sumOfKnownWrapGroupChildWidths:0,sumOfKnownWrapGroupChildHeights:0},this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0,this.refresh_internal(!1)}invalidateCachedMeasurementForItem(S){if(this.enableUnequalChildrenSizes){let k=this.items&&this.items.indexOf(S);k>=0&&this.invalidateCachedMeasurementAtIndex(k)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}invalidateCachedMeasurementAtIndex(S){if(this.enableUnequalChildrenSizes){let k=this.wrapGroupDimensions.maxChildSizePerWrapGroup[S];k&&(this.wrapGroupDimensions.maxChildSizePerWrapGroup[S]=void 0,--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=k.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=k.childHeight||0)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)}scrollInto(S,k=!0,Ae=0,De,ct){let nt=this.items.indexOf(S);-1!==nt&&this.scrollToIndex(nt,k,Ae,De,ct)}scrollToIndex(S,k=!0,Ae=0,De,ct){let nt=5,bt=()=>{if(--nt,nt<=0)return void(ct&&ct());let Nt=this.calculateDimensions(),kt=Math.min(Math.max(S,0),Nt.itemCount-1);this.previousViewPort.startIndex!==kt?this.scrollToIndex_internal(S,k,Ae,0,bt):ct&&ct()};this.scrollToIndex_internal(S,k,Ae,De,bt)}scrollToIndex_internal(S,k=!0,Ae=0,De,ct){De=void 0===De?this.scrollAnimationTime:De;let nt=this.calculateDimensions(),bt=this.calculatePadding(S,nt)+Ae;k||(bt-=nt.wrapGroupsPerPage*nt[this._childScrollDim]),this.scrollToPosition(bt,De,ct)}scrollToPosition(S,k,Ae){S+=this.getElementsOffset(),k=void 0===k?this.scrollAnimationTime:k;let ct,De=this.getScrollElement();if(this.currentTween&&(this.currentTween.stop(),this.currentTween=void 0),!k)return this.renderer.setProperty(De,this._scrollType,S),void this.refresh_internal(!1,Ae);const nt={scrollPosition:De[this._scrollType]};let bt=new f.Tween(nt).to({scrollPosition:S},k).easing(f.Easing.Quadratic.Out).onUpdate(kt=>{isNaN(kt.scrollPosition)||(this.renderer.setProperty(De,this._scrollType,kt.scrollPosition),this.refresh_internal(!1))}).onStop(()=>{cancelAnimationFrame(ct)}).start();const Nt=kt=>{if(bt.isPlaying()){if(bt.update(kt),nt.scrollPosition===S)return void this.refresh_internal(!1,Ae);this.zone.runOutsideAngular(()=>{ct=requestAnimationFrame(Nt)})}};Nt(),this.currentTween=bt}getElementSize(S){let k=S.getBoundingClientRect(),Ae=getComputedStyle(S),De=parseInt(Ae["margin-top"],10)||0,ct=parseInt(Ae["margin-bottom"],10)||0,nt=parseInt(Ae["margin-left"],10)||0,bt=parseInt(Ae["margin-right"],10)||0;return{top:k.top+De,bottom:k.bottom+ct,left:k.left+nt,right:k.right+bt,width:k.width+nt+bt,height:k.height+De+ct}}checkScrollElementResized(){let k,S=this.getElementSize(this.getScrollElement());if(this.previousScrollBoundingRect){let Ae=Math.abs(S.width-this.previousScrollBoundingRect.width),De=Math.abs(S.height-this.previousScrollBoundingRect.height);k=Ae>this.resizeBypassRefreshThreshold||De>this.resizeBypassRefreshThreshold}else k=!0;k&&(this.previousScrollBoundingRect=S,S.width>0&&S.height>0&&this.refresh_internal(!1))}updateDirection(){this.horizontal?(this._invisiblePaddingProperty="width",this._offsetType="offsetLeft",this._pageOffsetType="pageXOffset",this._childScrollDim="childWidth",this._marginDir="margin-left",this._translateDir="translateX",this._scrollType="scrollLeft"):(this._invisiblePaddingProperty="height",this._offsetType="offsetTop",this._pageOffsetType="pageYOffset",this._childScrollDim="childHeight",this._marginDir="margin-top",this._translateDir="translateY",this._scrollType="scrollTop")}debounce(S,k){const Ae=this.throttleTrailing(S,k),De=function(){Ae.cancel(),Ae.apply(this,arguments)};return De.cancel=function(){Ae.cancel()},De}throttleTrailing(S,k){let Ae,De=arguments;const ct=function(){const nt=this;De=arguments,!Ae&&(k<=0?S.apply(nt,De):Ae=setTimeout(function(){Ae=void 0,S.apply(nt,De)},k))};return ct.cancel=function(){Ae&&(clearTimeout(Ae),Ae=void 0)},ct}refresh_internal(S,k,Ae=2){if(S&&this.previousViewPort&&this.previousViewPort.scrollStartPosition>0){let De=this.previousViewPort,ct=this.viewPortItems,nt=k;k=()=>{let bt=this.previousViewPort.scrollLength-De.scrollLength;if(bt>0&&this.viewPortItems){let Nt=ct[0],kt=this.items.findIndex(pi=>this.compareItems(Nt,pi));if(kt>this.previousViewPort.startIndexWithBuffer){let pi=!1;for(let li=1;li<this.viewPortItems.length;++li)if(!this.compareItems(this.items[kt+li],ct[li])){pi=!0;break}if(!pi)return void this.scrollToPosition(this.previousViewPort.scrollStartPosition+bt,0,nt)}}nt&&nt()}}this.zone.runOutsideAngular(()=>{requestAnimationFrame(()=>{S&&this.resetWrapGroupDimensions();let De=this.calculateViewport(),ct=S||De.startIndex!==this.previousViewPort.startIndex,nt=S||De.endIndex!==this.previousViewPort.endIndex,bt=De.scrollLength!==this.previousViewPort.scrollLength,Nt=De.padding!==this.previousViewPort.padding,kt=De.scrollStartPosition!==this.previousViewPort.scrollStartPosition||De.scrollEndPosition!==this.previousViewPort.scrollEndPosition||De.maxScrollPosition!==this.previousViewPort.maxScrollPosition;if(this.previousViewPort=De,bt&&this.renderer.setStyle(this.invisiblePaddingElementRef.nativeElement,this._invisiblePaddingProperty,`${De.scrollLength}px`),Nt&&(this.useMarginInsteadOfTranslate?this.renderer.setStyle(this.contentElementRef.nativeElement,this._marginDir,`${De.padding}px`):(this.renderer.setStyle(this.contentElementRef.nativeElement,"transform",`${this._translateDir}(${De.padding}px)`),this.renderer.setStyle(this.contentElementRef.nativeElement,"webkitTransform",`${this._translateDir}(${De.padding}px)`))),this.headerElementRef){let li=this.getScrollElement()[this._scrollType],di=this.getElementsOffset(),bi=Math.max(li-De.padding-di+this.headerElementRef.nativeElement.clientHeight,0);this.renderer.setStyle(this.headerElementRef.nativeElement,"transform",`${this._translateDir}(${bi}px)`),this.renderer.setStyle(this.headerElementRef.nativeElement,"webkitTransform",`${this._translateDir}(${bi}px)`)}const pi=ct||nt?{startIndex:De.startIndex,endIndex:De.endIndex,scrollStartPosition:De.scrollStartPosition,scrollEndPosition:De.scrollEndPosition,startIndexWithBuffer:De.startIndexWithBuffer,endIndexWithBuffer:De.endIndexWithBuffer,maxScrollPosition:De.maxScrollPosition}:void 0;if(ct||nt||kt){const li=()=>{this.viewPortItems=De.startIndexWithBuffer>=0&&De.endIndexWithBuffer>=0?this.items.slice(De.startIndexWithBuffer,De.endIndexWithBuffer+1):[],this.vsUpdate.emit(this.viewPortItems),ct&&this.vsStart.emit(pi),nt&&this.vsEnd.emit(pi),(ct||nt)&&(this.changeDetectorRef.markForCheck(),this.vsChange.emit(pi)),Ae>0?this.refresh_internal(!1,k,Ae-1):k&&k()};this.executeRefreshOutsideAngularZone?li():this.zone.run(li)}else{if(Ae>0&&(bt||Nt))return void this.refresh_internal(!1,k,Ae-1);k&&k()}})})}getScrollElement(){return this.parentScroll instanceof Window?document.scrollingElement||document.documentElement||document.body:this.parentScroll||this.element.nativeElement}addScrollEventHandlers(){if(this.isAngularUniversalSSR)return;let S=this.getScrollElement();this.removeScrollEventHandlers(),this.zone.runOutsideAngular(()=>{this.parentScroll instanceof Window?(this.disposeScrollHandler=this.renderer.listen("window","scroll",this.onScroll),this.disposeResizeHandler=this.renderer.listen("window","resize",this.onScroll)):(this.disposeScrollHandler=this.renderer.listen(S,"scroll",this.onScroll),this._checkResizeInterval>0&&(this.checkScrollElementResizedTimer=setInterval(()=>{this.checkScrollElementResized()},this._checkResizeInterval)))})}removeScrollEventHandlers(){this.checkScrollElementResizedTimer&&clearInterval(this.checkScrollElementResizedTimer),this.disposeScrollHandler&&(this.disposeScrollHandler(),this.disposeScrollHandler=void 0),this.disposeResizeHandler&&(this.disposeResizeHandler(),this.disposeResizeHandler=void 0)}getElementsOffset(){if(this.isAngularUniversalSSR)return 0;let S=0;if(this.containerElementRef&&this.containerElementRef.nativeElement&&(S+=this.containerElementRef.nativeElement[this._offsetType]),this.parentScroll){let k=this.getScrollElement(),Ae=this.getElementSize(this.element.nativeElement),De=this.getElementSize(k);S+=this.horizontal?Ae.left-De.left:Ae.top-De.top,this.parentScroll instanceof Window||(S+=k[this._scrollType])}return S}countItemsPerWrapGroup(){if(this.isAngularUniversalSSR)return Math.round(this.horizontal?this.ssrViewportHeight/this.ssrChildHeight:this.ssrViewportWidth/this.ssrChildWidth);let S=this.horizontal?"offsetLeft":"offsetTop",k=(this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement).children,Ae=k?k.length:0;if(0===Ae)return 1;let De=k[0][S],ct=1;for(;ct<Ae&&De===k[ct][S];)++ct;return ct}getScrollStartPosition(){let S;return this.parentScroll instanceof Window&&(S=window[this._pageOffsetType]),S||this.getScrollElement()[this._scrollType]||0}resetWrapGroupDimensions(){const S=this.wrapGroupDimensions;if(this.invalidateAllCachedMeasurements(),!this.enableUnequalChildrenSizes||!S||0===S.numberOfKnownWrapGroupChildSizes)return;const k=this.countItemsPerWrapGroup();for(let Ae=0;Ae<S.maxChildSizePerWrapGroup.length;++Ae){const De=S.maxChildSizePerWrapGroup[Ae];if(!De||!De.items||!De.items.length)continue;if(De.items.length!==k)return;let ct=!1,nt=k*Ae;for(let bt=0;bt<k;++bt)if(!this.compareItems(De.items[bt],this.items[nt+bt])){ct=!0;break}ct||(++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=De.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=De.childHeight||0,this.wrapGroupDimensions.maxChildSizePerWrapGroup[Ae]=De)}}calculateDimensions(){let S=this.getScrollElement();this.calculatedScrollbarHeight=Math.max(Math.min(S.offsetHeight-S.clientHeight,25),this.calculatedScrollbarHeight),this.calculatedScrollbarWidth=Math.max(Math.min(S.offsetWidth-S.clientWidth,25),this.calculatedScrollbarWidth);let bt,Nt,kt,Ae=S.offsetWidth-(this.scrollbarWidth||this.calculatedScrollbarWidth||(this.horizontal?0:25)),De=S.offsetHeight-(this.scrollbarHeight||this.calculatedScrollbarHeight||(this.horizontal?25:0)),ct=this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement,nt=this.countItemsPerWrapGroup();if(this.isAngularUniversalSSR){Ae=this.ssrViewportWidth,De=this.ssrViewportHeight,Nt=this.ssrChildWidth,kt=this.ssrChildHeight;let Zt=Math.max(Math.ceil(Ae/Nt),1),Xt=Math.max(Math.ceil(De/kt),1);bt=this.horizontal?Zt:Xt}else if(this.enableUnequalChildrenSizes){let Zt=S[this._scrollType]-(this.previousViewPort?this.previousViewPort.padding:0),Xt=this.previousViewPort.startIndexWithBuffer||0,Yt=Math.ceil(Xt/nt),Bt=0,wi=0,zi=0,ni=0;bt=0;for(let Xi=0;Xi<ct.children.length;++Xi){++Xt;let mn=this.getElementSize(ct.children[Xi]);if(Bt=Math.max(Bt,mn.width),wi=Math.max(wi,mn.height),Xt%nt==0){let vn=this.wrapGroupDimensions.maxChildSizePerWrapGroup[Yt];vn&&(--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=vn.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=vn.childHeight||0),++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;const Sn=this.items.slice(Xt-nt,Xt);if(this.wrapGroupDimensions.maxChildSizePerWrapGroup[Yt]={childWidth:Bt,childHeight:wi,items:Sn},this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=Bt,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=wi,this.horizontal){let Mi=Math.min(Bt,Math.max(Ae-zi,0));if(Zt>0){let ji=Math.min(Zt,Mi);Mi-=ji,Zt-=ji}zi+=Mi,Mi>0&&Ae>=zi&&++bt}else{let Mi=Math.min(wi,Math.max(De-ni,0));if(Zt>0){let ji=Math.min(Zt,Mi);Mi-=ji,Zt-=ji}ni+=Mi,Mi>0&&De>=ni&&++bt}++Yt,Bt=0,wi=0}}let xn=this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,Ci=this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;Nt=this.childWidth||xn||Ae,kt=this.childHeight||Ci||De,this.horizontal?Ae>zi&&(bt+=Math.ceil((Ae-zi)/Nt)):De>ni&&(bt+=Math.ceil((De-ni)/kt))}else{if(ct.children.length>0){(!this.childWidth||!this.childHeight)&&(!this.minMeasuredChildWidth&&Ae>0&&(this.minMeasuredChildWidth=Ae),!this.minMeasuredChildHeight&&De>0&&(this.minMeasuredChildHeight=De));let Bt=this.getElementSize(ct.children[0]);this.minMeasuredChildWidth=Math.min(this.minMeasuredChildWidth,Bt.width),this.minMeasuredChildHeight=Math.min(this.minMeasuredChildHeight,Bt.height)}Nt=this.childWidth||this.minMeasuredChildWidth||Ae,kt=this.childHeight||this.minMeasuredChildHeight||De;let Zt=Math.max(Math.ceil(Ae/Nt),1),Xt=Math.max(Math.ceil(De/kt),1);bt=this.horizontal?Zt:Xt}let pi=this.items.length,li=nt*bt,di=pi/li,bi=Math.ceil(pi/nt),Qt=0,fi=this.horizontal?Nt:kt;if(this.enableUnequalChildrenSizes){let Zt=0;for(let Xt=0;Xt<bi;++Xt){let Yt=this.wrapGroupDimensions.maxChildSizePerWrapGroup[Xt]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[Xt][this._childScrollDim];Yt?Qt+=Yt:++Zt}Qt+=Math.round(Zt*fi)}else Qt=bi*fi;this.headerElementRef&&(Qt+=this.headerElementRef.nativeElement.clientHeight);let gi=this.horizontal?Ae:De;return{itemCount:pi,itemsPerWrapGroup:nt,wrapGroupsPerPage:bt,itemsPerPage:li,pageCount_fractional:di,childWidth:Nt,childHeight:kt,scrollLength:Qt,viewportLength:gi,maxScrollPosition:Math.max(Qt-gi,0)}}calculatePadding(S,k){if(0===k.itemCount)return 0;let Ae=k[this._childScrollDim],De=Math.floor(S/k.itemsPerWrapGroup)||0;if(!this.enableUnequalChildrenSizes)return Ae*De;let ct=0,nt=0;for(let bt=0;bt<De;++bt){let Nt=this.wrapGroupDimensions.maxChildSizePerWrapGroup[bt]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[bt][this._childScrollDim];Nt?nt+=Nt:++ct}return nt+=Math.round(ct*Ae),nt}calculatePageInfo(S,k){let Ae=0;if(this.enableUnequalChildrenSizes){const di=Math.ceil(k.itemCount/k.itemsPerWrapGroup);let bi=0,Qt=k[this._childScrollDim];for(let fi=0;fi<di;++fi){if(bi+=this.wrapGroupDimensions.maxChildSizePerWrapGroup[fi]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[fi][this._childScrollDim]||Qt,S<bi){Ae=fi/di;break}}}else Ae=S/k.scrollLength;let De=Math.min(Math.max(Ae*k.pageCount_fractional,0),k.pageCount_fractional)*k.itemsPerPage,ct=k.itemCount-k.itemsPerPage-1,nt=Math.min(Math.floor(De),ct);if(nt-=nt%k.itemsPerWrapGroup,this.stripedTable){let di=2*k.itemsPerWrapGroup;nt%di!=0&&(nt=Math.max(nt-nt%di,0))}let bt=Math.ceil(De)+k.itemsPerPage-1,Nt=(bt+1)%k.itemsPerWrapGroup;Nt>0&&(bt+=k.itemsPerWrapGroup-Nt),isNaN(nt)&&(nt=0),isNaN(bt)&&(bt=0),nt=Math.min(Math.max(nt,0),k.itemCount-1),bt=Math.min(Math.max(bt,0),k.itemCount-1);let kt=this.bufferAmount*k.itemsPerWrapGroup;return{startIndex:nt,endIndex:bt,startIndexWithBuffer:Math.min(Math.max(nt-kt,0),k.itemCount-1),endIndexWithBuffer:Math.min(Math.max(bt+kt,0),k.itemCount-1),scrollStartPosition:S,scrollEndPosition:S+k.viewportLength,maxScrollPosition:k.maxScrollPosition}}calculateViewport(){let S=this.calculateDimensions(),k=this.getElementsOffset(),Ae=this.getScrollStartPosition();Ae>S.scrollLength+k&&!(this.parentScroll instanceof Window)?Ae=S.scrollLength:Ae-=k,Ae=Math.max(0,Ae);let De=this.calculatePageInfo(Ae,S),ct=this.calculatePadding(De.startIndexWithBuffer,S),nt=S.scrollLength;return{startIndex:De.startIndex,endIndex:De.endIndex,startIndexWithBuffer:De.startIndexWithBuffer,endIndexWithBuffer:De.endIndexWithBuffer,padding:Math.round(ct),scrollLength:Math.round(nt),scrollStartPosition:De.scrollStartPosition,scrollEndPosition:De.scrollEndPosition,maxScrollPosition:De.maxScrollPosition}}}return pe.\u0275fac=function(S){return new(S||pe)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(i.Lbi),i.Y36("virtual-scroller-default-options",8))},pe.\u0275cmp=i.Xpm({type:pe,selectors:[["virtual-scroller"],["","virtualScroller",""]],contentQueries:function(S,k,Ae){if(1&S&&(i.Suo(Ae,H,5,i.SBq),i.Suo(Ae,oe,5,i.SBq)),2&S){let De;i.iGM(De=i.CRH())&&(k.headerElementRef=De.first),i.iGM(De=i.CRH())&&(k.containerElementRef=De.first)}},viewQuery:function(S,k){if(1&S&&(i.Gf(O,5,i.SBq),i.Gf(q,5,i.SBq)),2&S){let Ae;i.iGM(Ae=i.CRH())&&(k.contentElementRef=Ae.first),i.iGM(Ae=i.CRH())&&(k.invisiblePaddingElementRef=Ae.first)}},hostVars:6,hostBindings:function(S,k){2&S&&i.ekj("horizontal",k.horizontal)("vertical",!k.horizontal)("selfScroll",!k.parentScroll)},inputs:{executeRefreshOutsideAngularZone:"executeRefreshOutsideAngularZone",useMarginInsteadOfTranslate:"useMarginInsteadOfTranslate",ssrViewportWidth:"ssrViewportWidth",ssrViewportHeight:"ssrViewportHeight",compareItems:"compareItems",scrollThrottlingTime:"scrollThrottlingTime",scrollDebounceTime:"scrollDebounceTime",scrollAnimationTime:"scrollAnimationTime",scrollbarWidth:"scrollbarWidth",scrollbarHeight:"scrollbarHeight",checkResizeInterval:"checkResizeInterval",resizeBypassRefreshThreshold:"resizeBypassRefreshThreshold",modifyOverflowStyleOfParentScroll:"modifyOverflowStyleOfParentScroll",stripedTable:"stripedTable",horizontal:"horizontal",enableUnequalChildrenSizes:"enableUnequalChildrenSizes",bufferAmount:"bufferAmount",items:"items",parentScroll:"parentScroll",childWidth:"childWidth",childHeight:"childHeight",ssrChildWidth:"ssrChildWidth",ssrChildHeight:"ssrChildHeight"},outputs:{vsUpdate:"vsUpdate",vsChange:"vsChange",vsStart:"vsStart",vsEnd:"vsEnd"},exportAs:["virtualScroller"],features:[i.TTD],ngContentSelectors:b,decls:5,vars:0,consts:[[1,"total-padding"],["invisiblePadding",""],[1,"scrollable-content"],["content",""]],template:function(S,k){1&S&&(i.F$t(),i._UZ(0,"div",0,1),i.TgZ(2,"div",2,3),i.Hsn(4),i.qZA())},styles:["[_nghost-%COMP%] {\n      position: relative;\n\t  display: block;\n      -webkit-overflow-scrolling: touch;\n    }\n\t\n\t.horizontal.selfScroll[_nghost-%COMP%] {\n      overflow-y: visible;\n      overflow-x: auto;\n\t}\n\t.vertical.selfScroll[_nghost-%COMP%] {\n      overflow-y: auto;\n      overflow-x: visible;\n\t}\n\t\n    .scrollable-content[_ngcontent-%COMP%] {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      max-width: 100vw;\n      max-height: 100vh;\n      position: absolute;\n    }\n\n\t.scrollable-content[_ngcontent-%COMP%]     > * {\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.horizontal[_nghost-%COMP%] {\n\t\twhite-space: nowrap;\n\t}\n\t\n\t.horizontal[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%] {\n\t\tdisplay: flex;\n\t}\n\t\n\t.horizontal[_nghost-%COMP%]   .scrollable-content[_ngcontent-%COMP%]     > * {\n\t\tflex-shrink: 0;\n\t\tflex-grow: 0;\n\t\twhite-space: initial;\n\t}\n\t\n    .total-padding[_ngcontent-%COMP%] {\n      width: 1px;\n      opacity: 0;\n    }\n    \n    .horizontal[_nghost-%COMP%]   .total-padding[_ngcontent-%COMP%] {\n      height: 100%;\n    }"]}),pe})(),Ei=(()=>{class pe{}return pe.\u0275fac=function(S){return new(S||pe)},pe.\u0275mod=i.oAB({type:pe}),pe.\u0275inj=i.cJS({providers:[{provide:"virtual-scroller-default-options",useFactory:Ni}],imports:[[ie.ez]]}),pe})();const cn={provide:xe.JU,useExisting:(0,i.Gpc)(()=>It),multi:!0},Zi={provide:xe.Cf,useExisting:(0,i.Gpc)(()=>It),multi:!0},Wi=()=>{};let It=(()=>{class pe{constructor(S,k,Ae){this._elementRef=S,this.cdr=k,this.filterPipe=Ae,this.onSelect=new i.vpe,this.onDeSelect=new i.vpe,this.onSelectAll=new i.vpe,this.onDeSelectAll=new i.vpe,this.onOpen=new i.vpe,this.onClose=new i.vpe,this.onScrollToEnd=new i.vpe,this.onFilterSelectAll=new i.vpe,this.onFilterDeSelectAll=new i.vpe,this.onAddFilterNewItem=new i.vpe,this.onGroupSelect=new i.vpe,this.onGroupDeSelect=new i.vpe,this.virtualdata=[],this.searchTerm$=new M.x,this.isActive=!1,this.isSelectAll=!1,this.isFilterSelectAll=!1,this.isInfiniteFilterSelectAll=!1,this.chunkIndex=[],this.cachedItems=[],this.groupCachedItems=[],this.itemHeight=41.6,this.filterLength=0,this.infiniteFilterLength=0,this.dropdownListYOffset=0,this.dropDownWidth=0,this.dropDownTop="",this.dropDownBottom="unset",this.dropDownLeft=0,this.id=Math.random().toString(36).substring(2),this.defaultSettings={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",filterSelectAllText:"Select all filtered results",filterUnSelectAllText:"UnSelect all filtered results",enableSearchFilter:!1,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"itemName",primaryKey:"id",position:"bottom",autoPosition:!0,enableFilterSelectAll:!0,selectGroup:!1,addNewItemOnFilter:!1,addNewButtonText:"Add",escapeToClose:!0,clearAll:!0,tagToBody:!0},this.randomSize=!0,this.filteredList=[],this.virtualScroollInit=!1,this.isDisabledItemPresent=!1,this.onTouchedCallback=Wi,this.onChangeCallback=Wi,this.searchTerm$.asObservable().pipe((0,d.b)(1e3),(0,A.x)(),(0,g.b)(De=>De)).subscribe(De=>{this.filterInfiniteList(De)})}onEscapeDown(S){this.settings.escapeToClose&&this.closeDropdown()}onScroll(S){this.isActive&&this.settings.tagToBody&&this.closeDropdown()}ngOnInit(){this.settings=Object.assign(this.defaultSettings,this.settings),this.cachedItems=this.cloneArray(this.data),"top"==this.settings.position&&setTimeout(()=>{this.selectedListHeight={val:0},this.selectedListHeight.val=this.selectedListElem.nativeElement.clientHeight}),setTimeout(()=>{this.calculateDropdownDirection()}),this.virtualScroollInit=!1}onKeyUp(S){this.searchTerm$.next(S.target.value)}ngOnChanges(S){S.data&&!S.data.firstChange&&(this.settings.groupBy&&(this.groupedData=this.transformData(this.data,this.settings.groupBy),0==this.data.length&&(this.selectedItems=[]),this.groupCachedItems=this.cloneArray(this.groupedData)),this.cachedItems=this.cloneArray(this.data)),S.settings&&!S.settings.firstChange&&(this.settings=Object.assign(this.defaultSettings,this.settings)),this.settings.lazyLoading&&this.virtualScroollInit&&S.data&&(this.virtualdata=S.data.currentValue)}ngDoCheck(){this.selectedItems&&(0==this.selectedItems.length||0==this.data.length||this.selectedItems.length<this.data.length)&&(this.isSelectAll=!1)}ngAfterViewInit(){}ngAfterViewChecked(){this.selectedListElem.nativeElement.clientHeight&&"top"==this.settings.position&&this.selectedListHeight&&(this.selectedListHeight.val=this.selectedListElem.nativeElement.clientHeight,this.cdr.detectChanges())}onItemClick(S,k,Ae){if(S.disabled||this.settings.disabled)return;let De=this.isSelected(S),ct=this.selectedItems.length<this.settings.limitSelection;De?(this.removeSelected(S),this.onDeSelect.emit(S)):this.settings.limitSelection?ct&&(this.addSelected(S),this.onSelect.emit(S)):(this.addSelected(S),this.onSelect.emit(S)),(this.isSelectAll||this.data.length>this.selectedItems.length)&&(this.isSelectAll=!1),this.data.length==this.selectedItems.length&&(this.isSelectAll=!0),this.settings.groupBy&&this.updateGroupInfo(S)}validate(S){return null}writeValue(S){if(null!=S&&""!==S)if(this.settings.singleSelection)if(this.settings.groupBy)this.groupedData=this.transformData(this.data,this.settings.groupBy),this.groupCachedItems=this.cloneArray(this.groupedData),this.selectedItems=[S[0]];else try{if(S.length>1)throw this.selectedItems=[S[0]],new P(404,{msg:"Single Selection Mode, Selected Items cannot have more than one item."});this.selectedItems=S}catch(k){console.error(k.body.msg)}else this.selectedItems=this.settings.limitSelection?S.slice(0,this.settings.limitSelection):S,this.selectedItems.length===this.data.length&&this.data.length>0&&(this.isSelectAll=!0),this.settings.groupBy&&(this.groupedData=this.transformData(this.data,this.settings.groupBy),this.groupCachedItems=this.cloneArray(this.groupedData));else this.selectedItems=[]}registerOnChange(S){this.onChangeCallback=S}registerOnTouched(S){this.onTouchedCallback=S}trackByFn(S,k){return k[this.settings.primaryKey]}isSelected(S){if(S.disabled)return!1;let k=!1;return this.selectedItems&&this.selectedItems.forEach(Ae=>{S[this.settings.primaryKey]===Ae[this.settings.primaryKey]&&(k=!0)}),k}addSelected(S){S.disabled||(this.settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(S),this.closeDropdown()):this.selectedItems.push(S),this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems))}removeSelected(S){this.selectedItems&&this.selectedItems.forEach(k=>{S[this.settings.primaryKey]===k[this.settings.primaryKey]&&this.selectedItems.splice(this.selectedItems.indexOf(k),1)}),this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems)}toggleDropdown(S){this.settings.disabled||(this.isActive=!this.isActive,this.isActive?this.openDropdown():this.closeDropdown(),this.settings.lazyLoading&&(this.virtualdata=this.data,this.virtualScroollInit=!0),S.preventDefault())}openDropdown(){this.settings.disabled||(this.isActive=!0,this.calculateDropdownDirection(),this.settings.searchAutofocus&&this.searchInput&&this.settings.enableSearchFilter&&!this.searchTempl&&setTimeout(()=>{this.searchInput.nativeElement.focus()},0),this.onOpen.emit(!0))}closeDropdown(){this.searchInput&&this.settings.lazyLoading&&(this.searchInput.nativeElement.value=""),this.searchInput&&(this.searchInput.nativeElement.value=""),this.filter="",this.isActive=!1,this.searchTerm$.next(""),this.onClose.emit(!1)}closeDropdownOnClickOut(){this.isActive&&(this.searchInput&&this.settings.lazyLoading&&(this.searchInput.nativeElement.value=""),this.searchInput&&(this.searchInput.nativeElement.value=""),this.filter="",this.isActive=!1,this.clearSearch(),this.searchTerm$.next(""),this.onClose.emit(!1))}toggleSelectAll(S){this.isSelectAll?(this.settings.groupBy&&(this.groupedData.forEach(k=>{k.selected=!1}),this.groupCachedItems.forEach(k=>{k.selected=!1})),this.selectedItems=[],this.isSelectAll=!1,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onDeSelectAll.emit(this.selectedItems)):(this.selectedItems=[],this.settings.groupBy&&(this.groupedData.forEach(k=>{k.selected=!k.disabled}),this.groupCachedItems.forEach(k=>{k.selected=!k.disabled})),this.selectedItems=this.data.filter(k=>!k.disabled),this.isSelectAll=!0,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onSelectAll.emit(this.selectedItems)),setTimeout(()=>{this.calculateDropdownDirection()}),S.stopPropagation()}filterGroupedList(){""!=this.filter&&null!=this.filter?(this.groupedData=this.cloneArray(this.groupCachedItems),this.groupedData=this.groupedData.filter(S=>{let k=[];return k=S[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase())>-1?S.list:S.list.filter(Ae=>Ae[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase())>-1),S.list=k,S[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase())>-1?k:k.some(Ae=>Ae[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase())>-1)})):this.clearSearch()}toggleFilterSelectAll(){if(this.isFilterSelectAll){let S=[];this.settings.groupBy?(this.groupedData.forEach(k=>{k.list&&k.list.forEach(Ae=>{this.isSelected(Ae)&&(this.removeSelected(Ae),S.push(Ae))}),this.updateGroupInfo(k)}),this.filteredList.forEach(k=>{this.isSelected(k)&&(this.removeSelected(k),S.push(k))})):this.filteredList.forEach(k=>{this.isSelected(k)&&(this.removeSelected(k),S.push(k))}),this.isFilterSelectAll=!1,this.onFilterDeSelectAll.emit(S)}else{let S=[];this.settings.groupBy?(this.groupedData.forEach(k=>{k.list&&k.list.forEach(Ae=>{this.isSelected(Ae)||(this.addSelected(Ae),S.push(Ae))}),this.updateGroupInfo(k)}),this.filteredList.forEach(k=>{!this.isSelected(k)&&!k.hasOwnProperty("grpTitle")&&(this.addSelected(k),S.push(k))})):this.filteredList.forEach(k=>{this.isSelected(k)||(this.addSelected(k),S.push(k))}),this.isFilterSelectAll=!0,this.onFilterSelectAll.emit(S)}}toggleInfiniteFilterSelectAll(){this.isInfiniteFilterSelectAll?(this.virtualdata.forEach(S=>{this.isSelected(S)&&this.removeSelected(S)}),this.isInfiniteFilterSelectAll=!1):(this.virtualdata.forEach(S=>{this.isSelected(S)||this.addSelected(S)}),this.isInfiniteFilterSelectAll=!0)}clearSearch(){this.settings.groupBy&&(this.groupedData=[],this.groupedData=this.cloneArray(this.groupCachedItems)),this.filter="",this.isFilterSelectAll=!1,this.searchTerm$.next(""),this.data=this.cachedItems}onFilterChange(S){(this.filter&&""==this.filter||0==S.length)&&(this.isFilterSelectAll=!1,this.data=this.cachedItems.slice());let k=0;S.forEach(Ae=>{!Ae.hasOwnProperty("grpTitle")&&this.isSelected(Ae)&&k++}),k>0&&this.filterLength==k?this.isFilterSelectAll=!0:k>0&&this.filterLength!=k&&(this.isFilterSelectAll=!1),this.data=S}cloneArray(S){if(Array.isArray(S))return JSON.parse(JSON.stringify(S));if("object"==typeof S)throw"Cannot clone array containing an object!";return S}updateGroupInfo(S){if(S.disabled)return;let k=this.settings.groupBy;this.groupedData.forEach(Ae=>{let De=0;Ae.grpTitle&&S[k]==Ae[k]&&Ae.list&&Ae.list.forEach(ct=>{this.isSelected(ct)&&De++}),Ae.list&&De===Ae.list.length&&S[k]==Ae[k]?Ae.selected=!0:Ae.list&&De!=Ae.list.length&&S[k]==Ae[k]&&(Ae.selected=!1)}),this.groupCachedItems.forEach(Ae=>{let De=0;Ae.grpTitle&&S[k]==Ae[k]&&Ae.list&&Ae.list.forEach(ct=>{this.isSelected(ct)&&De++}),Ae.list&&De===Ae.list.length&&S[k]==Ae[k]?Ae.selected=!0:Ae.list&&De!=Ae.list.length&&S[k]==Ae[k]&&(Ae.selected=!1)})}transformData(S,k){const Ae=S.reduce((ct,nt)=>(ct[nt[k]]?ct[nt[k]].push(nt):ct[nt[k]]=[nt],ct),{}),De=[];return Object.keys(Ae).map(ct=>{let nt={},bt=[];nt.grpTitle=!0,nt[this.settings.labelKey]=ct,nt[this.settings.groupBy]=ct,nt.selected=!1,nt.list=[];let Nt=0;Ae[ct].forEach(kt=>{kt.list=[],kt.disabled&&(this.isDisabledItemPresent=!0,bt.push(kt)),nt.list.push(kt),this.isSelected(kt)&&Nt++}),nt.selected=Nt==nt.list.length,nt.disabled=bt.length===Ae[ct].length,De.push(nt)}),De}filterInfiniteList(S){let k=[];if(this.settings.groupBy?this.groupedData=this.groupCachedItems.slice():(this.data=this.cachedItems.slice(),this.virtualdata=this.cachedItems.slice()),(null!=S||""!=S)&&!this.settings.groupBy){if(this.settings.searchBy.length>0)for(let Ae=0;Ae<this.settings.searchBy.length;Ae++)this.virtualdata.filter(De=>{De[this.settings.searchBy[Ae].toString()].toString().toLowerCase().indexOf(S.toString().toLowerCase())>=0&&k.push(De)});else this.virtualdata.filter(function(Ae){for(let De in Ae)if(Ae[De].toString().toLowerCase().indexOf(S.toString().toLowerCase())>=0){k.push(Ae);break}});this.virtualdata=[],this.virtualdata=k,this.infiniteFilterLength=this.virtualdata.length}""!=S.toString()&&this.settings.groupBy?(this.groupedData.filter(function(Ae){if(Ae.hasOwnProperty("grpTitle"))k.push(Ae);else for(let De in Ae)if(Ae[De].toString().toLowerCase().indexOf(S.toString().toLowerCase())>=0){k.push(Ae);break}}),this.groupedData=[],this.groupedData=k,this.infiniteFilterLength=this.groupedData.length):""==S.toString()&&this.cachedItems.length>0&&(this.virtualdata=[],this.virtualdata=this.cachedItems,this.infiniteFilterLength=0),this.virtualScroller&&this.virtualScroller.refresh()}resetInfiniteSearch(){this.filter="",this.isInfiniteFilterSelectAll=!1,this.virtualdata=[],this.virtualdata=this.cachedItems,this.groupedData=this.groupCachedItems,this.searchTerm$.next(""),this.infiniteFilterLength=0}onScrollEnd(S){this.onScrollToEnd.emit(S)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}selectGroup(S){S.disabled||(S.selected?(S.selected=!1,S.list.forEach(k=>{this.removeSelected(k)}),this.onGroupDeSelect.emit(S),this.updateGroupInfo(S)):(S.selected=!0,S.list.forEach(k=>{this.isSelected(k)||this.addSelected(k)}),this.onGroupSelect.emit(S),this.updateGroupInfo(S)))}addFilterNewItem(){this.onAddFilterNewItem.emit(this.filter),this.filterPipe.transform(this.data,this.filter,this.settings.searchBy)}calculateDropdownDirection(){const k=this.cuppaDropdown.nativeElement;if(this.dropDownWidth=k.clientWidth,this.dropDownLeft=this.settings.tagToBody?k.getBoundingClientRect().x:"unset","top"!=this.settings.position||this.settings.autoPosition?"bottom"==this.settings.position&&!this.settings.autoPosition&&this.openTowardsTop(!1):this.openTowardsTop(!0),this.settings.autoPosition){const De=this.defaultSettings.maxHeight,ct=document.documentElement.clientHeight,nt=this.selectedListElem.nativeElement.getBoundingClientRect(),bt=nt.top;this.openTowardsTop(ct-nt.top<bt&&De<bt)}}openTowardsTop(S){const k=this.cuppaDropdown.nativeElement;S&&this.selectedListElem.nativeElement.clientHeight?(this.dropdownListYOffset=15-this.selectedListElem.nativeElement.clientHeight,this.settings.tagToBody?this.dropDownTop=k.getBoundingClientRect().y-2*this.selectedListElem.nativeElement.clientHeight-15-this.defaultSettings.maxHeight+"px":this.dropDownBottom=this.selectedListElem.nativeElement.clientHeight+15+"px",this.settings.position="top"):(this.settings.tagToBody?this.dropDownTop=k.getBoundingClientRect().y+k.clientHeight+1+"px":(this.dropDownTop="unset",this.dropDownBottom="unset"),this.dropdownListYOffset=0,this.settings.position="bottom")}clearSelection(S){this.settings.groupBy&&this.groupCachedItems.forEach(k=>{k.selected=!1}),this.clearSearch(),this.selectedItems=[],this.isSelectAll=!1,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onDeSelectAll.emit(this.selectedItems)}filteritems(S){if(this.filteredList=this.filterPipe.transform(this.cachedItems,S.target.value,this.settings.searchBy),this.filteredList){let k=0;this.filteredList.forEach((Ae,De)=>{Ae.disabled&&(this.isDisabledItemPresent=!0),Ae.hasOwnProperty("grpTitle")||k++}),this.filterLength=k}this.onFilterChange(this.filteredList)}}return pe.\u0275fac=function(S){return new(S||pe)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(Ut))},pe.\u0275cmp=i.Xpm({type:pe,selectors:[["angular2-multiselect"]],contentQueries:function(S,k,Ae){if(1&S&&(i.Suo(Ae,Hi,5),i.Suo(Ae,Ui,5),i.Suo(Ae,Fi,5)),2&S){let De;i.iGM(De=i.CRH())&&(k.itemTempl=De.first),i.iGM(De=i.CRH())&&(k.badgeTempl=De.first),i.iGM(De=i.CRH())&&(k.searchTempl=De.first)}},viewQuery:function(S,k){if(1&S&&(i.Gf(v,5),i.Gf(K,5),i.Gf(x,5),i.Gf(B,5),i.Gf(ln,5)),2&S){let Ae;i.iGM(Ae=i.CRH())&&(k.searchInput=Ae.first),i.iGM(Ae=i.CRH())&&(k.selectedListElem=Ae.first),i.iGM(Ae=i.CRH())&&(k.dropdownListElem=Ae.first),i.iGM(Ae=i.CRH())&&(k.cuppaDropdown=Ae.first),i.iGM(Ae=i.CRH())&&(k.virtualScroller=Ae.first)}},hostVars:2,hostBindings:function(S,k){1&S&&i.NdJ("keyup.escape",function(De){return k.onEscapeDown(De)},!1,i.evT)("scroll",function(De){return k.onScroll(De)},!1,i.Jf7),2&S&&i.Tol(k.defaultSettings.classes)},inputs:{settings:"settings",data:"data",loading:"loading"},outputs:{onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll",onOpen:"onOpen",onClose:"onClose",onScrollToEnd:"onScrollToEnd",onFilterSelectAll:"onFilterSelectAll",onFilterDeSelectAll:"onFilterDeSelectAll",onAddFilterNewItem:"onAddFilterNewItem",onGroupSelect:"onGroupSelect",onGroupDeSelect:"onGroupDeSelect"},features:[i._Bn([cn,Zi]),i.TTD],decls:33,vars:50,consts:[[1,"cuppa-dropdown",3,"clickOutside"],["cuppaDropdown",""],[1,"selected-list"],["selectedList",""],[1,"c-btn",3,"ngClass","click"],[4,"ngIf"],["class","c-list",4,"ngIf"],["class","countplaceholder",4,"ngIf"],["class","c-remove clear-all",3,"click",4,"ngIf"],["class","c-angle-down",4,"ngIf"],["class","c-angle-up",4,"ngIf"],[1,"dropdown-list","animated","fadeIn",3,"ngClass","hidden"],["dropdownList",""],[1,"arrow-2",3,"ngClass"],[3,"ngClass"],[1,"list-area",3,"ngClass"],["class","pure-checkbox select-all",4,"ngIf"],["class","loading-icon","src","assets/img/loading.gif",4,"ngIf"],["class","list-filter",4,"ngIf"],["class","filter-select-all",4,"ngIf"],["style","overflow: auto;",3,"maxHeight",4,"ngIf"],["class","list-message",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"c-list"],["class","c-token",4,"ngFor","ngForOf","ngForTrackBy"],[1,"c-token"],["class","c-label",4,"ngIf"],[1,"c-remove",3,"click"],[3,"name"],[1,"c-label"],[3,"data","item"],["class","c-token",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[1,"c-token",3,"hidden"],[1,"countplaceholder"],[1,"c-remove","clear-all",3,"click"],[1,"c-angle-down"],[1,"c-angle-up"],[1,"pure-checkbox","select-all"],["type","checkbox",3,"checked","disabled","id","change",4,"ngIf"],[3,"for"],[3,"hidden"],["type","checkbox",3,"checked","disabled","id","change"],["src","assets/img/loading.gif",1,"loading-icon"],[1,"list-filter"],["id","searchIcon",1,"c-search"],["class","c-clear",3,"hidden","click",4,"ngIf"],["class","c-input","type","text","aria-labelledby","searchIcon",3,"placeholder","ngModel","ngModelChange","keyup",4,"ngIf"],[3,"data","item",4,"ngIf"],[1,"c-clear",3,"hidden","click"],["type","text","aria-labelledby","searchIcon",1,"c-input",3,"placeholder","ngModel","ngModelChange","keyup"],["searchInput",""],[1,"filter-select-all"],["class","pure-checkbox select-all",3,"click",4,"ngIf"],[1,"pure-checkbox","select-all",3,"click"],["type","checkbox","aria-labelledby","optionName","aria-label","option",3,"checked","disabled"],["type","checkbox","aria-labelledby","option",3,"checked","disabled"],["class","btn-container",4,"ngIf"],[1,"btn-container"],[1,"c-btn","btn-iceblue",3,"click"],[2,"overflow","auto"],[1,"lazyContainer"],["class","pure-checkbox",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"pure-checkbox",3,"ngClass","click"],["type","checkbox","aria-labelledby","option",3,"checked","disabled",4,"ngIf"],["virtualScroller","",1,"lazyContainer",3,"enableUnequalChildrenSizes","items","ngStyle","vsStart","vsEnd"],["scroll",""],["type","checkbox",3,"checked","disabled",4,"ngIf"],["type","checkbox",3,"checked","disabled"],["scroll2",""],["scroll3",""],[4,"ngFor","ngForOf"],["class","pure-checkbox",3,"ngClass","click",4,"ngIf"],["class","pure-checkbox",3,"ngClass",4,"ngIf"],[1,"pure-checkbox",3,"ngClass"],[3,"items","ngStyle","vsUpdate","vsEnd"],["scroll4",""],[1,"list-message"]],template:function(S,k){1&S&&(i.TgZ(0,"div",0,1),i.NdJ("clickOutside",function(){return k.closeDropdownOnClickOut()}),i.TgZ(2,"div",2,3)(4,"div",4),i.NdJ("click",function(De){return k.toggleDropdown(De)}),i.YNc(5,V,2,1,"span",5),i.YNc(6,G,2,2,"span",5),i.YNc(7,_e,2,2,"span",6),i.YNc(8,F,2,2,"div",6),i.YNc(9,R,2,1,"span",7),i.YNc(10,j,2,1,"span",8),i.YNc(11,Y,2,1,"span",9),i.YNc(12,Q,2,1,"span",10),i.qZA()(),i.TgZ(13,"div",11,12),i._UZ(15,"div",13)(16,"div",14),i.TgZ(17,"div",15),i.YNc(18,U,7,6,"div",16),i.YNc(19,se,1,0,"img",17),i.YNc(20,Ue,9,7,"div",18),i.YNc(21,pt,3,2,"div",19),i.YNc(22,ve,2,1,"div",19),i.YNc(23,Me,2,1,"div",19),i.YNc(24,at,3,3,"div",20),i.YNc(25,ft,4,8,"div",20),i.YNc(26,wt,3,3,"div",20),i.YNc(27,Ge,4,8,"div",20),i.YNc(28,lt,4,8,"div",20),i.YNc(29,ai,3,3,"div",20),i.YNc(30,xi,5,12,"div",20),i.YNc(31,Tn,3,3,"div",20),i.YNc(32,Li,2,1,"h5",21),i.qZA()()()),2&S&&(i.xp6(4),i.Q6J("ngClass",i.VKq(38,bn,k.settings.disabled)),i.uIk("tabindex",0),i.xp6(1),i.Q6J("ngIf",0==(null==k.selectedItems?null:k.selectedItems.length)),i.xp6(1),i.Q6J("ngIf",k.settings.singleSelection&&!k.badgeTempl),i.xp6(1),i.Q6J("ngIf",(null==k.selectedItems?null:k.selectedItems.length)>0&&k.settings.singleSelection&&k.badgeTempl),i.xp6(1),i.Q6J("ngIf",(null==k.selectedItems?null:k.selectedItems.length)>0&&!k.settings.singleSelection),i.xp6(1),i.Q6J("ngIf",(null==k.selectedItems?null:k.selectedItems.length)>k.settings.badgeShowLimit),i.xp6(1),i.Q6J("ngIf",k.settings.clearAll&&(null==k.selectedItems?null:k.selectedItems.length)>0&&!k.settings.disabled),i.xp6(1),i.Q6J("ngIf",!k.isActive),i.xp6(1),i.Q6J("ngIf",k.isActive),i.xp6(1),i.Udp("width",k.dropDownWidth,"px")("top",k.dropDownTop)("bottom",k.dropDownBottom)("left",k.dropDownLeft,"px"),i.Q6J("ngClass",i.VKq(40,In,k.settings.tagToBody))("hidden",!k.isActive),i.xp6(2),i.Q6J("ngClass",i.WLB(42,Se,"bottom"==k.settings.position,"top"==k.settings.position)),i.xp6(1),i.Q6J("ngClass",i.WLB(45,Se,"bottom"==k.settings.position,"top"==k.settings.position)),i.xp6(1),i.Q6J("ngClass",i.VKq(48,He,k.settings.singleSelection)),i.xp6(1),i.Q6J("ngIf",k.settings.enableCheckAll&&!k.settings.singleSelection&&!k.settings.limitSelection&&(null==k.data?null:k.data.length)>0&&!k.isDisabledItemPresent),i.xp6(1),i.Q6J("ngIf",k.loading),i.xp6(1),i.Q6J("ngIf",k.settings.enableSearchFilter),i.xp6(1),i.Q6J("ngIf",!k.settings.lazyLoading&&k.settings.enableFilterSelectAll&&!k.isDisabledItemPresent),i.xp6(1),i.Q6J("ngIf",k.settings.lazyLoading&&k.settings.enableFilterSelectAll&&!k.isDisabledItemPresent&&!k.settings.singleSelection),i.xp6(1),i.Q6J("ngIf",null==k.filter?null:k.filter.length),i.xp6(1),i.Q6J("ngIf",!k.settings.groupBy&&!k.settings.lazyLoading&&null==k.itemTempl),i.xp6(1),i.Q6J("ngIf",!k.settings.groupBy&&k.settings.lazyLoading&&null==k.itemTempl),i.xp6(1),i.Q6J("ngIf",!k.settings.groupBy&&!k.settings.lazyLoading&&null!=k.itemTempl),i.xp6(1),i.Q6J("ngIf",!k.settings.groupBy&&k.settings.lazyLoading&&null!=k.itemTempl),i.xp6(1),i.Q6J("ngIf",k.settings.groupBy&&k.settings.lazyLoading&&null!=k.itemTempl),i.xp6(1),i.Q6J("ngIf",k.settings.groupBy&&!k.settings.lazyLoading&&null!=k.itemTempl),i.xp6(1),i.Q6J("ngIf",k.settings.groupBy&&k.settings.lazyLoading&&null==k.itemTempl),i.xp6(1),i.Q6J("ngIf",k.settings.groupBy&&!k.settings.lazyLoading&&null==k.itemTempl),i.xp6(1),i.Q6J("ngIf",0==(null==k.data?null:k.data.length)))},directives:[fe,ie.mk,ie.O5,ie.sg,an,_t,xe.Fj,xe.JJ,xe.On,ln,ie.PC],styles:['virtual-scroll{display:block;width:100%}.cuppa-dropdown{position:relative}.c-btn{display:inline-block;border-width:1px;line-height:1.25;border-radius:3px;font-size:.85rem;padding:5px 10px;cursor:pointer;align-items:center;min-height:38px}.c-btn.disabled{background:#ccc}.selected-list .c-list{float:left;padding:0;margin:0;width:calc(100% - 20px)}.selected-list .c-list .c-token{list-style:none;border-radius:2px;margin-right:4px;margin-top:2px;float:left;position:relative;padding:4px 22px 4px 8px}.selected-list .c-list .c-token .c-label{display:block;float:left}.selected-list .c-list .c-token .c-remove{position:absolute;right:8px;top:50%;transform:translateY(-50%);width:8px}.selected-list .c-list .c-token .c-remove svg{fill:#fff}.selected-list .fa-angle-down,.selected-list .fa-angle-up{font-size:15pt;position:absolute;right:10px;top:50%;transform:translateY(-50%)}.selected-list .c-angle-down,.selected-list .c-angle-up{width:12px;height:12px;position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none}.selected-list .c-angle-down svg,.selected-list .c-angle-up svg{fill:#333}.selected-list .countplaceholder{position:absolute;right:45px;top:50%;transform:translateY(-50%)}.selected-list .c-btn{width:100%;padding:5px 10px;cursor:pointer;display:flex;position:relative}.selected-list .c-btn .c-icon{position:absolute;right:5px;top:50%;transform:translateY(-50%)}.dropdown-list.tagToBody{position:fixed}.dropdown-list{position:absolute;padding-top:14px;width:100%;z-index:99999}.dropdown-list ul{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list ul li{padding:10px;cursor:pointer;text-align:left}.dropdown-list ul li:first-child{padding-top:10px}.dropdown-list ul li:last-child{padding-bottom:10px}.dropdown-list ::-webkit-scrollbar{width:8px}.dropdown-list ::-webkit-scrollbar-thumb{background:#ccc;border-radius:5px}.dropdown-list ::-webkit-scrollbar-track{background:#f2f2f2}.arrow-down,.arrow-up{width:0;height:0;border-left:13px solid transparent;border-right:13px solid transparent;border-bottom:15px solid #fff;margin-left:15px;position:absolute;top:0}.arrow-down{bottom:-14px;top:unset;transform:rotate(180deg)}.arrow-2{border-bottom:15px solid #ccc;top:-1px}.arrow-down.arrow-2{top:unset;bottom:-16px}.list-area{border:1px solid #ccc;border-radius:3px;background:#fff;margin:0}.select-all{padding:10px;text-align:left}.list-filter,.select-all{border-bottom:1px solid #ccc}.list-filter{position:relative;padding-left:35px;height:35px}.list-filter input{border:0;width:100%;height:100%;padding:0}.list-filter input:focus{outline:none}.list-filter .c-search{position:absolute;top:4px;left:10px;width:15px;height:15px}.list-filter .c-search svg{fill:#888}.list-filter .c-clear{position:absolute;top:4px;right:10px;width:15px;height:15px}.list-filter .c-clear svg{fill:#888}.pure-checkbox input[type=checkbox]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.pure-checkbox input[type=checkbox]:focus+label:before,.pure-checkbox input[type=checkbox]:hover+label:before{background-color:none}.pure-checkbox input[type=checkbox]:active+label:before{transition-duration:0s}.pure-checkbox input[type=checkbox]:disabled+label{color:#ccc}.pure-checkbox input[type=checkbox]+label{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;user-select:none;cursor:pointer;margin:0;font-weight:300}.pure-checkbox input[type=checkbox]+label:before{box-sizing:initial;content:"";position:absolute;top:50%;left:0;width:15px;height:15px;margin-top:-9px;text-align:center;transition:all .4s ease;border-radius:3px}.pure-checkbox input[type=checkbox]+label:after{box-sizing:initial;content:"";position:absolute;left:0;width:15px;height:15px;margin-top:-9px;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out}.pure-checkbox input[type=checkbox]:disabled+label:before{border-color:#ccc}.pure-checkbox input[type=checkbox]:disabled:focus+label:before .pure-checkbox input[type=checkbox]:disabled:hover+label:before{background-color:inherit}.pure-checkbox input[type=checkbox]:disabled:checked+label:before{background-color:#ccc}.pure-checkbox input[type=checkbox]+label:after{background-color:initial;top:50%;left:3px;width:9px;height:4px;margin-top:-5px;border-style:solid;border-width:0 0 2px 2px;border-image:none;transform:rotate(-45deg) scale(0)}.pure-checkbox input[type=checkbox]:checked+label:after{content:"";transition:transform .2s ease-out}.pure-checkbox input[type=radio]:checked+label:before{background-color:#fff}.pure-checkbox input[type=radio]:checked+label:after{transform:scale(1)}.pure-checkbox input[type=radio]+label:before{border-radius:50%}.pure-checkbox input[type=checkbox]:checked+label:after{transform:rotate(-45deg) scale(1)}.list-message{text-align:center;margin:0;padding:15px 0;font-size:medium}.list-grp{padding:0 15px!important}.list-grp h4{text-transform:capitalize;margin:15px 0 0;font-size:14px;font-weight:700}.list-grp>li{padding-left:15px!important}.grp-item{padding-left:30px!important}.grp-title{padding-bottom:0!important}.grp-title label{margin-bottom:0!important;font-weight:800;text-transform:capitalize}.grp-title:hover{background:none!important}.loading-icon{width:20px;position:absolute;right:10px;top:23px;z-index:1}.nodata-label{width:100%;text-align:center;padding:10px 0 0}.btn-container{text-align:center;padding:5px}.clear-all{width:8px;position:absolute;top:50%;right:30px;transform:translateY(-50%)}'],encapsulation:2}),pe})(),hi=(()=>{class pe{}return pe.\u0275fac=function(S){return new(S||pe)},pe.\u0275mod=i.oAB({type:pe}),pe.\u0275inj=i.cJS({providers:[Dt,Ut],imports:[[ie.ez,xe.u5,Ei]]}),pe})()},9131:(Xe,de,ce)=>{"use strict";ce.d(de,{T:()=>_});var i=ce(9808),xe=ce(3075),T=(ce(2739),ce(3310),ce(4776),ce(1984),ce(3939),ce(5518),ce(7137),ce(9246),ce(5432),ce(6281),ce(5e3)),_=function(){function H(){}return H.\u0275fac=function(O){return new(O||H)},H.\u0275mod=T.oAB({type:H}),H.\u0275inj=T.cJS({imports:[[i.ez,xe.u5]]}),H}()},3310:(Xe,de,ce)=>{"use strict";ce.d(de,{D:()=>ie});var i=ce(341),xe=ce(5e3),ie=function(){function M(f){this.template=f}return M.ctorParameters=function(){return[{type:xe.Rgc}]},(M=(0,i.gn)([(0,i.w6)("design:paramtypes",[xe.Rgc])],M)).\u0275fac=function(I){return new(I||M)(xe.Y36(xe.Rgc))},M.\u0275dir=xe.lG2({type:M,selectors:[["","queryArrowIcon",""]]}),M}()},2739:(Xe,de,ce)=>{"use strict";ce.d(de,{at:()=>Ge});var i=ce(341),xe=ce(3075),ie=ce(5518),M=ce(4776),f=ce(3939),I=ce(9246),d=ce(7137),A=ce(1984),g=ce(5432),C=ce(6281),E=ce(3310),l=ce(5e3),T=ce(9808),_=["treeContainer"];function H($,X){if(1&$&&l._UZ(0,"i",0),2&$){var be=l.oxw();l.Q6J("ngClass",be.getClassNames("arrowIcon"))}}function oe($,X){1&$&&l.GkF(0)}function O($,X){if(1&$&&(l.ynx(0),l.YNc(1,oe,1,0,"ng-container",10),l.BQk()),2&$){var be=X.ngIf,Ee=l.oxw(2);l.xp6(1),l.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",Ee.getArrowIconContext())}}function q($,X){if(1&$){var be=l.EpF();l.TgZ(0,"a",9),l.NdJ("click",function(){return l.CHM(be),l.oxw().toggleCollapse()}),l.YNc(1,O,2,2,"ng-container",3),l.qZA()}if(2&$){var Ee=l.oxw(),Ye=l.MAs(2);l.Q6J("ngClass",Ee.getClassNames("arrowIconButton",Ee.data.collapsed?"collapsed":null)),l.xp6(1),l.Q6J("ngIf",Ee.getArrowIconTemplate())("ngIfElse",Ye)}}function b($,X){1&$&&l.GkF(0)}function v($,X){if(1&$&&(l.ynx(0),l.TgZ(1,"div",0),l.YNc(2,b,1,0,"ng-container",10),l.qZA(),l.BQk()),2&$){var be=X.ngIf,Ee=l.oxw();l.xp6(1),l.Q6J("ngClass",Ee.getClassNames("buttonGroup","rightAlign")),l.xp6(1),l.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",Ee.getButtonGroupContext())}}function K($,X){if(1&$){var be=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){return l.CHM(be),l.oxw(2).addRuleSet()}),l._UZ(1,"i",0),l._uU(2," Ruleset "),l.qZA()}if(2&$){var Ee=l.oxw(2);l.Q6J("ngClass",Ee.getClassNames("button"))("disabled",Ee.disabled),l.xp6(1),l.Q6J("ngClass",Ee.getClassNames("addIcon"))}}function x($,X){if(1&$){var be=l.EpF();l.ynx(0),l.TgZ(1,"button",11),l.NdJ("click",function(){return l.CHM(be),l.oxw(2).removeRuleSet()}),l._UZ(2,"i",0),l.qZA(),l.BQk()}if(2&$){var Ee=l.oxw(2);l.xp6(1),l.Q6J("ngClass",Ee.getClassNames("button","removeButton"))("disabled",Ee.disabled),l.xp6(1),l.Q6J("ngClass",Ee.getClassNames("removeIcon"))}}function B($,X){if(1&$){var be=l.EpF();l.TgZ(0,"div",0)(1,"button",11),l.NdJ("click",function(){return l.CHM(be),l.oxw().addRule()}),l._UZ(2,"i",0),l._uU(3," Rule "),l.qZA(),l.YNc(4,K,3,3,"button",12),l.YNc(5,x,3,3,"ng-container",13),l.qZA()}if(2&$){var Ee=l.oxw();l.Q6J("ngClass",Ee.getClassNames("buttonGroup","rightAlign")),l.xp6(1),l.Q6J("ngClass",Ee.getClassNames("button"))("disabled",Ee.disabled),l.xp6(1),l.Q6J("ngClass",Ee.getClassNames("addIcon")),l.xp6(2),l.Q6J("ngIf",Ee.allowRuleset),l.xp6(1),l.Q6J("ngIf",!!Ee.parentValue&&Ee.allowRuleset)}}function V($,X){1&$&&l.GkF(0)}function L($,X){if(1&$&&(l.ynx(0),l.YNc(1,V,1,0,"ng-container",10),l.BQk()),2&$){var be=X.ngIf,Ee=l.oxw();l.xp6(1),l.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",Ee.getSwitchGroupContext())}}function G($,X){if(1&$){var be=l.EpF();l.TgZ(0,"div",0)(1,"div",0)(2,"input",14,15),l.NdJ("ngModelChange",function(Qe){return l.CHM(be),l.oxw(2).data.condition=Qe}),l.qZA(),l.TgZ(4,"label",9),l.NdJ("click",function(){l.CHM(be);var Qe=l.MAs(3);return l.oxw(2).changeCondition(Qe.value)}),l._uU(5,"AND"),l.qZA()(),l.TgZ(6,"div",0)(7,"input",16,17),l.NdJ("ngModelChange",function(Qe){return l.CHM(be),l.oxw(2).data.condition=Qe}),l.qZA(),l.TgZ(9,"label",9),l.NdJ("click",function(){l.CHM(be);var Qe=l.MAs(8);return l.oxw(2).changeCondition(Qe.value)}),l._uU(10,"OR"),l.qZA()()()}if(2&$){var Ee=l.oxw(2);l.Q6J("ngClass",Ee.getClassNames("switchGroup","transition")),l.xp6(1),l.Q6J("ngClass",Ee.getClassNames("switchControl")),l.xp6(1),l.Q6J("ngClass",Ee.getClassNames("switchRadio"))("ngModel",Ee.data.condition)("disabled",Ee.disabled),l.xp6(2),l.Q6J("ngClass",Ee.getClassNames("switchLabel")),l.xp6(2),l.Q6J("ngClass",Ee.getClassNames("switchControl")),l.xp6(1),l.Q6J("ngClass",Ee.getClassNames("switchRadio"))("ngModel",Ee.data.condition)("disabled",Ee.disabled),l.xp6(2),l.Q6J("ngClass",Ee.getClassNames("switchLabel"))}}function ne($,X){if(1&$&&l.YNc(0,G,11,11,"div",8),2&$){var be=l.oxw();l.Q6J("ngIf",be.data)}}function le($,X){1&$&&l.GkF(0)}function ue($,X){if(1&$&&(l.ynx(0),l.TgZ(1,"div",0),l.YNc(2,le,1,0,"ng-container",10),l.qZA(),l.BQk()),2&$){var be=X.ngIf,Ee=l.oxw(3).$implicit,Ye=l.oxw(2);l.xp6(1),l.Q6J("ngClass",Ye.getClassNames("buttonGroup","rightAlign")),l.xp6(1),l.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",Ye.getRemoveButtonContext(Ee))}}function _e($,X){if(1&$){var be=l.EpF();l.TgZ(0,"div",0)(1,"button",11),l.NdJ("click",function(){l.CHM(be);var Qe=l.oxw(3).$implicit,lt=l.oxw(2);return lt.removeRule(Qe,lt.data)}),l._UZ(2,"i",0),l.qZA()()}if(2&$){var Ee=l.oxw(5);l.Q6J("ngClass",Ee.getClassNames("removeButtonSize","rightAlign")),l.xp6(1),l.Q6J("ngClass",Ee.getClassNames("button","removeButton"))("disabled",Ee.disabled),l.xp6(1),l.Q6J("ngClass",Ee.getClassNames("removeIcon"))}}function he($,X){1&$&&l.GkF(0)}function Ce($,X){if(1&$&&(l.ynx(0),l.YNc(1,he,1,0,"ng-container",10),l.BQk()),2&$){var be=X.ngIf,Ee=l.oxw(4).$implicit,Ye=l.oxw(2);l.xp6(1),l.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",Ye.getEntityContext(Ee))}}function ee($,X){if(1&$&&(l.TgZ(0,"div",27),l.YNc(1,Ce,2,2,"ng-container",3),l.qZA()),2&$){l.oxw();var be=l.MAs(6),Ee=l.oxw(4);l.xp6(1),l.Q6J("ngIf",Ee.getEntityTemplate())("ngIfElse",be)}}function F($,X){if(1&$&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&$){var be=X.$implicit;l.Q6J("ngValue",be.value),l.xp6(1),l.hij(" ",be.name," ")}}function R($,X){if(1&$){var be=l.EpF();l.TgZ(0,"div",0)(1,"select",28),l.NdJ("ngModelChange",function(lt){return l.CHM(be),l.oxw(3).$implicit.entity=lt})("ngModelChange",function(lt){l.CHM(be);var Tt=l.oxw(3),Ht=Tt.$implicit,Wt=Tt.index,ui=l.oxw(2);return ui.changeEntity(lt,Ht,Wt,ui.data)}),l.YNc(2,F,2,2,"option",29),l.qZA()()}if(2&$){var Ee=l.oxw(3).$implicit,Ye=l.oxw(2);l.Q6J("ngClass",Ye.getClassNames("entityControlSize")),l.xp6(1),l.Q6J("ngClass",Ye.getClassNames("entityControl"))("ngModel",Ee.entity)("disabled",Ye.disabled),l.xp6(1),l.Q6J("ngForOf",Ye.entities)}}function j($,X){1&$&&l.GkF(0)}function Y($,X){if(1&$&&(l.ynx(0),l.YNc(1,j,1,0,"ng-container",10),l.BQk()),2&$){var be=X.ngIf,Ee=l.oxw(3).$implicit,Ye=l.oxw(2);l.xp6(1),l.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",Ye.getFieldContext(Ee))}}function Q($,X){if(1&$&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&$){var be=X.$implicit;l.Q6J("ngValue",be.value),l.xp6(1),l.hij(" ",be.name," ")}}function m($,X){if(1&$){var be=l.EpF();l.TgZ(0,"div",0)(1,"select",28),l.NdJ("ngModelChange",function(lt){return l.CHM(be),l.oxw(3).$implicit.field=lt})("ngModelChange",function(lt){l.CHM(be);var Tt=l.oxw(3).$implicit;return l.oxw(2).changeField(lt,Tt)}),l.YNc(2,Q,2,2,"option",29),l.qZA()()}if(2&$){var Ee=l.oxw(3).$implicit,Ye=l.oxw(2);l.Q6J("ngClass",Ye.getClassNames("fieldControlSize")),l.xp6(1),l.Q6J("ngClass",Ye.getClassNames("fieldControl"))("ngModel",Ee.field)("disabled",Ye.disabled),l.xp6(1),l.Q6J("ngForOf",Ye.getFields(Ee.entity))}}function U($,X){1&$&&l.GkF(0)}function se($,X){if(1&$&&(l.ynx(0),l.YNc(1,U,1,0,"ng-container",10),l.BQk()),2&$){var be=X.ngIf,Ee=l.oxw(3).$implicit,Ye=l.oxw(2);l.xp6(1),l.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",Ye.getOperatorContext(Ee))}}function ye($,X){if(1&$&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&$){var be=X.$implicit;l.Q6J("ngValue",be),l.xp6(1),l.hij(" ",be," ")}}function Z($,X){if(1&$){var be=l.EpF();l.TgZ(0,"div",0)(1,"select",28),l.NdJ("ngModelChange",function(lt){return l.CHM(be),l.oxw(3).$implicit.operator=lt})("ngModelChange",function(){l.CHM(be);var lt=l.oxw(3).$implicit;return l.oxw(2).changeOperator(lt)}),l.YNc(2,ye,2,2,"option",29),l.qZA()()}if(2&$){var Ee=l.oxw(3).$implicit,Ye=l.oxw(2);l.Q6J("ngClass",Ye.getClassNames("operatorControlSize")),l.xp6(1),l.Q6J("ngClass",Ye.getClassNames("operatorControl"))("ngModel",Ee.operator)("disabled",Ye.disabled),l.xp6(1),l.Q6J("ngForOf",Ye.getOperators(Ee.field))}}function we($,X){1&$&&l.GkF(0)}function ke($,X){if(1&$&&(l.ynx(0),l.YNc(1,we,1,0,"ng-container",10),l.BQk()),2&$){var be=X.ngIf,Ee=l.oxw(3).$implicit,Ye=l.oxw(2);l.xp6(1),l.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",Ye.getInputContext(Ee))}}function Ne($,X){if(1&$){var be=l.EpF();l.TgZ(0,"input",39),l.NdJ("ngModelChange",function(lt){return l.CHM(be),l.oxw(4).$implicit.value=lt})("ngModelChange",function(){return l.CHM(be),l.oxw(6).changeInput()}),l.qZA()}if(2&$){var Ee=l.oxw(4).$implicit,Ye=l.oxw(2);l.Q6J("ngClass",Ye.getClassNames("inputControl"))("ngModel",Ee.value)("disabled",Ye.disabled)}}function Fe($,X){if(1&$){var be=l.EpF();l.TgZ(0,"input",40),l.NdJ("ngModelChange",function(lt){return l.CHM(be),l.oxw(4).$implicit.value=lt})("ngModelChange",function(){return l.CHM(be),l.oxw(6).changeInput()}),l.qZA()}if(2&$){var Ee=l.oxw(4).$implicit,Ye=l.oxw(2);l.Q6J("ngClass",Ye.getClassNames("inputControl"))("ngModel",Ee.value)("disabled",Ye.disabled)}}function Ue($,X){if(1&$){var be=l.EpF();l.TgZ(0,"input",41),l.NdJ("ngModelChange",function(lt){return l.CHM(be),l.oxw(4).$implicit.value=lt})("ngModelChange",function(){return l.CHM(be),l.oxw(6).changeInput()}),l.qZA()}if(2&$){var Ee=l.oxw(4).$implicit,Ye=l.oxw(2);l.Q6J("ngClass",Ye.getClassNames("inputControl"))("ngModel",Ee.value)("disabled",Ye.disabled)}}function rt($,X){if(1&$){var be=l.EpF();l.TgZ(0,"input",42),l.NdJ("ngModelChange",function(lt){return l.CHM(be),l.oxw(4).$implicit.value=lt})("ngModelChange",function(){return l.CHM(be),l.oxw(6).changeInput()}),l.qZA()}if(2&$){var Ee=l.oxw(4).$implicit,Ye=l.oxw(2);l.Q6J("ngClass",Ye.getClassNames("inputControl"))("ngModel",Ee.value)("disabled",Ye.disabled)}}function st($,X){if(1&$&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&$){var be=X.$implicit;l.Q6J("ngValue",be.value),l.xp6(1),l.hij(" ",be.name," ")}}function pt($,X){if(1&$){var be=l.EpF();l.TgZ(0,"select",28),l.NdJ("ngModelChange",function(lt){return l.CHM(be),l.oxw(4).$implicit.value=lt})("ngModelChange",function(){return l.CHM(be),l.oxw(6).changeInput()}),l.YNc(1,st,2,2,"option",29),l.qZA()}if(2&$){var Ee=l.oxw(4).$implicit,Ye=l.oxw(2);l.Q6J("ngClass",Ye.getClassNames("inputControl"))("ngModel",Ee.value)("disabled",Ye.disabled),l.xp6(1),l.Q6J("ngForOf",Ye.getOptions(Ee.field))}}function J($,X){if(1&$&&(l.TgZ(0,"option",30),l._uU(1),l.qZA()),2&$){var be=X.$implicit;l.Q6J("ngValue",be.value),l.xp6(1),l.hij(" ",be.name," ")}}function ve($,X){if(1&$){var be=l.EpF();l.ynx(0),l.TgZ(1,"select",43),l.NdJ("ngModelChange",function(lt){return l.CHM(be),l.oxw(4).$implicit.value=lt})("ngModelChange",function(){return l.CHM(be),l.oxw(6).changeInput()}),l.YNc(2,J,2,2,"option",29),l.qZA(),l.BQk()}if(2&$){var Ee=l.oxw(4).$implicit,Ye=l.oxw(2);l.xp6(1),l.Q6J("ngClass",Ye.getClassNames("inputControl"))("ngModel",Ee.value)("disabled",Ye.disabled),l.xp6(1),l.Q6J("ngForOf",Ye.getOptions(Ee.field))}}function Be($,X){if(1&$){var be=l.EpF();l.TgZ(0,"input",44),l.NdJ("ngModelChange",function(lt){return l.CHM(be),l.oxw(4).$implicit.value=lt})("ngModelChange",function(){return l.CHM(be),l.oxw(6).changeInput()}),l.qZA()}if(2&$){var Ee=l.oxw(4).$implicit,Ye=l.oxw(2);l.Q6J("ngClass",Ye.getClassNames("inputControl"))("ngModel",Ee.value)("disabled",Ye.disabled)}}function Me($,X){if(1&$&&(l.TgZ(0,"div",31),l.YNc(1,Ne,1,3,"input",32),l.YNc(2,Fe,1,3,"input",33),l.YNc(3,Ue,1,3,"input",34),l.YNc(4,rt,1,3,"input",35),l.YNc(5,pt,2,4,"select",36),l.YNc(6,ve,3,4,"ng-container",37),l.YNc(7,Be,1,3,"input",38),l.qZA()),2&$){var be=l.oxw(3).$implicit,Ee=l.oxw(2);l.Q6J("ngClass",Ee.getClassNames("inputControlSize"))("ngSwitch",Ee.getInputType(be.field,be.operator)),l.xp6(1),l.Q6J("ngSwitchCase","string"),l.xp6(1),l.Q6J("ngSwitchCase","number"),l.xp6(1),l.Q6J("ngSwitchCase","date"),l.xp6(1),l.Q6J("ngSwitchCase","time"),l.xp6(1),l.Q6J("ngSwitchCase","category"),l.xp6(1),l.Q6J("ngSwitchCase","multiselect"),l.xp6(1),l.Q6J("ngSwitchCase","boolean")}}function Re($,X){if(1&$&&(l.ynx(0),l.YNc(1,ue,3,3,"ng-container",3),l.YNc(2,_e,3,4,"ng-template",null,21,l.W1O),l.YNc(4,ee,2,2,"div",22),l.YNc(5,R,3,5,"ng-template",null,23,l.W1O),l.YNc(7,Y,2,2,"ng-container",3),l.YNc(8,m,3,5,"ng-template",null,24,l.W1O),l.YNc(10,se,2,2,"ng-container",3),l.YNc(11,Z,3,5,"ng-template",null,25,l.W1O),l.YNc(13,ke,2,2,"ng-container",3),l.YNc(14,Me,8,9,"ng-template",null,26,l.W1O),l.BQk()),2&$){var be=l.MAs(3),Ee=l.MAs(9),Ye=l.MAs(12),Qe=l.MAs(15),lt=l.oxw(2).$implicit,Tt=l.oxw(2);l.xp6(1),l.Q6J("ngIf",Tt.getRemoveButtonTemplate())("ngIfElse",be),l.xp6(3),l.Q6J("ngIf",(null==Tt.entities?null:Tt.entities.length)>0),l.xp6(3),l.Q6J("ngIf",Tt.getFieldTemplate())("ngIfElse",Ee),l.xp6(3),l.Q6J("ngIf",Tt.getOperatorTemplate())("ngIfElse",Ye),l.xp6(3),l.Q6J("ngIf",Tt.findTemplateForRule(lt))("ngIfElse",Qe)}}function qe($,X){if(1&$&&l._UZ(0,"query-builder",45),2&$){var be=l.oxw(2).$implicit,Ee=l.oxw(2);l.Q6J("data",be)("disabled",Ee.disabled)("parentTouchedCallback",Ee.parentTouchedCallback||Ee.onTouchedCallback)("parentChangeCallback",Ee.parentChangeCallback||Ee.onChangeCallback)("parentInputTemplates",Ee.parentInputTemplates||Ee.inputTemplates)("parentOperatorTemplate",Ee.parentOperatorTemplate||Ee.operatorTemplate)("parentFieldTemplate",Ee.parentFieldTemplate||Ee.fieldTemplate)("parentEntityTemplate",Ee.parentEntityTemplate||Ee.entityTemplate)("parentSwitchGroupTemplate",Ee.parentSwitchGroupTemplate||Ee.switchGroupTemplate)("parentButtonGroupTemplate",Ee.parentButtonGroupTemplate||Ee.buttonGroupTemplate)("parentRemoveButtonTemplate",Ee.parentRemoveButtonTemplate||Ee.removeButtonTemplate)("parentEmptyWarningTemplate",Ee.parentEmptyWarningTemplate||Ee.emptyWarningTemplate)("parentArrowIconTemplate",Ee.parentArrowIconTemplate||Ee.arrowIconTemplate)("parentValue",Ee.data)("classNames",Ee.classNames)("config",Ee.config)("allowRuleset",Ee.allowRuleset)("allowCollapse",Ee.allowCollapse)("emptyMessage",Ee.emptyMessage)("operatorMap",Ee.operatorMap)}}function et($,X){1&$&&l.GkF(0)}function at($,X){if(1&$&&(l.ynx(0),l.YNc(1,et,1,0,"ng-container",10),l.BQk()),2&$){var be=l.oxw().ngIf,Ee=l.oxw(4);l.xp6(1),l.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",Ee.getEmptyWarningContext())}}function At($,X){if(1&$&&(l.ynx(0),l.YNc(1,at,2,2,"ng-container",13),l.BQk()),2&$){var be=l.oxw().ngIf;l.xp6(1),l.Q6J("ngIf",be.invalid)}}function gt($,X){if(1&$&&(l.TgZ(0,"p",0),l._uU(1),l.qZA()),2&$){var be=l.oxw(5);l.Q6J("ngClass",be.getClassNames("emptyWarning")),l.xp6(1),l.hij(" ",be.emptyMessage," ")}}function Ze($,X){if(1&$&&l.YNc(0,gt,2,2,"p",8),2&$){var be=l.oxw().ngIf;l.Q6J("ngIf",be.invalid)}}function ft($,X){if(1&$&&(l.ynx(0),l.TgZ(1,"li",0),l.YNc(2,Re,16,9,"ng-container",13),l.YNc(3,qe,1,20,"query-builder",19),l.YNc(4,At,2,1,"ng-container",3),l.YNc(5,Ze,1,1,"ng-template",null,20,l.W1O),l.qZA(),l.BQk()),2&$){var be=X.ngIf,Ee=l.MAs(6),Ye=l.oxw(3);l.xp6(1),l.Q6J("ngClass",Ye.getQueryItemClassName(be)),l.xp6(1),l.Q6J("ngIf",!be.ruleset),l.xp6(1),l.Q6J("ngIf",be.ruleset),l.xp6(1),l.Q6J("ngIf",Ye.getEmptyWarningTemplate())("ngIfElse",Ee)}}var Vt=function($,X){return{ruleset:$,invalid:X}};function St($,X){if(1&$&&(l.ynx(0),l.YNc(1,ft,7,5,"ng-container",13),l.BQk()),2&$){var be=X.$implicit,Ee=l.oxw(2);l.xp6(1),l.Q6J("ngIf",l.WLB(1,Vt,!!be.rules,!Ee.config.allowEmptyRulesets&&be.rules&&0===be.rules.length))}}function wt($,X){if(1&$&&(l.TgZ(0,"ul",0),l.YNc(1,St,2,4,"ng-container",18),l.qZA()),2&$){var be=l.oxw();l.Q6J("ngClass",be.getClassNames("tree")),l.xp6(1),l.Q6J("ngForOf",be.data.rules)}}var si={provide:xe.JU,useExisting:(0,l.Gpc)(function(){return Ge}),multi:!0},Gt={provide:xe.Cf,useExisting:(0,l.Gpc)(function(){return Ge}),multi:!0},Ge=function(){function $(X){var be=this;this.changeDetectorRef=X,this.defaultClassNames={arrowIconButton:"q-arrow-icon-button",arrowIcon:"q-icon q-arrow-icon",removeIcon:"q-icon q-remove-icon",addIcon:"q-icon q-add-icon",button:"q-button",buttonGroup:"q-button-group",removeButton:"q-remove-button",switchGroup:"q-switch-group",switchLabel:"q-switch-label",switchRadio:"q-switch-radio",rightAlign:"q-right-align",transition:"q-transition",collapsed:"q-collapsed",treeContainer:"q-tree-container",tree:"q-tree",row:"q-row",connector:"q-connector",rule:"q-rule",ruleSet:"q-ruleset",invalidRuleSet:"q-invalid-ruleset",emptyWarning:"q-empty-warning",fieldControl:"q-field-control",fieldControlSize:"q-control-size",entityControl:"q-entity-control",entityControlSize:"q-control-size",operatorControl:"q-operator-control",operatorControlSize:"q-control-size",inputControl:"q-input-control",inputControlSize:"q-control-size"},this.defaultOperatorMap={string:["=","!=","contains","like"],number:["=","!=",">",">=","<","<="],time:["=","!=",">",">=","<","<="],date:["=","!=",">",">=","<","<="],category:["=","!=","in","not in"],boolean:["="]},this.data={condition:"and",rules:[]},this.allowRuleset=!0,this.allowCollapse=!1,this.emptyMessage="A ruleset cannot be empty. Please add a rule or remove it all together.",this.config={fields:{}},this.persistValueOnFieldChange=!1,this.defaultTemplateTypes=["string","number","time","date","category","boolean","multiselect"],this.defaultPersistValueTypes=["string","number","time","date","boolean"],this.defaultEmptyList=[],this.inputContextCache=new Map,this.operatorContextCache=new Map,this.fieldContextCache=new Map,this.entityContextCache=new Map,this.removeButtonContextCache=new Map,this.getDisabledState=function(){return be.disabled}}return $.prototype.ngOnInit=function(){},$.prototype.ngOnChanges=function(X){var be=this.config,Ee=typeof be;if("object"!==Ee)throw new Error("Expected 'config' must be a valid object, got "+Ee+" instead.");this.fields=Object.keys(be.fields).map(function(Ye){var Qe=be.fields[Ye];return Qe.value=Qe.value||Ye,Qe}),this.entities=be.entities?Object.keys(be.entities).map(function(Ye){var Qe=be.entities[Ye];return Qe.value=Qe.value||Ye,Qe}):null,this.operatorsCache={}},$.prototype.validate=function(X){var be={},Ee=[],Ye=!1;return!this.config.allowEmptyRulesets&&this.checkEmptyRuleInRuleset(this.data)&&(be.empty="Empty rulesets are not allowed.",Ye=!0),this.validateRulesInRuleset(this.data,Ee),Ee.length&&(be.rules=Ee,Ye=!0),Ye?be:null},Object.defineProperty($.prototype,"value",{get:function(){return this.data},set:function(X){this.data=X||{condition:"and",rules:[]},this.handleDataChange()},enumerable:!0,configurable:!0}),$.prototype.writeValue=function(X){this.value=X},$.prototype.registerOnChange=function(X){var be=this;this.onChangeCallback=function(){return X(be.data)}},$.prototype.registerOnTouched=function(X){var be=this;this.onTouchedCallback=function(){return X(be.data)}},$.prototype.setDisabledState=function(X){this.disabled=X,this.changeDetectorRef.detectChanges()},$.prototype.findTemplateForRule=function(X){var be=this.getInputType(X.field,X.operator);if(be){var Ee=this.findQueryInput(be);return Ee?Ee.template:(-1===this.defaultTemplateTypes.indexOf(be)&&console.warn("Could not find template for field with type: "+be),null)}},$.prototype.findQueryInput=function(X){return(this.parentInputTemplates||this.inputTemplates).find(function(Ee){return Ee.queryInputType===X})},$.prototype.getOperators=function(X){if(this.operatorsCache[X])return this.operatorsCache[X];var be=this.defaultEmptyList,Ee=this.config.fields[X];if(this.config.getOperators)return this.config.getOperators(X,Ee);var Ye=Ee.type;return Ee&&Ee.operators?be=Ee.operators:Ye?(0===(be=this.operatorMap&&this.operatorMap[Ye]||this.defaultOperatorMap[Ye]||this.defaultEmptyList).length&&console.warn("No operators found for field '"+X+"' with type "+Ee.type+". Please define an 'operators' property on the field or use the 'operatorMap' binding to fix this."),Ee.nullable&&(be=be.concat(["is null","is not null"]))):console.warn("No 'type' property found on field: '"+X+"'"),this.operatorsCache[X]=be,be},$.prototype.getFields=function(X){return this.entities&&X?this.fields.filter(function(be){return be&&be.entity===X}):this.fields},$.prototype.getInputType=function(X,be){if(this.config.getInputType)return this.config.getInputType(X,be);if(!this.config.fields[X])throw new Error("No configuration for field '"+X+"' could be found! Please add it to config.fields.");var Ee=this.config.fields[X].type;switch(be){case"is null":case"is not null":return null;case"in":case"not in":return"category"===Ee||"boolean"===Ee?"multiselect":Ee;default:return Ee}},$.prototype.getOptions=function(X){return this.config.getOptions?this.config.getOptions(X):this.config.fields[X].options||this.defaultEmptyList},$.prototype.getClassNames=function(){for(var X=this,be=[],Ee=0;Ee<arguments.length;Ee++)be[Ee]=arguments[Ee];var Ye=this.classNames?this.classNames:this.defaultClassNames,Qe=be.map(function(lt){return Ye[lt]||X.defaultClassNames[lt]}).filter(function(lt){return!!lt});return Qe.length?Qe.join(" "):null},$.prototype.getDefaultField=function(X){if(X){if(void 0!==X.defaultField)return this.getDefaultValue(X.defaultField);var be=this.fields.filter(function(Ee){return Ee&&Ee.entity===X.value});return be&&be.length?be[0]:(console.warn("No fields found for entity '"+X.name+"'. A 'defaultOperator' is also not specified on the field config. Operator value will default to null."),null)}return null},$.prototype.getDefaultOperator=function(X){if(X&&void 0!==X.defaultOperator)return this.getDefaultValue(X.defaultOperator);var be=this.getOperators(X.value);return be&&be.length?be[0]:(console.warn("No operators found for field '"+X.value+"'. A 'defaultOperator' is also not specified on the field config. Operator value will default to null."),null)},$.prototype.addRule=function(X){if(!this.disabled){if(X=X||this.data,this.config.addRule)this.config.addRule(X);else{var be=this.fields[0];X.rules=X.rules.concat([{field:be.value,operator:this.getDefaultOperator(be),value:this.getDefaultValue(be.defaultValue),entity:be.entity}])}this.handleTouched(),this.handleDataChange()}},$.prototype.removeRule=function(X,be){this.disabled||(be=be||this.data,this.config.removeRule?this.config.removeRule(X,be):be.rules=be.rules.filter(function(Ee){return Ee!==X}),this.inputContextCache.delete(X),this.operatorContextCache.delete(X),this.fieldContextCache.delete(X),this.entityContextCache.delete(X),this.removeButtonContextCache.delete(X),this.handleTouched(),this.handleDataChange())},$.prototype.addRuleSet=function(X){this.disabled||(X=X||this.data,this.config.addRuleSet?this.config.addRuleSet(X):X.rules=X.rules.concat([{condition:"and",rules:[]}]),this.handleTouched(),this.handleDataChange())},$.prototype.removeRuleSet=function(X,be){this.disabled||(X=X||this.data,be=be||this.parentValue,this.config.removeRuleSet?this.config.removeRuleSet(X,be):be.rules=be.rules.filter(function(Ee){return Ee!==X}),this.handleTouched(),this.handleDataChange())},$.prototype.transitionEnd=function(X){this.treeContainer.nativeElement.style.maxHeight=null},$.prototype.toggleCollapse=function(){var X=this;this.computedTreeContainerHeight(),setTimeout(function(){X.data.collapsed=!X.data.collapsed},100)},$.prototype.computedTreeContainerHeight=function(){var X=this.treeContainer.nativeElement;X&&X.firstElementChild&&(X.style.maxHeight=X.firstElementChild.clientHeight+8+"px")},$.prototype.changeCondition=function(X){this.disabled||(this.data.condition=X,this.handleTouched(),this.handleDataChange())},$.prototype.changeOperator=function(X){this.disabled||(X.value=this.config.coerceValueForOperator?this.config.coerceValueForOperator(X.operator,X.value,X):this.coerceValueForOperator(X.operator,X.value,X),this.handleTouched(),this.handleDataChange())},$.prototype.coerceValueForOperator=function(X,be,Ee){return"multiselect"!==this.getInputType(Ee.field,X)||Array.isArray(be)?be:[be]},$.prototype.changeInput=function(){this.disabled||(this.handleTouched(),this.handleDataChange())},$.prototype.changeField=function(X,be){if(!this.disabled){var Ee=this.inputContextCache.get(be),Qe=this.config.fields[X],lt=this.calculateFieldChangeValue(Ee&&Ee.field,Qe,be.value);void 0!==lt?be.value=lt:delete be.value,be.operator=this.getDefaultOperator(Qe),this.inputContextCache.delete(be),this.operatorContextCache.delete(be),this.fieldContextCache.delete(be),this.entityContextCache.delete(be),this.getInputContext(be),this.getFieldContext(be),this.getOperatorContext(be),this.getEntityContext(be),this.handleTouched(),this.handleDataChange()}},$.prototype.changeEntity=function(X,be,Ee,Ye){if(!this.disabled){var Qe=Ee,lt=Ye,Tt=this.entities.find(function(Wt){return Wt.value===X}),Ht=this.getDefaultField(Tt);lt||(Qe=(lt=this.data).rules.findIndex(function(Wt){return Wt===be})),be.field=Ht.value,lt.rules[Qe]=be,Ht?this.changeField(Ht.value,be):(this.handleTouched(),this.handleDataChange())}},$.prototype.getDefaultValue=function(X){return"function"==typeof X?X():X},$.prototype.getOperatorTemplate=function(){var X=this.parentOperatorTemplate||this.operatorTemplate;return X?X.template:null},$.prototype.getFieldTemplate=function(){var X=this.parentFieldTemplate||this.fieldTemplate;return X?X.template:null},$.prototype.getEntityTemplate=function(){var X=this.parentEntityTemplate||this.entityTemplate;return X?X.template:null},$.prototype.getArrowIconTemplate=function(){var X=this.parentArrowIconTemplate||this.arrowIconTemplate;return X?X.template:null},$.prototype.getButtonGroupTemplate=function(){var X=this.parentButtonGroupTemplate||this.buttonGroupTemplate;return X?X.template:null},$.prototype.getSwitchGroupTemplate=function(){var X=this.parentSwitchGroupTemplate||this.switchGroupTemplate;return X?X.template:null},$.prototype.getRemoveButtonTemplate=function(){var X=this.parentRemoveButtonTemplate||this.removeButtonTemplate;return X?X.template:null},$.prototype.getEmptyWarningTemplate=function(){var X=this.parentEmptyWarningTemplate||this.emptyWarningTemplate;return X?X.template:null},$.prototype.getQueryItemClassName=function(X){var be=this.getClassNames("row","connector","transition");return be+=" "+this.getClassNames(X.ruleset?"ruleSet":"rule"),X.invalid&&(be+=" "+this.getClassNames("invalidRuleSet")),be},$.prototype.getButtonGroupContext=function(){return this.buttonGroupContext||(this.buttonGroupContext={addRule:this.addRule.bind(this),addRuleSet:this.allowRuleset&&this.addRuleSet.bind(this),removeRuleSet:this.allowRuleset&&this.parentValue&&this.removeRuleSet.bind(this),getDisabledState:this.getDisabledState,$implicit:this.data}),this.buttonGroupContext},$.prototype.getRemoveButtonContext=function(X){return this.removeButtonContextCache.has(X)||this.removeButtonContextCache.set(X,{removeRule:this.removeRule.bind(this),getDisabledState:this.getDisabledState,$implicit:X}),this.removeButtonContextCache.get(X)},$.prototype.getFieldContext=function(X){return this.fieldContextCache.has(X)||this.fieldContextCache.set(X,{onChange:this.changeField.bind(this),getFields:this.getFields.bind(this),getDisabledState:this.getDisabledState,fields:this.fields,$implicit:X}),this.fieldContextCache.get(X)},$.prototype.getEntityContext=function(X){return this.entityContextCache.has(X)||this.entityContextCache.set(X,{onChange:this.changeEntity.bind(this),getDisabledState:this.getDisabledState,entities:this.entities,$implicit:X}),this.entityContextCache.get(X)},$.prototype.getSwitchGroupContext=function(){return{onChange:this.changeCondition.bind(this),getDisabledState:this.getDisabledState,$implicit:this.data}},$.prototype.getArrowIconContext=function(){return{getDisabledState:this.getDisabledState,$implicit:this.data}},$.prototype.getEmptyWarningContext=function(){return{getDisabledState:this.getDisabledState,message:this.emptyMessage,$implicit:this.data}},$.prototype.getOperatorContext=function(X){return this.operatorContextCache.has(X)||this.operatorContextCache.set(X,{onChange:this.changeOperator.bind(this),getDisabledState:this.getDisabledState,operators:this.getOperators(X.field),$implicit:X}),this.operatorContextCache.get(X)},$.prototype.getInputContext=function(X){return this.inputContextCache.has(X)||this.inputContextCache.set(X,{onChange:this.changeInput.bind(this),getDisabledState:this.getDisabledState,options:this.getOptions(X.field),field:this.config.fields[X.field],$implicit:X}),this.inputContextCache.get(X)},$.prototype.calculateFieldChangeValue=function(X,be,Ee){return null!=this.config.calculateFieldChangeValue?this.config.calculateFieldChangeValue(X,be,Ee):this.persistValueOnFieldChange&&null!=X&&null!=be&&X.type===be.type&&-1!==this.defaultPersistValueTypes.indexOf(X.type)?Ee:be&&void 0!==be.defaultValue?this.getDefaultValue(be.defaultValue):void 0},$.prototype.checkEmptyRuleInRuleset=function(X){var be=this;return!X||!X.rules||0===X.rules.length||X.rules.some(function(Ee){return!!Ee.rules&&be.checkEmptyRuleInRuleset(Ee)})},$.prototype.validateRulesInRuleset=function(X,be){var Ee=this;X&&X.rules&&X.rules.length>0&&X.rules.forEach(function(Ye){if(Ye.rules)return Ee.validateRulesInRuleset(Ye,be);if(Ye.field){var Qe=Ee.config.fields[Ye.field];if(Qe&&Qe.validator&&Qe.validator.apply){var lt=Qe.validator(Ye,X);null!=lt&&be.push(lt)}}})},$.prototype.handleDataChange=function(){this.changeDetectorRef.markForCheck(),this.onChangeCallback&&this.onChangeCallback(),this.parentChangeCallback&&this.parentChangeCallback()},$.prototype.handleTouched=function(){this.onTouchedCallback&&this.onTouchedCallback(),this.parentTouchedCallback&&this.parentTouchedCallback()},$.ctorParameters=function(){return[{type:l.sBO}]},(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",Boolean)],$.prototype,"disabled",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",Object)],$.prototype,"data",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",Boolean)],$.prototype,"allowRuleset",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",Boolean)],$.prototype,"allowCollapse",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",String)],$.prototype,"emptyMessage",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",Object)],$.prototype,"classNames",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",Object)],$.prototype,"operatorMap",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",Object)],$.prototype,"parentValue",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",Object)],$.prototype,"config",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",E.D)],$.prototype,"parentArrowIconTemplate",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",l.n_E)],$.prototype,"parentInputTemplates",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",ie.r)],$.prototype,"parentOperatorTemplate",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",M.c)],$.prototype,"parentFieldTemplate",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",f.w)],$.prototype,"parentEntityTemplate",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",I.c)],$.prototype,"parentSwitchGroupTemplate",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",d.e)],$.prototype,"parentButtonGroupTemplate",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",g.M)],$.prototype,"parentRemoveButtonTemplate",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",C.P)],$.prototype,"parentEmptyWarningTemplate",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",Function)],$.prototype,"parentChangeCallback",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",Function)],$.prototype,"parentTouchedCallback",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",Boolean)],$.prototype,"persistValueOnFieldChange",void 0),(0,i.gn)([(0,l.i9L)("treeContainer",{static:!0}),(0,i.w6)("design:type",l.SBq)],$.prototype,"treeContainer",void 0),(0,i.gn)([(0,l.aQ5)(d.e),(0,i.w6)("design:type",d.e)],$.prototype,"buttonGroupTemplate",void 0),(0,i.gn)([(0,l.aQ5)(I.c),(0,i.w6)("design:type",I.c)],$.prototype,"switchGroupTemplate",void 0),(0,i.gn)([(0,l.aQ5)(M.c),(0,i.w6)("design:type",M.c)],$.prototype,"fieldTemplate",void 0),(0,i.gn)([(0,l.aQ5)(f.w),(0,i.w6)("design:type",f.w)],$.prototype,"entityTemplate",void 0),(0,i.gn)([(0,l.aQ5)(ie.r),(0,i.w6)("design:type",ie.r)],$.prototype,"operatorTemplate",void 0),(0,i.gn)([(0,l.aQ5)(g.M),(0,i.w6)("design:type",g.M)],$.prototype,"removeButtonTemplate",void 0),(0,i.gn)([(0,l.aQ5)(C.P),(0,i.w6)("design:type",C.P)],$.prototype,"emptyWarningTemplate",void 0),(0,i.gn)([(0,l.AcB)(A.l),(0,i.w6)("design:type",l.n_E)],$.prototype,"inputTemplates",void 0),(0,i.gn)([(0,l.aQ5)(E.D),(0,i.w6)("design:type",E.D)],$.prototype,"arrowIconTemplate",void 0),(0,i.gn)([(0,l.IIB)(),(0,i.w6)("design:type",Object),(0,i.w6)("design:paramtypes",[Object])],$.prototype,"value",null),($=(0,i.gn)([(0,i.w6)("design:paramtypes",[l.sBO])],$)).\u0275fac=function(be){return new(be||$)(l.Y36(l.sBO))},$.\u0275cmp=l.Xpm({type:$,selectors:[["query-builder"]],contentQueries:function(be,Ee,Ye){var Qe;1&be&&(l.Suo(Ye,d.e,5),l.Suo(Ye,I.c,5),l.Suo(Ye,M.c,5),l.Suo(Ye,f.w,5),l.Suo(Ye,ie.r,5),l.Suo(Ye,g.M,5),l.Suo(Ye,C.P,5),l.Suo(Ye,E.D,5),l.Suo(Ye,A.l,4)),2&be&&(l.iGM(Qe=l.CRH())&&(Ee.buttonGroupTemplate=Qe.first),l.iGM(Qe=l.CRH())&&(Ee.switchGroupTemplate=Qe.first),l.iGM(Qe=l.CRH())&&(Ee.fieldTemplate=Qe.first),l.iGM(Qe=l.CRH())&&(Ee.entityTemplate=Qe.first),l.iGM(Qe=l.CRH())&&(Ee.operatorTemplate=Qe.first),l.iGM(Qe=l.CRH())&&(Ee.removeButtonTemplate=Qe.first),l.iGM(Qe=l.CRH())&&(Ee.emptyWarningTemplate=Qe.first),l.iGM(Qe=l.CRH())&&(Ee.arrowIconTemplate=Qe.first),l.iGM(Qe=l.CRH())&&(Ee.inputTemplates=Qe))},viewQuery:function(be,Ee){var Ye;1&be&&l.Gf(_,7),2&be&&l.iGM(Ye=l.CRH())&&(Ee.treeContainer=Ye.first)},inputs:{data:"data",allowRuleset:"allowRuleset",allowCollapse:"allowCollapse",emptyMessage:"emptyMessage",config:"config",persistValueOnFieldChange:"persistValueOnFieldChange",value:"value",disabled:"disabled",classNames:"classNames",operatorMap:"operatorMap",parentValue:"parentValue",parentArrowIconTemplate:"parentArrowIconTemplate",parentInputTemplates:"parentInputTemplates",parentOperatorTemplate:"parentOperatorTemplate",parentFieldTemplate:"parentFieldTemplate",parentEntityTemplate:"parentEntityTemplate",parentSwitchGroupTemplate:"parentSwitchGroupTemplate",parentButtonGroupTemplate:"parentButtonGroupTemplate",parentRemoveButtonTemplate:"parentRemoveButtonTemplate",parentEmptyWarningTemplate:"parentEmptyWarningTemplate",parentChangeCallback:"parentChangeCallback",parentTouchedCallback:"parentTouchedCallback"},features:[l._Bn([si,Gt]),l.TTD],decls:13,vars:8,consts:[[3,"ngClass"],["defaultArrowIcon",""],[3,"ngClass","click",4,"ngIf"],[4,"ngIf","ngIfElse"],["defaultButtonGroup",""],["defaultSwitchGroup",""],[3,"ngClass","transitionend"],["treeContainer",""],[3,"ngClass",4,"ngIf"],[3,"ngClass","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","disabled","click"],["type","button",3,"ngClass","disabled","click",4,"ngIf"],[4,"ngIf"],["type","radio","value","and",3,"ngClass","ngModel","disabled","ngModelChange"],["andOption",""],["type","radio","value","or",3,"ngClass","ngModel","disabled","ngModelChange"],["orOption",""],[4,"ngFor","ngForOf"],[3,"data","disabled","parentTouchedCallback","parentChangeCallback","parentInputTemplates","parentOperatorTemplate","parentFieldTemplate","parentEntityTemplate","parentSwitchGroupTemplate","parentButtonGroupTemplate","parentRemoveButtonTemplate","parentEmptyWarningTemplate","parentArrowIconTemplate","parentValue","classNames","config","allowRuleset","allowCollapse","emptyMessage","operatorMap",4,"ngIf"],["defaultEmptyWarning",""],["defaultRemoveButton",""],["class","q-inline-block-display",4,"ngIf"],["defaultEntity",""],["defaultField",""],["defaultOperator",""],["defaultInput",""],[1,"q-inline-block-display"],[3,"ngClass","ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[3,"ngClass","ngSwitch"],["type","text",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","number",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","date",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","time",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["type","checkbox",3,"ngClass","ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","text",3,"ngClass","ngModel","disabled","ngModelChange"],["type","number",3,"ngClass","ngModel","disabled","ngModelChange"],["type","date",3,"ngClass","ngModel","disabled","ngModelChange"],["type","time",3,"ngClass","ngModel","disabled","ngModelChange"],["multiple","",3,"ngClass","ngModel","disabled","ngModelChange"],["type","checkbox",3,"ngClass","ngModel","disabled","ngModelChange"],[3,"data","disabled","parentTouchedCallback","parentChangeCallback","parentInputTemplates","parentOperatorTemplate","parentFieldTemplate","parentEntityTemplate","parentSwitchGroupTemplate","parentButtonGroupTemplate","parentRemoveButtonTemplate","parentEmptyWarningTemplate","parentArrowIconTemplate","parentValue","classNames","config","allowRuleset","allowCollapse","emptyMessage","operatorMap"]],template:function(be,Ee){if(1&be&&(l.TgZ(0,"div",0),l.YNc(1,H,1,1,"ng-template",null,1,l.W1O),l.YNc(3,q,2,3,"a",2),l.YNc(4,v,3,3,"ng-container",3),l.YNc(5,B,6,6,"ng-template",null,4,l.W1O),l.YNc(7,L,2,2,"ng-container",3),l.YNc(8,ne,1,1,"ng-template",null,5,l.W1O),l.qZA(),l.TgZ(10,"div",6,7),l.NdJ("transitionend",function(Tt){return Ee.transitionEnd(Tt)}),l.YNc(12,wt,2,2,"ul",8),l.qZA()),2&be){var Ye=l.MAs(6),Qe=l.MAs(9);l.Q6J("ngClass",Ee.getClassNames("switchRow")),l.xp6(3),l.Q6J("ngIf",Ee.allowCollapse),l.xp6(1),l.Q6J("ngIf",Ee.getButtonGroupTemplate())("ngIfElse",Ye),l.xp6(3),l.Q6J("ngIf",Ee.getSwitchGroupTemplate())("ngIfElse",Qe),l.xp6(3),l.Q6J("ngClass",Ee.getClassNames("treeContainer",Ee.data.collapsed?"collapsed":null)),l.xp6(2),l.Q6J("ngIf",Ee.data&&Ee.data.rules)}},directives:[T.mk,T.O5,T.tP,xe._,xe.Fj,xe.JJ,xe.On,T.sg,xe.EJ,xe.YN,xe.Kr,T.RF,T.n9,xe.wV,xe.K7,xe.Wl,$],styles:["@charset \"UTF-8\";[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .q-icon[_ngcontent-%COMP%]{font-style:normal;font-size:12px}[_nghost-%COMP%]   .q-remove-icon[_ngcontent-%COMP%]::before{content:'\u274c'}[_nghost-%COMP%]   .q-arrow-icon-button[_ngcontent-%COMP%]{float:left;margin:4px 6px 4px 0;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-transition:transform .25s linear;transition:transform .25s linear;cursor:pointer}[_nghost-%COMP%]   .q-arrow-icon-button.q-collapsed[_ngcontent-%COMP%]{-webkit-transform:rotate(0);transform:rotate(0)}[_nghost-%COMP%]   .q-arrow-icon[_ngcontent-%COMP%]::before{content:'\u25b6'}[_nghost-%COMP%]   .q-add-icon[_ngcontent-%COMP%]{color:#555}[_nghost-%COMP%]   .q-add-icon[_ngcontent-%COMP%]::before{content:'\u2795'}[_nghost-%COMP%]   .q-remove-button[_ngcontent-%COMP%]{color:#b3415d;width:31px}[_nghost-%COMP%]   .q-button-group[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-switch-group[_ngcontent-%COMP%]{font-family:\"Lucida Grande\",Tahoma,Verdana,sans-serif;overflow:hidden}[_nghost-%COMP%]   .q-right-align[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]{margin-left:8px;padding:0 8px;background-color:#fff}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]:disabled{display:none}[_nghost-%COMP%]   .q-control-size[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding-right:10px}[_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%]{display:inline-block;padding:5px 8px;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;width:auto}[_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%]:disabled, [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%]:disabled{border-color:transparent}[_nghost-%COMP%]   .q-entity-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-field-control[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-input-control[_ngcontent-%COMP%]:not([type=checkbox]), [_nghost-%COMP%]   .q-operator-control[_ngcontent-%COMP%]{min-height:32px;-webkit-appearance:none}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]{float:left;margin-bottom:0;font-size:14px;line-height:30px;font-weight:400;text-align:center;text-shadow:none;border:1px solid rgba(0,0,0,.2);box-sizing:border-box}[_nghost-%COMP%]   .q-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f0f0f0}[_nghost-%COMP%]   .q-switch-label[_ngcontent-%COMP%]{background-color:#e4e4e4;padding:0 8px}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]{position:absolute;clip:rect(0,0,0,0);height:1px;width:1px;border:0;overflow:hidden}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:checked + .q-switch-label[_ngcontent-%COMP%]{border:1px solid #619ed7;background:#fff;color:#3176b3}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:disabled + .q-switch-label[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .q-switch-radio[_ngcontent-%COMP%]:checked:disabled + .q-switch-label[_ngcontent-%COMP%]{display:initial;color:initial;cursor:default;border-color:transparent}[_nghost-%COMP%]   .q-invalid-ruleset[_ngcontent-%COMP%]{border:1px solid rgba(179,65,93,.5)!important;background:rgba(179,65,93,.1)!important}[_nghost-%COMP%]   .q-empty-warning[_ngcontent-%COMP%]{color:#8d252e;text-align:center}[_nghost-%COMP%]   .q-ruleset[_ngcontent-%COMP%]{border:1px solid #ccc}[_nghost-%COMP%]   .q-rule[_ngcontent-%COMP%]{border:1px solid #ccc;background:#fff}[_nghost-%COMP%]   .q-transition[_ngcontent-%COMP%]{-webkit-transition:.1s ease-in-out;transition:.1s ease-in-out}[_nghost-%COMP%]   .q-tree-container[_ngcontent-%COMP%]{width:100%;overflow:hidden;-webkit-transition:max-height .25s ease-in;transition:max-height .25s ease-in}[_nghost-%COMP%]   .q-tree-container.q-collapsed[_ngcontent-%COMP%]{max-height:0!important}[_nghost-%COMP%]   .q-tree[_ngcontent-%COMP%]{list-style:none;margin:4px 0 2px}[_nghost-%COMP%]   .q-row[_ngcontent-%COMP%]{padding:6px 8px;margin-top:6px}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]::before{top:-5px;border-width:0 0 2px 2px}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]::after{border-width:0 0 0 2px;top:50%}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]::after, [_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]::before{content:'';left:-12px;border-color:#ccc;border-style:solid;width:9px;height:calc(50% + 6px);position:absolute}[_nghost-%COMP%]   .q-connector[_ngcontent-%COMP%]:last-child::after{content:none}[_nghost-%COMP%]   .q-inline-block-display[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}"]}),$}()},7137:(Xe,de,ce)=>{"use strict";ce.d(de,{e:()=>ie});var i=ce(341),xe=ce(5e3),ie=function(){function M(f){this.template=f}return M.ctorParameters=function(){return[{type:xe.Rgc}]},(M=(0,i.gn)([(0,i.w6)("design:paramtypes",[xe.Rgc])],M)).\u0275fac=function(I){return new(I||M)(xe.Y36(xe.Rgc))},M.\u0275dir=xe.lG2({type:M,selectors:[["","queryButtonGroup",""]]}),M}()},6281:(Xe,de,ce)=>{"use strict";ce.d(de,{P:()=>ie});var i=ce(341),xe=ce(5e3),ie=function(){function M(f){this.template=f}return M.ctorParameters=function(){return[{type:xe.Rgc}]},(M=(0,i.gn)([(0,i.w6)("design:paramtypes",[xe.Rgc])],M)).\u0275fac=function(I){return new(I||M)(xe.Y36(xe.Rgc))},M.\u0275dir=xe.lG2({type:M,selectors:[["","queryEmptyWarning",""]]}),M}()},3939:(Xe,de,ce)=>{"use strict";ce.d(de,{w:()=>ie});var i=ce(341),xe=ce(5e3),ie=function(){function M(f){this.template=f}return M.ctorParameters=function(){return[{type:xe.Rgc}]},(M=(0,i.gn)([(0,i.w6)("design:paramtypes",[xe.Rgc])],M)).\u0275fac=function(I){return new(I||M)(xe.Y36(xe.Rgc))},M.\u0275dir=xe.lG2({type:M,selectors:[["","queryEntity",""]]}),M}()},4776:(Xe,de,ce)=>{"use strict";ce.d(de,{c:()=>ie});var i=ce(341),xe=ce(5e3),ie=function(){function M(f){this.template=f}return M.ctorParameters=function(){return[{type:xe.Rgc}]},(M=(0,i.gn)([(0,i.w6)("design:paramtypes",[xe.Rgc])],M)).\u0275fac=function(I){return new(I||M)(xe.Y36(xe.Rgc))},M.\u0275dir=xe.lG2({type:M,selectors:[["","queryField",""]]}),M}()},1984:(Xe,de,ce)=>{"use strict";ce.d(de,{l:()=>ie});var i=ce(341),xe=ce(5e3),ie=function(){function M(f){this.template=f}return Object.defineProperty(M.prototype,"queryInputType",{get:function(){return this._type},set:function(f){!f||(this._type=f)},enumerable:!0,configurable:!0}),M.ctorParameters=function(){return[{type:xe.Rgc}]},(0,i.gn)([(0,xe.IIB)(),(0,i.w6)("design:type",String),(0,i.w6)("design:paramtypes",[String])],M.prototype,"queryInputType",null),(M=(0,i.gn)([(0,i.w6)("design:paramtypes",[xe.Rgc])],M)).\u0275fac=function(I){return new(I||M)(xe.Y36(xe.Rgc))},M.\u0275dir=xe.lG2({type:M,selectors:[["","queryInput",""]],inputs:{queryInputType:"queryInputType"}}),M}()},5518:(Xe,de,ce)=>{"use strict";ce.d(de,{r:()=>ie});var i=ce(341),xe=ce(5e3),ie=function(){function M(f){this.template=f}return M.ctorParameters=function(){return[{type:xe.Rgc}]},(M=(0,i.gn)([(0,i.w6)("design:paramtypes",[xe.Rgc])],M)).\u0275fac=function(I){return new(I||M)(xe.Y36(xe.Rgc))},M.\u0275dir=xe.lG2({type:M,selectors:[["","queryOperator",""]]}),M}()},5432:(Xe,de,ce)=>{"use strict";ce.d(de,{M:()=>ie});var i=ce(341),xe=ce(5e3),ie=function(){function M(f){this.template=f}return M.ctorParameters=function(){return[{type:xe.Rgc}]},(M=(0,i.gn)([(0,i.w6)("design:paramtypes",[xe.Rgc])],M)).\u0275fac=function(I){return new(I||M)(xe.Y36(xe.Rgc))},M.\u0275dir=xe.lG2({type:M,selectors:[["","queryRemoveButton",""]]}),M}()},9246:(Xe,de,ce)=>{"use strict";ce.d(de,{c:()=>ie});var i=ce(341),xe=ce(5e3),ie=function(){function M(f){this.template=f}return M.ctorParameters=function(){return[{type:xe.Rgc}]},(M=(0,i.gn)([(0,i.w6)("design:paramtypes",[xe.Rgc])],M)).\u0275fac=function(I){return new(I||M)(xe.Y36(xe.Rgc))},M.\u0275dir=xe.lG2({type:M,selectors:[["","querySwitchGroup",""]]}),M}()},6779:(Xe,de,ce)=>{"use strict";ce.d(de,{EH:()=>_n,Fl:()=>Ye,LO:()=>$,U5:()=>Sn,ZN:()=>ns,aD:()=>ni});var i=function(u,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,ae){D.__proto__=ae}||function(D,ae){for(var Pe in ae)ae.hasOwnProperty(Pe)&&(D[Pe]=ae[Pe])})(u,p)};function xe(u,p){function D(){this.constructor=u}i(u,p),u.prototype=null===p?Object.create(p):(D.prototype=p.prototype,new D)}var ie=function(){return ie=Object.assign||function(p){for(var D,ae=1,Pe=arguments.length;ae<Pe;ae++)for(var Ve in D=arguments[ae])Object.prototype.hasOwnProperty.call(D,Ve)&&(p[Ve]=D[Ve]);return p},ie.apply(this,arguments)};function M(u,p){var D="function"==typeof Symbol&&u[Symbol.iterator];if(!D)return u;var Pe,tt,ae=D.call(u),Ve=[];try{for(;(void 0===p||p-- >0)&&!(Pe=ae.next()).done;)Ve.push(Pe.value)}catch(ut){tt={error:ut}}finally{try{Pe&&!Pe.done&&(D=ae.return)&&D.call(ae)}finally{if(tt)throw tt.error}}return Ve}function f(){for(var u=[],p=0;p<arguments.length;p++)u=u.concat(M(arguments[p]));return u}var d=[];Object.freeze(d);var A={};Object.freeze(A);var g={};function C(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:g}function E(){return++_t.mobxGuid}function l(u){throw T(!1,u),"X"}function T(u,p){if(!u)throw new Error("[mobx] "+(p||"An invariant failed, however the error is obfuscated because this is an production build."))}function oe(u){var p=!1;return function(){if(!p)return p=!0,u.apply(this,arguments)}}var O=function(){};function b(u){return null!==u&&"object"==typeof u}function v(u){if(null===u||"object"!=typeof u)return!1;var p=Object.getPrototypeOf(u);return p===Object.prototype||null===p}function B(u,p,D){Object.defineProperty(u,p,{enumerable:!1,writable:!0,configurable:!0,value:D})}function V(u,p,D){Object.defineProperty(u,p,{enumerable:!1,writable:!1,configurable:!0,value:D})}function ne(u,p){var D="isMobX"+u;return p.prototype[D]=!0,function(ae){return b(ae)&&!0===ae[D]}}function _e(u){return void 0!==C().Map&&u instanceof C().Map}function he(u){return u instanceof Set}function Ce(u){for(var p=[];;){var D=u.next();if(D.done)break;p.push(D.value)}return p}function ee(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function F(u){return null===u?null:"object"==typeof u?""+u:u}function R(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function j(u,p){V(u,R(),p)}function Y(u){return u[R()]=m,u}function Q(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function m(){return this}var U=function(){function u(p){void 0===p&&(p="Atom@"+E()),this.name=p,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Qe.NOT_TRACKING}return u.prototype.onBecomeUnobserved=function(){},u.prototype.onBecomeObserved=function(){},u.prototype.reportObserved=function(){return Je(this)},u.prototype.reportChanged=function(){hi(),function S(u){if(u.lowestObserverState!==Qe.STALE){u.lowestObserverState=Qe.STALE;for(var p=u.observers,D=p.length;D--;){var ae=p[D];ae.dependenciesState===Qe.UP_TO_DATE&&(ae.isTracing!==lt.NONE&&De(ae,u),ae.onBecomeStale()),ae.dependenciesState=Qe.STALE}}}(this),pe()},u.prototype.toString=function(){return this.name},u}(),se=ne("Atom",U);function Z(u,p){return u===p}var Fe={identity:Z,structural:function we(u,p){return Cs(u,p)},default:function Ne(u,p){return function le(u,p){return"number"==typeof u&&"number"==typeof p&&isNaN(u)&&isNaN(p)}(u,p)||Z(u,p)},shallow:function ke(u,p){return Cs(u,p,1)}},Ue={},rt={};function st(u,p){var D=p?Ue:rt;return D[u]||(D[u]={configurable:!0,enumerable:p,get:function(){return pt(this),this[u]},set:function(ae){pt(this),this[u]=ae}})}function pt(u){if(!0!==u.__mobxDidRunLazyInitializers){var p=u.__mobxDecorators;if(p)for(var D in B(u,"__mobxDidRunLazyInitializers",!0),p){var ae=p[D];ae.propertyCreator(u,ae.prop,ae.descriptor,ae.decoratorTarget,ae.decoratorArguments)}}}function J(u,p){return function(){var ae,Pe=function(tt,ut,Rt,qt){return!0===qt?(p(tt,ut,Rt,tt,ae),null):(Object.prototype.hasOwnProperty.call(tt,"__mobxDecorators")||B(tt,"__mobxDecorators",ie({},tt.__mobxDecorators)),tt.__mobxDecorators[ut]={prop:ut,propertyCreator:p,descriptor:Rt,decoratorTarget:tt,decoratorArguments:ae},st(ut,u))};return ve(arguments)?(ae=d,Pe.apply(null,arguments)):(ae=Array.prototype.slice.call(arguments),Pe)}}function ve(u){return(2===u.length||3===u.length)&&"string"==typeof u[1]||4===u.length&&!0===u[3]}function Be(u,p,D){return Hn(u)?u:Array.isArray(u)?$.array(u,{name:D}):v(u)?$.object(u,void 0,{name:D}):_e(u)?$.map(u,{name:D}):he(u)?$.set(u,{name:D}):u}function Re(u){return u}function et(u){var p=J(!0,function(ae,Pe,Ve,tt,ut){!function Ys(u,p,D,ae){var Pe=ys(u);if(en(Pe)){var Ve=tn(Pe,{object:u,name:p,type:"add",newValue:D});if(!Ve)return;D=Ve.newValue}D=(Pe.values[p]=new $e(D,ae,Pe.name+"."+p,!1)).value,Object.defineProperty(u,p,function $s(u){return Js[u]||(Js[u]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,u)},set:function(p){this.$mobx.write(this,u,p)}})}(p)),Pe.keys&&Pe.keys.push(p),function Xs(u,p,D,ae){var Pe=Qi(u),Ve=Qt(),tt=Pe||Ve?{type:"add",object:p,name:D,newValue:ae}:null;Ve&&gi(ie({},tt,{name:u.name,key:D})),Pe&&nn(u,tt),Ve&&Zt()}(Pe,u,p,D)}(ae,Pe,Ve?Ve.initializer?Ve.initializer.call(ae):Ve.value:void 0,u)}),D=("undefined"!=typeof process&&process,p);return D.enhancer=u,D}var at={deep:!0,name:void 0,defaultDecorator:void 0};function Ze(u){return null==u?at:"string"==typeof u?{name:u,deep:!0}:u}function ft(u){return u.defaultDecorator?u.defaultDecorator.enhancer:!1===u.deep?Re:Be}Object.freeze(at),Object.freeze({deep:!1,name:void 0,defaultDecorator:void 0});var Vt=et(Be),St=et(function Me(u,p,D){return null==u||qi(u)||Ft(u)||ei(u)||oi(u)?u:Array.isArray(u)?$.array(u,{name:D,deep:!1}):v(u)?$.object(u,void 0,{name:D,deep:!1}):_e(u)?$.map(u,{name:D,deep:!1}):he(u)?$.set(u,{name:D,deep:!1}):l(!1)}),wt=et(Re),si=et(function qe(u,p,D){return Cs(u,p)?p:u}),Ge={box:function(u,p){arguments.length>2&&X("box");var D=Ze(p);return new $e(u,ft(D),D.name,!0,D.equals)},shallowBox:function(u,p){return arguments.length>2&&X("shallowBox"),$.box(u,{name:p,deep:!1})},array:function(u,p){arguments.length>2&&X("array");var D=Ze(p);return new We(u,ft(D),D.name)},shallowArray:function(u,p){return arguments.length>2&&X("shallowArray"),$.array(u,{name:p,deep:!1})},map:function(u,p){arguments.length>2&&X("map");var D=Ze(p);return new Ri(u,ft(D),D.name)},shallowMap:function(u,p){return arguments.length>2&&X("shallowMap"),$.map(u,{name:p,deep:!1})},set:function(u,p){arguments.length>2&&X("set");var D=Ze(p);return new Fn(u,ft(D),D.name)},object:function(u,p,D){"string"==typeof arguments[1]&&X("object");var ae=Ze(D);return ls({},u,p,ae)},shallowObject:function(u,p){return"string"==typeof arguments[1]&&X("shallowObject"),$.object(u,{},{name:p,deep:!1})},ref:wt,shallow:St,deep:Vt,struct:si},$=function Gt(u,p,D){if("string"==typeof arguments[1])return Vt.apply(null,arguments);if(Hn(u))return u;var ae=v(u)?$.object(u,p,D):Array.isArray(u)?$.array(u,p):_e(u)?$.map(u,p):he(u)?$.set(u,p):u;if(ae!==u)return ae;l(!1)};function X(u){l("Expected one or two arguments to observable."+u+". Did you accidentally try to use observable."+u+" as decorator?")}Object.keys(Ge).forEach(function(u){return $[u]=Ge[u]});var be=J(!1,function(u,p,D,ae,Pe){!function Pr(u,p,D){var ae=ys(u);D.name=ae.name+"."+p,D.context=u,ae.values[p]=new Dt(D),Object.defineProperty(u,p,function Tr(u){return Ks[u]||(Ks[u]={configurable:_t.computedConfigurable,enumerable:!1,get:function(){return Zs(this).read(this,u)},set:function(p){Zs(this).write(this,u,p)}})}(p))}(u,p,ie({get:D.get,set:D.set},Pe[0]||{}))}),Ee=be({equals:Fe.structural}),Ye=function(p,D,ae){if("string"==typeof D||null!==p&&"object"==typeof p&&1===arguments.length)return be.apply(null,arguments);var Pe="object"==typeof D?D:{};return Pe.get=p,Pe.set="function"==typeof D?D:Pe.set,Pe.name=Pe.name||p.name||"",new Dt(Pe)};Ye.struct=Ee;var Qe=(()=>{return(u=Qe||(Qe={}))[u.NOT_TRACKING=-1]="NOT_TRACKING",u[u.UP_TO_DATE=0]="UP_TO_DATE",u[u.POSSIBLY_STALE=1]="POSSIBLY_STALE",u[u.STALE=2]="STALE",Qe;var u})(),lt=(()=>{return(u=lt||(lt={}))[u.NONE=0]="NONE",u[u.LOG=1]="LOG",u[u.BREAK=2]="BREAK",lt;var u})(),Tt=function u(p){this.cause=p};function Ht(u){return u instanceof Tt}function Wt(u){switch(u.dependenciesState){case Qe.UP_TO_DATE:return!1;case Qe.NOT_TRACKING:case Qe.STALE:return!0;case Qe.POSSIBLY_STALE:for(var p=xi(),D=u.observing,ae=D.length,Pe=0;Pe<ae;Pe++){var Ve=D[Pe];if(Ut(Ve)){if(_t.disableErrorBoundaries)Ve.get();else try{Ve.get()}catch(tt){return ti(p),!0}if(u.dependenciesState===Qe.STALE)return ti(p),!0}}return rn(u),ti(p),!1}}function ai(u){var p=u.observers.length>0;_t.computationDepth>0&&p&&l(!1),!_t.allowStateChanges&&(p||"strict"===_t.enforceActions)&&l(!1)}function $t(u,p,D){var ae=Ii(!0);rn(u),u.newObserving=new Array(u.observing.length+100),u.unboundDepsCount=0,u.runId=++_t.runId;var Ve,Pe=_t.trackingDerivation;if(_t.trackingDerivation=u,!0===_t.disableErrorBoundaries)Ve=p.call(D);else try{Ve=p.call(D)}catch(tt){Ve=new Tt(tt)}return _t.trackingDerivation=Pe,function Di(u){for(var p=u.observing,D=u.observing=u.newObserving,ae=Qe.UP_TO_DATE,Pe=0,Ve=u.unboundDepsCount,tt=0;tt<Ve;tt++)0===(ut=D[tt]).diffValue&&(ut.diffValue=1,Pe!==tt&&(D[Pe]=ut),Pe++),ut.dependenciesState>ae&&(ae=ut.dependenciesState);for(D.length=Pe,u.newObserving=null,Ve=p.length;Ve--;)0===(ut=p[Ve]).diffValue&&gn(ut,u),ut.diffValue=0;for(;Pe--;){var ut;1===(ut=D[Pe]).diffValue&&(ut.diffValue=0,Wi(ut,u))}ae!==Qe.UP_TO_DATE&&(u.dependenciesState=ae,u.onBecomeStale())}(u),Ti(ae),Ve}function yi(u){var p=u.observing;u.observing=[];for(var D=p.length;D--;)gn(p[D],u);u.dependenciesState=Qe.NOT_TRACKING}function Si(u){var p=xi(),D=u();return ti(p),D}function xi(){var u=_t.trackingDerivation;return _t.trackingDerivation=null,u}function ti(u){_t.trackingDerivation=u}function Ii(u){var p=_t.allowStateReads;return _t.allowStateReads=u,p}function Ti(u){_t.allowStateReads=u}function rn(u){if(u.dependenciesState!==Qe.UP_TO_DATE){u.dependenciesState=Qe.UP_TO_DATE;for(var p=u.observing,D=p.length;D--;)p[D].lowestObserverState=Qe.UP_TO_DATE}}var on=0,Tn=1;function Li(u,p){var D=function(){return bn(u,p,this,arguments)};return D.isMobxAction=!0,D}function bn(u,p,D,ae){var Pe=function In(u,p,D){var ae=Qt()&&!!u,Pe=0;if(ae){Pe=Date.now();var Ve=D&&D.length||0,tt=new Array(Ve);if(Ve>0)for(var ut=0;ut<Ve;ut++)tt[ut]=D[ut];gi({type:"action",name:u,object:p,arguments:tt})}var Rt=xi();hi();var mi={prevDerivation:Rt,prevAllowStateChanges:P(!0),prevAllowStateReads:Ii(!0),notifySpy:ae,startTime:Pe,actionId:Tn++,parentActionId:on};return on=mi.actionId,mi}(u,D,ae);try{return p.apply(D,ae)}catch(Ve){throw Pe.error=Ve,Ve}finally{!function Se(u){on!==u.actionId&&l("invalid action stack. did you forget to finish an action?"),on=u.parentActionId,void 0!==u.error&&(_t.suppressReactionErrors=!0),fe(u.prevAllowStateChanges),Ti(u.prevAllowStateReads),pe(),ti(u.prevDerivation),u.notifySpy&&Zt({time:Date.now()-u.startTime}),_t.suppressReactionErrors=!1}(Pe)}}function P(u){var p=_t.allowStateChanges;return _t.allowStateChanges=u,p}function fe(u){_t.allowStateChanges=u}var $e=function(u){function p(D,ae,Pe,Ve,tt){void 0===Pe&&(Pe="ObservableValue@"+E()),void 0===Ve&&(Ve=!0),void 0===tt&&(tt=Fe.default);var ut=u.call(this,Pe)||this;return ut.enhancer=ae,ut.name=Pe,ut.equals=tt,ut.hasUnreportedChange=!1,ut.value=ae(D,void 0,Pe),Ve&&Qt()&&fi({type:"create",name:ut.name,newValue:""+ut.value}),ut}return xe(p,u),p.prototype.dehanceValue=function(D){return void 0!==this.dehancer?this.dehancer(D):D},p.prototype.set=function(D){var ae=this.value;if((D=this.prepareNewValue(D))!==_t.UNCHANGED){var Pe=Qt();Pe&&gi({type:"update",name:this.name,newValue:D,oldValue:ae}),this.setNewValue(D),Pe&&Zt()}},p.prototype.prepareNewValue=function(D){if(ai(this),en(this)){var ae=tn(this,{object:this,type:"update",newValue:D});if(!ae)return _t.UNCHANGED;D=ae.newValue}return D=this.enhancer(D,this.value,this.name),this.equals(this.value,D)?_t.UNCHANGED:D},p.prototype.setNewValue=function(D){var ae=this.value;this.value=D,this.reportChanged(),Qi(this)&&nn(this,{type:"update",object:this,newValue:D,oldValue:ae})},p.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},p.prototype.intercept=function(D){return hn(this,D)},p.prototype.observe=function(D,ae){return ae&&D({object:this,type:"update",newValue:this.value,oldValue:void 0}),On(this,D)},p.prototype.toJSON=function(){return this.get()},p.prototype.toString=function(){return this.name+"["+this.value+"]"},p.prototype.valueOf=function(){return F(this.get())},p}(U);$e.prototype[ee()]=$e.prototype.valueOf;var Pt=ne("ObservableValue",$e),Dt=function(){function u(p){this.dependenciesState=Qe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Qe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new Tt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=lt.NONE,this.derivation=p.get,this.name=p.name||"ComputedValue@"+E(),p.set&&(this.setter=Li(this.name+"-setter",p.set)),this.equals=p.equals||(p.compareStructural||p.struct?Fe.structural:Fe.default),this.scope=p.context,this.requiresReaction=!!p.requiresReaction,this.keepAlive=!!p.keepAlive}return u.prototype.onBecomeStale=function(){!function Ae(u){if(u.lowestObserverState===Qe.UP_TO_DATE){u.lowestObserverState=Qe.POSSIBLY_STALE;for(var p=u.observers,D=p.length;D--;){var ae=p[D];ae.dependenciesState===Qe.UP_TO_DATE&&(ae.dependenciesState=Qe.POSSIBLY_STALE,ae.isTracing!==lt.NONE&&De(ae,u),ae.onBecomeStale())}}}(this)},u.prototype.onBecomeUnobserved=function(){},u.prototype.onBecomeObserved=function(){},u.prototype.get=function(){this.isComputing&&l("Cycle detected in computation "+this.name+": "+this.derivation),0!==_t.inBatch||0!==this.observers.length||this.keepAlive?(Je(this),Wt(this)&&this.trackAndCompute()&&function k(u){if(u.lowestObserverState!==Qe.STALE){u.lowestObserverState=Qe.STALE;for(var p=u.observers,D=p.length;D--;){var ae=p[D];ae.dependenciesState===Qe.POSSIBLY_STALE?ae.dependenciesState=Qe.STALE:ae.dependenciesState===Qe.UP_TO_DATE&&(u.lowestObserverState=Qe.UP_TO_DATE)}}}(this)):Wt(this)&&(this.warnAboutUntrackedRead(),hi(),this.value=this.computeValue(!1),pe());var p=this.value;if(Ht(p))throw p.cause;return p},u.prototype.peek=function(){var p=this.computeValue(!1);if(Ht(p))throw p.cause;return p},u.prototype.set=function(p){if(this.setter){T(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,p)}finally{this.isRunningSetter=!1}}else T(!1,!1)},u.prototype.trackAndCompute=function(){Qt()&&fi({object:this.scope,type:"compute",name:this.name});var p=this.value,D=this.dependenciesState===Qe.NOT_TRACKING,ae=this.computeValue(!0),Pe=D||Ht(p)||Ht(ae)||!this.equals(p,ae);return Pe&&(this.value=ae),Pe},u.prototype.computeValue=function(p){var D;if(this.isComputing=!0,_t.computationDepth++,p)D=$t(this,this.derivation,this.scope);else if(!0===_t.disableErrorBoundaries)D=this.derivation.call(this.scope);else try{D=this.derivation.call(this.scope)}catch(ae){D=new Tt(ae)}return _t.computationDepth--,this.isComputing=!1,D},u.prototype.suspend=function(){this.keepAlive||(yi(this),this.value=void 0)},u.prototype.observe=function(p,D){var ae=this,Pe=!0,Ve=void 0;return _n(function(){var tt=ae.get();if(!Pe||D){var ut=xi();p({type:"update",object:ae,newValue:tt,oldValue:Ve}),ti(ut)}Pe=!1,Ve=tt})},u.prototype.warnAboutUntrackedRead=function(){},u.prototype.toJSON=function(){return this.get()},u.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},u.prototype.valueOf=function(){return F(this.get())},u}();Dt.prototype[ee()]=Dt.prototype.valueOf;var u,Ut=ne("ComputedValue",Dt),Ui=function u(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Fi=!0,_t=((u=C()).__mobxInstanceCount>0&&!u.__mobxGlobals&&(Fi=!1),u.__mobxGlobals&&u.__mobxGlobals.version!==(new Ui).version&&(Fi=!1),Fi?u.__mobxGlobals?(u.__mobxInstanceCount+=1,u.__mobxGlobals.UNCHANGED||(u.__mobxGlobals.UNCHANGED={}),u.__mobxGlobals):(u.__mobxInstanceCount=1,u.__mobxGlobals=new Ui):(setTimeout(function(){l("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Ui));function Wi(u,p){var D=u.observers.length;D&&(u.observersIndexes[p.__mapid]=D),u.observers[D]=p,u.lowestObserverState>p.dependenciesState&&(u.lowestObserverState=p.dependenciesState)}function gn(u,p){if(1===u.observers.length)u.observers.length=0,It(u);else{var D=u.observers,ae=u.observersIndexes,Pe=D.pop();if(Pe!==p){var Ve=ae[p.__mapid]||0;Ve?ae[Pe.__mapid]=Ve:delete ae[Pe.__mapid],D[Ve]=Pe}delete ae[p.__mapid]}}function It(u){!1===u.isPendingUnobservation&&(u.isPendingUnobservation=!0,_t.pendingUnobservations.push(u))}function hi(){_t.inBatch++}function pe(){if(0==--_t.inBatch){pi();for(var u=_t.pendingUnobservations,p=0;p<u.length;p++){var D=u[p];D.isPendingUnobservation=!1,0===D.observers.length&&(D.isBeingObserved&&(D.isBeingObserved=!1,D.onBecomeUnobserved()),D instanceof Dt&&D.suspend())}_t.pendingUnobservations=[]}}function Je(u){var p=_t.trackingDerivation;return null!==p?(p.runId!==u.lastAccessedBy&&(u.lastAccessedBy=p.runId,p.newObserving[p.unboundDepsCount++]=u,u.isBeingObserved||(u.isBeingObserved=!0,u.onBecomeObserved())),!0):(0===u.observers.length&&_t.inBatch>0&&It(u),!1)}function De(u,p){if(console.log("[mobx.trace] '"+u.name+"' is invalidated due to a change in: '"+p.name+"'"),u.isTracing===lt.BREAK){var D=[];ct(function Ws(u,p){return cs(pn(u,p))}(u),D,1),new Function("debugger;\n/*\nTracing '"+u.name+"'\n\nYou are entering this break point because derivation '"+u.name+"' is being traced and '"+p.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(u instanceof Dt?u.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+D.join("\n")+"\n*/\n    ")()}}function ct(u,p,D){p.length>=1e3?p.push("(and many more)"):(p.push(""+new Array(D).join("\t")+u.name),u.dependencies&&u.dependencies.forEach(function(ae){return ct(ae,p,D+1)}))}var nt=function(){function u(p,D,ae,Pe){void 0===p&&(p="Reaction@"+E()),void 0===Pe&&(Pe=!1),this.name=p,this.onInvalidate=D,this.errorHandler=ae,this.requiresObservable=Pe,this.observing=[],this.newObserving=[],this.dependenciesState=Qe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=lt.NONE}return u.prototype.onBecomeStale=function(){this.schedule()},u.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,_t.pendingReactions.push(this),pi())},u.prototype.isScheduled=function(){return this._isScheduled},u.prototype.runReaction=function(){if(!this.isDisposed){if(hi(),this._isScheduled=!1,Wt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Qt()&&fi({name:this.name,type:"scheduled-reaction"})}catch(p){this.reportExceptionInDerivation(p)}}pe()}},u.prototype.track=function(p){hi();var ae,D=Qt();D&&(ae=Date.now(),gi({name:this.name,type:"reaction"})),this._isRunning=!0;var Pe=$t(this,p,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&yi(this),Ht(Pe)&&this.reportExceptionInDerivation(Pe.cause),D&&Zt({time:Date.now()-ae}),pe()},u.prototype.reportExceptionInDerivation=function(p){var D=this;if(this.errorHandler)this.errorHandler(p,this);else{if(_t.disableErrorBoundaries)throw p;var ae="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";_t.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(ae,p),Qt()&&fi({type:"error",name:this.name,message:ae,error:""+p}),_t.globalReactionErrorHandlers.forEach(function(Pe){return Pe(p,D)})}},u.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(hi(),yi(this),pe()))},u.prototype.getDisposer=function(){var p=this.dispose.bind(this);return p.$mobx=this,p},u.prototype.toString=function(){return"Reaction["+this.name+"]"},u.prototype.trace=function(p){void 0===p&&(p=!1),function Jn(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];var D=!1;"boolean"==typeof u[u.length-1]&&(D=u.pop());var ae=ss(u);if(!ae)return l(!1);ae.isTracing===lt.NONE&&console.log("[mobx.trace] '"+ae.name+"' tracing enabled"),ae.isTracing=D?lt.BREAK:lt.LOG}(this,p)},u}();function pi(){_t.inBatch>0||_t.isRunningReactions||function(u){u()}(li)}function li(){_t.isRunningReactions=!0;for(var u=_t.pendingReactions,p=0;u.length>0;){100==++p&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+u[0]),u.splice(0));for(var D=u.splice(0),ae=0,Pe=D.length;ae<Pe;ae++)D[ae].runReaction()}_t.isRunningReactions=!1}var di=ne("Reaction",nt);function Qt(){return!!_t.spyListeners.length}function fi(u){if(_t.spyListeners.length)for(var p=_t.spyListeners,D=0,ae=p.length;D<ae;D++)p[D](u)}function gi(u){fi(ie({},u,{spyReportStart:!0}))}var yn={spyReportEnd:!0};function Zt(u){fi(u?ie({},u,{spyReportEnd:!0}):yn)}function Yt(){l(!1)}function Bt(u){return function(p,D,ae){if(ae){if(ae.value)return{value:Li(u,ae.value),enumerable:!1,configurable:!0,writable:!0};var Pe=ae.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Li(u,Pe.call(this))}}}return wi(u).apply(this,arguments)}}function wi(u){return function(p,D,ae){Object.defineProperty(p,D,{configurable:!0,enumerable:!1,get:function(){},set:function(Pe){B(this,D,ni(u,Pe))}})}}var ni=function(p,D,ae,Pe){return 1===arguments.length&&"function"==typeof p?Li(p.name||"<unnamed action>",p):2===arguments.length&&"function"==typeof D?Li(p,D):1===arguments.length&&"string"==typeof p?Bt(p):!0!==Pe?Bt(D).apply(null,arguments):void(p[D]=Li(p.name||D,ae.value))};function Xi(u,p,D){B(u,p,Li(p,D.bind(u)))}function _n(u,p){void 0===p&&(p=A);var Pe,D=p&&p.name||u.name||"Autorun@"+E();if(p.scheduler||p.delay){var Ve=vn(p),tt=!1;Pe=new nt(D,function(){tt||(tt=!0,Ve(function(){tt=!1,Pe.isDisposed||Pe.track(ut)}))},p.onError,p.requiresObservable)}else Pe=new nt(D,function(){this.track(ut)},p.onError,p.requiresObservable);function ut(){u(Pe)}return Pe.schedule(),Pe.getDisposer()}ni.bound=function zi(u,p,D,ae){return!0===ae?(Xi(u,p,D.value),null):D?{configurable:!0,enumerable:!1,get:function(){return Xi(this,p,D.value||D.initializer.call(this)),this[p]},set:Yt}:{enumerable:!1,configurable:!0,set:function(Pe){Xi(this,p,Pe)},get:function(){}}};var mn=function(u){return u()};function vn(u){return u.scheduler?u.scheduler:u.delay?function(p){return setTimeout(p,u.delay)}:mn}function Sn(u,p,D){void 0===D&&(D=A),"boolean"==typeof D&&(D={fireImmediately:D});var qt,ae=D.name||"Reaction@"+E(),Pe=ni(ae,D.onError?function Mi(u,p){return function(){try{return p.apply(this,arguments)}catch(D){u.call(this,D)}}}(D.onError,p):p),Ve=!D.scheduler&&!D.delay,tt=vn(D),ut=!0,Rt=!1,jt=D.compareStructural?Fe.structural:D.equals||Fe.default,mi=new nt(ae,function(){ut||Ve?Yi():Rt||(Rt=!0,tt(Yi))},D.onError,D.requiresObservable);function Yi(){if(Rt=!1,!mi.isDisposed){var An=!1;mi.track(function(){var ki=u(mi);An=ut||!jt(qt,ki),qt=ki}),ut&&D.fireImmediately&&Pe(qt,mi),!ut&&!0===An&&Pe(qt,mi),ut&&(ut=!1)}}return mi.schedule(),mi.getDisposer()}function dn(u,p,D){return En("onBecomeUnobserved",u,p,D)}function En(u,p,D,ae){var Pe="function"==typeof ae?pn(p,D):pn(p),Ve="function"==typeof ae?ae:D,tt=Pe[u];return"function"!=typeof tt?l(!1):(Pe[u]=function(){tt.call(this),Ve.call(this)},function(){Pe[u]=tt})}function ls(u,p,D,ae){var Ve=(ae=Ze(ae)).defaultDecorator||(!1===ae.deep?wt:Vt);pt(u),ys(u,ae.name,Ve.enhancer),hi();try{for(var Pe in p){var tt=Object.getOwnPropertyDescriptor(p,Pe),Rt=(D&&Pe in D?D[Pe]:tt.get?be:Ve)(u,Pe,tt,!0);Rt&&Object.defineProperty(u,Pe,Rt)}}finally{pe()}return u}function cs(u){var p={name:u.name};return u.observing&&u.observing.length>0&&(p.dependencies=function q(u){var p=[];return u.forEach(function(D){-1===p.indexOf(D)&&p.push(D)}),p}(u.observing).map(cs)),p}function qn(u,p){if(null==u)return!1;if(void 0!==p){if(qi(u)){var D=u.$mobx;return D.values&&!!D.values[p]}return!1}return qi(u)||!!u.$mobx||se(u)||di(u)||Ut(u)}function Hn(u){return 1!==arguments.length&&l(!1),qn(u)}var is={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Bi(u,p,D,ae){return ae.detectCycles&&u.set(p,D),D}function un(u,p,D){if(!p.recurseEverything&&!Hn(u)||"object"!=typeof u)return u;if(null===u)return null;if(u instanceof Date)return u;if(Pt(u))return un(u.get(),p,D);if(Hn(u)&&function Ln(u){return qi(u)?u.$mobx.getKeys():ei(u)?u._keys.slice():oi(u)?Ce(u.keys()):Ft(u)?u.map(function(p,D){return D}):l(!1)}(u),!0===p.detectCycles&&null!==u&&D.has(u))return D.get(u);if(Ft(u)||Array.isArray(u)){var Pe=Bi(D,u,[],p),Ve=u.map(function(ki){return un(ki,p,D)});Pe.length=Ve.length;for(var tt=0,ut=Ve.length;tt<ut;tt++)Pe[tt]=Ve[tt];return Pe}if(oi(u)||Object.getPrototypeOf(u)===Set.prototype){if(!1===p.exportMapsAsObjects){var Rt=Bi(D,u,new Set,p);return u.forEach(function(ki){Rt.add(un(ki,p,D))}),Rt}var qt=Bi(D,u,[],p);return u.forEach(function(ki){qt.push(un(ki,p,D))}),qt}if(ei(u)||Object.getPrototypeOf(u)===Map.prototype){if(!1===p.exportMapsAsObjects){var jt=Bi(D,u,new Map,p);return u.forEach(function(ki,Ji){jt.set(Ji,un(ki,p,D))}),jt}var mi=Bi(D,u,{},p);return u.forEach(function(ki,Ji){mi[Ji]=un(ki,p,D)}),mi}var Yi=Bi(D,u,{},p);for(var An in u)Yi[An]=un(u[An],p,D);return Yi}function ns(u,p){var D;return"boolean"==typeof p&&(p={detectCycles:p}),p||(p=is),p.detectCycles=void 0===p.detectCycles?!0===p.recurseEverything:!0===p.detectCycles,p.detectCycles&&(D=new Map),un(u,p,D)}function ss(u){switch(u.length){case 0:return _t.trackingDerivation;case 1:return pn(u[0]);case 2:return pn(u[0],u[1])}}function Gi(u,p){void 0===p&&(p=void 0),hi();try{return u.apply(p)}finally{pe()}}function en(u){return void 0!==u.interceptors&&u.interceptors.length>0}function hn(u,p){var D=u.interceptors||(u.interceptors=[]);return D.push(p),oe(function(){var ae=D.indexOf(p);-1!==ae&&D.splice(ae,1)})}function tn(u,p){var D=xi();try{var ae=u.interceptors;if(ae)for(var Pe=0,Ve=ae.length;Pe<Ve&&(T(!(p=ae[Pe](p))||p.type,"Intercept handlers should return nothing or a change object"),p);Pe++);return p}finally{ti(D)}}function Qi(u){return void 0!==u.changeListeners&&u.changeListeners.length>0}function On(u,p){var D=u.changeListeners||(u.changeListeners=[]);return D.push(p),oe(function(){var ae=D.indexOf(p);-1!==ae&&D.splice(ae,1)})}function nn(u,p){var D=xi(),ae=u.changeListeners;if(ae){for(var Pe=0,Ve=(ae=ae.slice()).length;Pe<Ve;Pe++)ae[Pe](p);ti(D)}}var N=function(){var u=!1,p={};return Object.defineProperty(p,"0",{set:function(){u=!0}}),Object.create(p)[0]=1,!1===u}(),y=0,te=function u(){};(function me(u,p){void 0!==Object.setPrototypeOf?Object.setPrototypeOf(u.prototype,p):void 0!==u.prototype.__proto__?u.prototype.__proto__=p:u.prototype=p})(te,Array.prototype),Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(u){Object.defineProperty(te.prototype,u,{configurable:!0,writable:!0,value:Array.prototype[u]})});var Te=function(){function u(p,D,ae,Pe){this.array=ae,this.owned=Pe,this.values=[],this.lastKnownLength=0,this.atom=new U(p||"ObservableArray@"+E()),this.enhancer=function(Ve,tt){return D(Ve,tt,p+"[..]")}}return u.prototype.dehanceValue=function(p){return void 0!==this.dehancer?this.dehancer(p):p},u.prototype.dehanceValues=function(p){return void 0!==this.dehancer&&p.length>0?p.map(this.dehancer):p},u.prototype.intercept=function(p){return hn(this,p)},u.prototype.observe=function(p,D){return void 0===D&&(D=!1),D&&p({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),On(this,p)},u.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},u.prototype.setArrayLength=function(p){if("number"!=typeof p||p<0)throw new Error("[mobx.array] Out of range: "+p);var D=this.values.length;if(p!==D)if(p>D){for(var ae=new Array(p-D),Pe=0;Pe<p-D;Pe++)ae[Pe]=void 0;this.spliceWithArray(D,0,ae)}else this.spliceWithArray(p,D-p)},u.prototype.updateArrayLength=function(p,D){if(p!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=D,D>0&&p+D+1>y&&Lt(p+D+1)},u.prototype.spliceWithArray=function(p,D,ae){var Pe=this;ai(this.atom);var Ve=this.values.length;if(void 0===p?p=0:p>Ve?p=Ve:p<0&&(p=Math.max(0,Ve+p)),D=1===arguments.length?Ve-p:null==D?0:Math.max(0,Math.min(D,Ve-p)),void 0===ae&&(ae=d),en(this)){var tt=tn(this,{object:this.array,type:"splice",index:p,removedCount:D,added:ae});if(!tt)return d;D=tt.removedCount,ae=tt.added}var ut=(ae=0===ae.length?ae:ae.map(function(qt){return Pe.enhancer(qt,void 0)})).length-D;this.updateArrayLength(Ve,ut);var Rt=this.spliceItemsIntoValues(p,D,ae);return(0!==D||0!==ae.length)&&this.notifyArraySplice(p,ae,Rt),this.dehanceValues(Rt)},u.prototype.spliceItemsIntoValues=function(p,D,ae){var Pe;if(ae.length<1e4)return(Pe=this.values).splice.apply(Pe,f([p,D],ae));var Ve=this.values.slice(p,p+D);return this.values=this.values.slice(0,p).concat(ae,this.values.slice(p+D)),Ve},u.prototype.notifyArrayChildUpdate=function(p,D,ae){var Pe=!this.owned&&Qt(),Ve=Qi(this),tt=Ve||Pe?{object:this.array,type:"update",index:p,newValue:D,oldValue:ae}:null;Pe&&gi(ie({},tt,{name:this.atom.name})),this.atom.reportChanged(),Ve&&nn(this,tt),Pe&&Zt()},u.prototype.notifyArraySplice=function(p,D,ae){var Pe=!this.owned&&Qt(),Ve=Qi(this),tt=Ve||Pe?{object:this.array,type:"splice",index:p,removed:ae,added:D,removedCount:ae.length,addedCount:D.length}:null;Pe&&gi(ie({},tt,{name:this.atom.name})),this.atom.reportChanged(),Ve&&nn(this,tt),Pe&&Zt()},u}(),We=function(u){function p(D,ae,Pe,Ve){void 0===Pe&&(Pe="ObservableArray@"+E()),void 0===Ve&&(Ve=!1);var tt=u.call(this)||this,ut=new Te(Pe,ae,tt,Ve);if(V(tt,"$mobx",ut),D&&D.length){var Rt=P(!0);tt.spliceWithArray(0,0,D),fe(Rt)}return N&&Object.defineProperty(ut.array,"0",it),tt}return xe(p,u),p.prototype.intercept=function(D){return this.$mobx.intercept(D)},p.prototype.observe=function(D,ae){return void 0===ae&&(ae=!1),this.$mobx.observe(D,ae)},p.prototype.clear=function(){return this.splice(0)},p.prototype.concat=function(){for(var D=[],ae=0;ae<arguments.length;ae++)D[ae]=arguments[ae];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),D.map(function(Pe){return Ft(Pe)?Pe.peek():Pe}))},p.prototype.replace=function(D){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,D)},p.prototype.toJS=function(){return this.slice()},p.prototype.toJSON=function(){return this.toJS()},p.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},p.prototype.find=function(D,ae,Pe){void 0===Pe&&(Pe=0);var Ve=this.findIndex.apply(this,arguments);return-1===Ve?void 0:this.get(Ve)},p.prototype.findIndex=function(D,ae,Pe){void 0===Pe&&(Pe=0);for(var Ve=this.peek(),tt=Ve.length,ut=Pe;ut<tt;ut++)if(D.call(ae,Ve[ut],ut,this))return ut;return-1},p.prototype.splice=function(D,ae){for(var Pe=[],Ve=2;Ve<arguments.length;Ve++)Pe[Ve-2]=arguments[Ve];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(D);case 2:return this.$mobx.spliceWithArray(D,ae)}return this.$mobx.spliceWithArray(D,ae,Pe)},p.prototype.spliceWithArray=function(D,ae,Pe){return this.$mobx.spliceWithArray(D,ae,Pe)},p.prototype.push=function(){for(var D=[],ae=0;ae<arguments.length;ae++)D[ae]=arguments[ae];var Pe=this.$mobx;return Pe.spliceWithArray(Pe.values.length,0,D),Pe.values.length},p.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},p.prototype.shift=function(){return this.splice(0,1)[0]},p.prototype.unshift=function(){for(var D=[],ae=0;ae<arguments.length;ae++)D[ae]=arguments[ae];var Pe=this.$mobx;return Pe.spliceWithArray(0,0,D),Pe.values.length},p.prototype.reverse=function(){var D=this.slice();return D.reverse.apply(D,arguments)},p.prototype.sort=function(D){var ae=this.slice();return ae.sort.apply(ae,arguments)},p.prototype.remove=function(D){var ae=this.$mobx.dehanceValues(this.$mobx.values).indexOf(D);return ae>-1&&(this.splice(ae,1),!0)},p.prototype.move=function(D,ae){function Pe(ut){if(ut<0)throw new Error("[mobx.array] Index out of bounds: "+ut+" is negative");var Rt=this.$mobx.values.length;if(ut>=Rt)throw new Error("[mobx.array] Index out of bounds: "+ut+" is not smaller than "+Rt)}if(Pe.call(this,D),Pe.call(this,ae),D!==ae){var tt,Ve=this.$mobx.values;tt=D<ae?f(Ve.slice(0,D),Ve.slice(D+1,ae+1),[Ve[D]],Ve.slice(ae+1)):f(Ve.slice(0,ae),[Ve[D]],Ve.slice(ae,D),Ve.slice(D+1)),this.replace(tt)}},p.prototype.get=function(D){var ae=this.$mobx;if(ae){if(D<ae.values.length)return ae.atom.reportObserved(),ae.dehanceValue(ae.values[D]);console.warn("[mobx.array] Attempt to read an array index ("+D+") that is out of bounds ("+ae.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},p.prototype.set=function(D,ae){var Pe=this.$mobx,Ve=Pe.values;if(D<Ve.length){ai(Pe.atom);var tt=Ve[D];if(en(Pe)){var ut=tn(Pe,{type:"update",object:this,index:D,newValue:ae});if(!ut)return;ae=ut.newValue}(ae=Pe.enhancer(ae,tt))!==tt&&(Ve[D]=ae,Pe.notifyArrayChildUpdate(D,ae,tt))}else{if(D!==Ve.length)throw new Error("[mobx.array] Index out of bounds, "+D+" is larger than "+Ve.length);Pe.spliceWithArray(D,0,[ae])}},p}(te);j(We.prototype,function(){this.$mobx.atom.reportObserved();var u=this,p=0;return Y({next:function(){return p<u.length?{value:u[p++],done:!1}:{done:!0,value:void 0}}})}),Object.defineProperty(We.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(u){this.$mobx.setArrayLength(u)}}),B(We.prototype,Q(),"Array"),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(u){var p=Array.prototype[u];T("function"==typeof p,"Base function not defined on Array prototype: '"+u+"'"),B(We.prototype,u,function(){return p.apply(this.peek(),arguments)})}),function x(u,p){for(var D=0;D<p.length;D++)B(u,p[D],u[p[D]])}(We.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var it=yt(0);function yt(u){return{enumerable:!1,configurable:!1,get:function(){return this.get(u)},set:function(p){this.set(u,p)}}}function mt(u){Object.defineProperty(We.prototype,""+u,yt(u))}function Lt(u){for(var p=y;p<u;p++)mt(p);y=u}Lt(1e3);var _i=ne("ObservableArrayAdministration",Te);function Ft(u){return b(u)&&_i(u.$mobx)}var Vi={},Ri=function(){function u(p,D,ae){if(void 0===D&&(D=Be),void 0===ae&&(ae="ObservableMap@"+E()),this.enhancer=D,this.name=ae,this.$mobx=Vi,this._keys=new We(void 0,Re,this.name+".keys()",!0),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(p)}return u.prototype._has=function(p){return this._data.has(p)},u.prototype.has=function(p){var D=this;if(!_t.trackingDerivation)return this._has(p);var ae=this._hasMap.get(p);if(!ae){var Pe=ae=new $e(this._has(p),Re,this.name+"."+wn(p)+"?",!1);this._hasMap.set(p,Pe),dn(Pe,function(){return D._hasMap.delete(p)})}return ae.get()},u.prototype.set=function(p,D){var ae=this._has(p);if(en(this)){var Pe=tn(this,{type:ae?"update":"add",object:this,newValue:D,name:p});if(!Pe)return this;D=Pe.newValue}return ae?this._updateValue(p,D):this._addValue(p,D),this},u.prototype.delete=function(p){var D=this;if(en(this)&&!(ae=tn(this,{type:"delete",object:this,name:p})))return!1;if(this._has(p)){var Pe=Qt(),Ve=Qi(this),ae=Ve||Pe?{type:"delete",object:this,oldValue:this._data.get(p).value,name:p}:null;return Pe&&gi(ie({},ae,{name:this.name,key:p})),Gi(function(){D._keys.remove(p),D._updateHasMapEntry(p,!1),D._data.get(p).setNewValue(void 0),D._data.delete(p)}),Ve&&nn(this,ae),Pe&&Zt(),!0}return!1},u.prototype._updateHasMapEntry=function(p,D){var ae=this._hasMap.get(p);ae&&ae.setNewValue(D)},u.prototype._updateValue=function(p,D){var ae=this._data.get(p);if((D=ae.prepareNewValue(D))!==_t.UNCHANGED){var Pe=Qt(),Ve=Qi(this),tt=Ve||Pe?{type:"update",object:this,oldValue:ae.value,name:p,newValue:D}:null;Pe&&gi(ie({},tt,{name:this.name,key:p})),ae.setNewValue(D),Ve&&nn(this,tt),Pe&&Zt()}},u.prototype._addValue=function(p,D){var ae=this;Gi(function(){var ut=new $e(D,ae.enhancer,ae.name+"."+wn(p),!1);ae._data.set(p,ut),D=ut.value,ae._updateHasMapEntry(p,!0),ae._keys.push(p)});var Pe=Qt(),Ve=Qi(this),tt=Ve||Pe?{type:"add",object:this,name:p,newValue:D}:null;Pe&&gi(ie({},tt,{name:this.name,key:p})),Ve&&nn(this,tt),Pe&&Zt()},u.prototype.get=function(p){return this.has(p)?this.dehanceValue(this._data.get(p).get()):this.dehanceValue(void 0)},u.prototype.dehanceValue=function(p){return void 0!==this.dehancer?this.dehancer(p):p},u.prototype.keys=function(){return this._keys[R()]()},u.prototype.values=function(){var p=this,D=0;return Y({next:function(){return D<p._keys.length?{value:p.get(p._keys[D++]),done:!1}:{value:void 0,done:!0}}})},u.prototype.entries=function(){var p=this,D=0;return Y({next:function(){if(D<p._keys.length){var ae=p._keys[D++];return{value:[ae,p.get(ae)],done:!1}}return{done:!0}}})},u.prototype.forEach=function(p,D){var ae=this;this._keys.forEach(function(Pe){return p.call(D,ae.get(Pe),Pe,ae)})},u.prototype.merge=function(p){var D=this;return ei(p)&&(p=p.toJS()),Gi(function(){v(p)?Object.keys(p).forEach(function(ae){return D.set(ae,p[ae])}):Array.isArray(p)?p.forEach(function(ae){var Pe=M(ae,2);return D.set(Pe[0],Pe[1])}):_e(p)?p.constructor!==Map?l("Cannot initialize from classes that inherit from Map: "+p.constructor.name):p.forEach(function(ae,Pe){return D.set(Pe,ae)}):null!=p&&l("Cannot initialize map from "+p)}),this},u.prototype.clear=function(){var p=this;Gi(function(){Si(function(){p._keys.slice().forEach(function(D){return p.delete(D)})})})},u.prototype.replace=function(p){var D=this;return Gi(function(){for(var ae=function K(u){return _e(u)||ei(u)?u:Array.isArray(u)?new Map(u):v(u)?new Map(Object.entries(u)):l("Cannot convert to map from '"+u+"'")}(p),Pe=D._keys,Ve=Array.from(ae.keys()),tt=!1,ut=0;ut<Pe.length;ut++){var Rt=Pe[ut];Pe.length===Ve.length&&Rt!==Ve[ut]&&(tt=!0),ae.has(Rt)||(tt=!0,D.delete(Rt))}ae.forEach(function(qt,jt){D._data.has(jt)||(tt=!0),D.set(jt,qt)}),tt&&D._keys.replace(Ve)}),this},Object.defineProperty(u.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),u.prototype.toPOJO=function(){var p=this,D={};return this._keys.forEach(function(ae){return D["symbol"==typeof ae?ae:wn(ae)]=p.get(ae)}),D},u.prototype.toJS=function(){var p=this,D=new Map;return this._keys.forEach(function(ae){return D.set(ae,p.get(ae))}),D},u.prototype.toJSON=function(){return this.toPOJO()},u.prototype.toString=function(){var p=this;return this.name+"[{ "+this._keys.map(function(D){return wn(D)+": "+p.get(D)}).join(", ")+" }]"},u.prototype.observe=function(p,D){return On(this,p)},u.prototype.intercept=function(p){return hn(this,p)},u}();function wn(u){return u&&u.toString?u.toString():new String(u).toString()}j(Ri.prototype,function(){return this.entries()}),V(Ri.prototype,Q(),"Map");var ei=ne("ObservableMap",Ri),bs={},Fn=function(){function u(p,D,ae){if(void 0===D&&(D=Be),void 0===ae&&(ae="ObservableSet@"+E()),this.name=ae,this.$mobx=bs,this._data=new Set,this._atom=function ye(u,p,D){void 0===p&&(p=O),void 0===D&&(D=O);var ae=new U(u);return function ji(u,p,D){En("onBecomeObserved",u,p,D)}(ae,p),dn(ae,D),ae}(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(Pe,Ve){return D(Pe,Ve,ae)},p&&this.replace(p)}return u.prototype.dehanceValue=function(p){return void 0!==this.dehancer?this.dehancer(p):p},u.prototype.clear=function(){var p=this;Gi(function(){Si(function(){p._data.forEach(function(D){p.delete(D)})})})},u.prototype.forEach=function(p,D){var ae=this;this._data.forEach(function(Pe){p.call(D,Pe,Pe,ae)})},Object.defineProperty(u.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),u.prototype.add=function(p){var D=this;if(ai(this._atom),en(this)&&!(ae=tn(this,{type:"add",object:this,newValue:p})))return this;if(!this.has(p)){Gi(function(){D._data.add(D.enhancer(p,void 0)),D._atom.reportChanged()});var Pe=Qt(),Ve=Qi(this),ae=Ve||Pe?{type:"add",object:this,newValue:p}:null;Ve&&nn(this,ae)}return this},u.prototype.delete=function(p){var D=this;if(en(this)&&!(ae=tn(this,{type:"delete",object:this,oldValue:p})))return!1;if(this.has(p)){var Pe=Qt(),Ve=Qi(this),ae=Ve||Pe?{type:"delete",object:this,oldValue:p}:null;return Gi(function(){D._atom.reportChanged(),D._data.delete(p)}),Ve&&nn(this,ae),!0}return!1},u.prototype.has=function(p){return this._atom.reportObserved(),this._data.has(this.dehanceValue(p))},u.prototype.entries=function(){var p=0,D=Ce(this.keys()),ae=Ce(this.values());return Y({next:function(){var Pe=p;return p+=1,Pe<ae.length?{value:[D[Pe],ae[Pe]],done:!1}:{done:!0}}})},u.prototype.keys=function(){return this.values()},u.prototype.values=function(){this._atom.reportObserved();var ae,p=this,D=0;return void 0!==this._data.values?ae=Ce(this._data.values()):(ae=[],this._data.forEach(function(Pe){return ae.push(Pe)})),Y({next:function(){return D<ae.length?{value:p.dehanceValue(ae[D++]),done:!1}:{done:!0}}})},u.prototype.replace=function(p){var D=this;return oi(p)&&(p=p.toJS()),Gi(function(){Array.isArray(p)||he(p)?(D.clear(),p.forEach(function(ae){return D.add(ae)})):null!=p&&l("Cannot initialize set from "+p)}),this},u.prototype.observe=function(p,D){return On(this,p)},u.prototype.intercept=function(p){return hn(this,p)},u.prototype.toJS=function(){return new Set(this)},u.prototype.toString=function(){return this.name+"[ "+Ce(this.keys()).join(", ")+" ]"},u}();j(Fn.prototype,function(){return this.values()}),V(Fn.prototype,Q(),"Set");var oi=ne("ObservableSet",Fn),zn=function(){function u(p,D,ae){this.target=p,this.name=D,this.defaultEnhancer=ae,this.values={}}return u.prototype.read=function(p,D){if(this.target===p||(this.illegalAccess(p,D),this.values[D]))return this.values[D].get()},u.prototype.write=function(p,D,ae){var Pe=this.target;Pe!==p&&this.illegalAccess(p,D);var Ve=this.values[D];if(Ve instanceof Dt)Ve.set(ae);else{if(en(this)){if(!(tt=tn(this,{type:"update",object:Pe,name:D,newValue:ae})))return;ae=tt.newValue}if((ae=Ve.prepareNewValue(ae))!==_t.UNCHANGED){var ut=Qi(this),Rt=Qt(),tt=ut||Rt?{type:"update",object:Pe,oldValue:Ve.value,name:D,newValue:ae}:null;Rt&&gi(ie({},tt,{name:this.name,key:D})),Ve.setNewValue(ae),ut&&nn(this,tt),Rt&&Zt()}}},u.prototype.remove=function(p){if(this.values[p]){var D=this.target;if(en(this)&&!(ae=tn(this,{object:D,name:p,type:"remove"})))return;try{hi();var Pe=Qi(this),Ve=Qt(),tt=this.values[p].get();this.keys&&this.keys.remove(p),delete this.values[p],delete this.target[p];var ae=Pe||Ve?{type:"remove",object:D,oldValue:tt,name:p}:null;Ve&&gi(ie({},ae,{name:this.name,key:p})),Pe&&nn(this,ae),Ve&&Zt()}finally{pe()}}},u.prototype.illegalAccess=function(p,D){console.warn("Property '"+D+"' of '"+p+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},u.prototype.observe=function(p,D){return On(this,p)},u.prototype.intercept=function(p){return hn(this,p)},u.prototype.getKeys=function(){var p=this;return void 0===this.keys&&(this.keys=new We(Object.keys(this.values).filter(function(D){return p.values[D]instanceof $e}),Re,"keys("+this.name+")",!0)),this.keys.slice()},u}();function ys(u,p,D){void 0===p&&(p=""),void 0===D&&(D=Be);var ae=u.$mobx;return ae||(v(u)||(p=(u.constructor.name||"ObservableObject")+"@"+E()),p||(p="ObservableObject@"+E()),V(u,"$mobx",ae=new zn(u,p,D)),ae)}var Js=Object.create(null),Ks=Object.create(null);function Zs(u){return u.$mobx||(pt(u),u.$mobx)}var Er=ne("ObservableObjectAdministration",zn);function qi(u){return!!b(u)&&(pt(u),Er(u.$mobx))}function pn(u,p){if("object"==typeof u&&null!==u){if(Ft(u))return void 0!==p&&l(!1),u.$mobx.atom;if(oi(u))return u.$mobx;if(ei(u)){var D=u;return void 0===p?pn(D._keys):((ae=D._data.get(p)||D._hasMap.get(p))||l(!1),ae)}var ae;if(pt(u),qi(u))return p?((ae=u.$mobx.values[p])||l(!1),ae):l(!1);if(se(u)||Ut(u)||di(u))return u}else if("function"==typeof u&&di(u.$mobx))return u.$mobx;return l(!1)}function Cn(u,p){return u||l("Expecting some object"),void 0!==p?Cn(pn(u,p)):se(u)||Ut(u)||di(u)||ei(u)||oi(u)?u:(pt(u),u.$mobx?u.$mobx:void l(!1))}var xs=Object.prototype.toString;function Cs(u,p,D){return void 0===D&&(D=-1),Ss(u,p,D)}function Ss(u,p,D,ae,Pe){if(u===p)return 0!==u||1/u==1/p;if(null==u||null==p)return!1;if(u!=u)return p!=p;var Ve=typeof u;if("function"!==Ve&&"object"!==Ve&&"object"!=typeof p)return!1;u=er(u),p=er(p);var tt=xs.call(u);if(tt!==xs.call(p))return!1;switch(tt){case"[object RegExp]":case"[object String]":return""+u==""+p;case"[object Number]":return+u!=+u?+p!=+p:0==+u?1/+u==1/p:+u==+p;case"[object Date]":case"[object Boolean]":return+u==+p;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(u)===Symbol.valueOf.call(p)}var ut="[object Array]"===tt;if(!ut){if("object"!=typeof u||"object"!=typeof p)return!1;var Rt=u.constructor,qt=p.constructor;if(Rt!==qt&&!("function"==typeof Rt&&Rt instanceof Rt&&"function"==typeof qt&&qt instanceof qt)&&"constructor"in u&&"constructor"in p)return!1}if(0===D)return!1;D<0&&(D=-1),Pe=Pe||[];for(var jt=(ae=ae||[]).length;jt--;)if(ae[jt]===u)return Pe[jt]===p;if(ae.push(u),Pe.push(p),ut){if((jt=u.length)!==p.length)return!1;for(;jt--;)if(!Ss(u[jt],p[jt],D-1,ae,Pe))return!1}else{var mi=Object.keys(u),Yi=void 0;if(jt=mi.length,Object.keys(p).length!==jt)return!1;for(;jt--;)if(!tr(p,Yi=mi[jt])||!Ss(u[Yi],p[Yi],D-1,ae,Pe))return!1}return ae.pop(),Pe.pop(),!0}function er(u){return Ft(u)?u.peek():_e(u)||ei(u)||he(u)||oi(u)?Ce(u.entries()):u}function tr(u,p){return Object.prototype.hasOwnProperty.call(u,p)}"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function Xt(u){return _t.spyListeners.push(u),oe(function(){_t.spyListeners=_t.spyListeners.filter(function(p){return p!==u})})},extras:{getDebugName:function Mr(u,p){return(void 0!==p?pn(u,p):qi(u)||ei(u)||oi(u)?Cn(u):pn(u)).name}},$mobx:"$mobx"})},2387:(Xe,de,ce)=>{"use strict";ce.d(de,{Ud:()=>E,g1:()=>C});var i=ce(5e3),xe=ce(3075),ie=ce(9808),M=(()=>{return(l=M||(M={}))[l.FINANCIAL=0]="FINANCIAL",l[l.NATURAL=1]="NATURAL",M;var l})();let f=new i.OlP("currency.mask.config");class I{constructor(T){this.htmlInputElement=T}setCursorAt(T){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(T,T);else if(this.htmlInputElement.createTextRange){let _=this.htmlInputElement.createTextRange();_.collapse(!0),_.moveEnd("character",T),_.moveStart("character",T),_.select()}}updateValueAndCursor(T,_,H){this.rawValue=T,this.setCursorAt(H-=_-T.length)}get canInputMoreNumbers(){let _=!(this.rawValue.replace(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g,"").length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),H=this.inputSelection.selectionStart,oe=this.inputSelection.selectionEnd,O=!(H==oe||!this.htmlInputElement.value.substring(H,oe).match(/[^0-9\u0660-\u0669\u06F0-\u06F9]/)),q="0"==this.htmlInputElement.value.substring(0,1);return _||O||q}get inputSelection(){let T=0,_=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)T=this.htmlInputElement.selectionStart,_=this.htmlInputElement.selectionEnd;else{let H=document.selection.createRange();if(H&&H.parentElement()==this.htmlInputElement){let oe=this.htmlInputElement.value.length,O=this.htmlInputElement.value.replace(/\r\n/g,"\n"),q=this.htmlInputElement.createTextRange();q.moveToBookmark(H.getBookmark());let b=this.htmlInputElement.createTextRange();b.collapse(!1),q.compareEndPoints("StartToEnd",b)>-1?T=_=oe:(T=-q.moveStart("character",-oe),T+=O.slice(0,T).split("\n").length-1,q.compareEndPoints("EndToEnd",b)>-1?_=oe:(_=-q.moveEnd("character",-oe),_+=O.slice(0,_).split("\n").length-1))}}return{selectionStart:T,selectionEnd:_}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(T){this._storedRawValue=T,this.htmlInputElement&&(this.htmlInputElement.value=T)}get storedRawValue(){return this._storedRawValue||""}}class d{constructor(T,_){this.htmlInputElement=T,this.options=_,this.SINGLE_DIGIT_REGEX=new RegExp(/^[0-9\u0660-\u0669\u06F0-\u06F9]$/),this.ONLY_NUMBERS_REGEX=new RegExp(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g),this.PER_AR_NUMBER=new Map,this.inputManager=new I(T),this.initialize()}initialize(){this.PER_AR_NUMBER.set("\u06f0","0"),this.PER_AR_NUMBER.set("\u06f1","1"),this.PER_AR_NUMBER.set("\u06f2","2"),this.PER_AR_NUMBER.set("\u06f3","3"),this.PER_AR_NUMBER.set("\u06f4","4"),this.PER_AR_NUMBER.set("\u06f5","5"),this.PER_AR_NUMBER.set("\u06f6","6"),this.PER_AR_NUMBER.set("\u06f7","7"),this.PER_AR_NUMBER.set("\u06f8","8"),this.PER_AR_NUMBER.set("\u06f9","9"),this.PER_AR_NUMBER.set("\u0660","0"),this.PER_AR_NUMBER.set("\u0661","1"),this.PER_AR_NUMBER.set("\u0662","2"),this.PER_AR_NUMBER.set("\u0663","3"),this.PER_AR_NUMBER.set("\u0664","4"),this.PER_AR_NUMBER.set("\u0665","5"),this.PER_AR_NUMBER.set("\u0666","6"),this.PER_AR_NUMBER.set("\u0667","7"),this.PER_AR_NUMBER.set("\u0668","8"),this.PER_AR_NUMBER.set("\u0669","9")}addNumber(T){const{decimal:_,precision:H,inputMode:oe}=this.options;let O=String.fromCharCode(T);const q=O===this.options.decimal;if(this.rawValue){let b=this.inputSelection.selectionStart,v=this.inputSelection.selectionEnd;const K=this.rawValue.substring(0,b);let x=this.rawValue.substring(v,this.rawValue.length);const B=-1!==K.indexOf(_);oe===M.NATURAL&&B&&b===v&&(x=x.substring(1));const V=K+O+x;let L=b+1;if(!q&&O!==this.options.thousands||O!==x[0]){if(!this.SINGLE_DIGIT_REGEX.test(O))return}else L++;this.rawValue=V,this.updateFieldValue(L)}else{let b;this.rawValue=this.applyMask(!1,O),oe===M.NATURAL&&H>0&&(b=this.rawValue.indexOf(_),q&&b++),this.updateFieldValue(b)}}applyMask(T,_,H=!1){let{allowNegative:oe,decimal:O,precision:q,prefix:b,suffix:v,thousands:K,min:x,max:B,inputMode:V}=this.options,L=(_=T?new Number(_).toFixed(q):_).replace(this.ONLY_NUMBERS_REGEX,"");if(!L&&_!==O)return"";V===M.NATURAL&&!T&&!H&&(L=(_=this.padOrTrimPrecision(_)).replace(this.ONLY_NUMBERS_REGEX,""));let G=L.slice(0,L.length-q).replace(/^\u0660*/g,"").replace(/^\u06F0*/g,"").replace(/^0*/g,"");""==G&&(G="0");let ne=parseInt(G);G=G.replace(/\B(?=([0-9\u0660-\u0669\u06F0-\u06F9]{3})+(?![0-9\u0660-\u0669\u06F0-\u06F9]))/g,K),K&&G.startsWith(K)&&(G=G.substring(1));let le=G,ue=L.slice(L.length-q),_e=parseInt(ue)||0,he=_.indexOf("-")>-1;B=this.isNullOrUndefined(B)||this.isNullOrUndefined(x)?B:Math.max(B,x);let ee=ne+_e/Number("1".padEnd(q+1,"0"));return ee=he?-ee:ee,!this.isNullOrUndefined(B)&&ee>B?this.applyMask(!0,B+""):!this.isNullOrUndefined(x)&&ee<x?this.applyMask(!0,x+""):(q>0&&(le+="0"==le&&ue.length<q?O+"0".repeat(q-1)+ue:O+ue),(he&&oe&&0!=ee?"-":"")+b+le+v)}padOrTrimPrecision(T){let{decimal:_,precision:H}=this.options,oe=T.lastIndexOf(_);-1===oe&&(oe=T.length,T+=_);let O=T.substring(oe).replace(this.ONLY_NUMBERS_REGEX,"");const q=O.length;if(q<H)for(let b=q;b<H;b++)O+="0";else q>H&&(O=O.substring(0,O.length+H-q));return T.substring(0,oe)+_+O}clearMask(T){if(this.isNullable()&&""===T)return null;let _=(T||"0").replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(_=_.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(_=_.replace(this.options.decimal,".")),this.PER_AR_NUMBER.forEach((H,oe)=>{const O=new RegExp(oe,"g");_=_.replace(O,H)}),parseFloat(_)}changeToNegative(){this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value&&(this.rawValue=this.applyMask(!1,"-"+this.rawValue))}changeToPositive(){this.rawValue=this.applyMask(!1,this.rawValue.replace("-",""))}removeNumber(T){let{decimal:_,thousands:H,prefix:oe,suffix:O,inputMode:q}=this.options;if(this.isNullable()&&0==this.value)return void(this.rawValue=null);let b=this.inputSelection.selectionEnd,v=this.inputSelection.selectionStart;const K=this.rawValue.length-O.length;if(b=Math.min(K,Math.max(b,oe.length)),v=Math.min(K,Math.max(v,oe.length)),v===b&&this.inputSelection.selectionStart!==this.inputSelection.selectionEnd)return void this.updateFieldValue(v);let x=this.rawValue.indexOf(_);-1===x&&(x=this.rawValue.length);let B=0,V="";const L=x<b,G=x+1===b;if(b===v)if(8==T){if(v<=oe.length)return;v--,this.rawValue.substr(v,1).match(/\d/)||v--,q===M.NATURAL&&L&&(B=-1,G&&this.value<10&&this.value>-10&&(V+="0"))}else if(46==T||63272==T){if(v===K)return;b++,this.rawValue.substr(v,1).match(/\d/)||(v++,b++)}if(q===M.NATURAL&&v>x){const ue=b-v;for(let _e=0;_e<ue;_e++)V+="0"}let ne=this.rawValue.length-b;this.rawValue=this.rawValue.substring(0,v)+V+this.rawValue.substring(b),this.rawValue.substr(oe.length,1)===H&&(this.rawValue=this.rawValue.substring(0,oe.length)+this.rawValue.substring(oe.length+1),ne=Math.min(ne,this.rawValue.length-oe.length)),this.updateFieldValue(this.rawValue.length-ne+B,!0)}updateFieldValue(T,_=!1){let H=this.applyMask(!1,this.rawValue||"",_);T=null==T?this.rawValue.length:T,T=Math.max(this.options.prefix.length,Math.min(T,this.rawValue.length-this.options.suffix.length)),this.inputManager.updateValueAndCursor(H,this.rawValue.length,T)}updateOptions(T){let _=this.value;this.options=T,this.value=_}prefixLength(){return this.options.prefix.length}suffixLength(){return this.options.suffix.length}isNullable(){return this.options.nullable}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(T){this.inputManager.rawValue=T}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(T){this.rawValue=this.applyMask(!0,""+T)}isNullOrUndefined(T){return null==T}}class A{constructor(T,_){this.inputService=new d(T,_)}handleCut(T){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(T){let _=this.inputService.inputSelection.selectionStart,H=this.inputService.rawValue.charCodeAt(_-1),oe=this.inputService.rawValue.length,O=this.inputService.storedRawValue.length;if(1!=Math.abs(oe-O))return this.inputService.updateFieldValue(_),void this.onModelChange(this.inputService.value);this.inputService.rawValue=this.inputService.storedRawValue,oe<O&&this.timer(()=>{this.inputService.updateFieldValue(_+1),this.inputService.removeNumber(8),this.onModelChange(this.inputService.value)},0),oe>O&&(this.inputService.updateFieldValue(_-1),this.handleKeypressImpl(H))}handleKeydown(T){let _=T.which||T.charCode||T.keyCode;(8==_||46==_||63272==_)&&(T.preventDefault(),this.inputService.inputSelection.selectionStart<=this.inputService.prefixLength()&&this.inputService.inputSelection.selectionEnd>=this.inputService.rawValue.length-this.inputService.suffixLength()?this.clearValue():(this.inputService.removeNumber(_),this.onModelChange(this.inputService.value)))}clearValue(){this.setValue(this.inputService.isNullable()?null:0),this.onModelChange(this.inputService.value)}handleKeypress(T){let _=T.which||T.charCode||T.keyCode;T.preventDefault(),(97!==_||!T.ctrlKey)&&this.handleKeypressImpl(_)}handleKeypressImpl(T){switch(T){case void 0:case 9:case 13:return;case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)==this.inputService.rawValue.length&&this.setValue(null),this.inputService.addNumber(T))}this.onModelChange(this.inputService.value)}handlePaste(T){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(T){this.inputService.updateOptions(T)}getOnModelChange(){return this.onModelChange}setOnModelChange(T){this.onModelChange=T}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(T){this.onModelTouched=T}setValue(T){this.inputService.value=T}timer(T,_){setTimeout(T,_)}}const g={provide:xe.JU,useExisting:(0,i.Gpc)(()=>C),multi:!0};let C=(()=>{class l{constructor(_,H,oe){this.currencyMaskConfig=_,this.elementRef=H,this.keyValueDiffers=oe,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!1,inputMode:M.FINANCIAL},_&&(this.optionsTemplate=_),this.keyValueDiffer=oe.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options&&this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new A(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(_){this.inputHandler.getOnModelTouched().apply(_)}handleCut(_){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleCut(_)}handleInput(_){this.isChromeAndroid()&&!this.isReadOnly()&&this.inputHandler.handleInput(_)}handleKeydown(_){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeydown(_)}handleKeypress(_){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeypress(_)}handlePaste(_){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handlePaste(_)}handleDrop(_){this.isChromeAndroid()||_.preventDefault()}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}isReadOnly(){return this.elementRef.nativeElement.hasAttribute("readonly")}registerOnChange(_){this.inputHandler.setOnModelChange(_)}registerOnTouched(_){this.inputHandler.setOnModelTouched(_)}setDisabledState(_){this.elementRef.nativeElement.disabled=_}writeValue(_){this.inputHandler.setValue(_)}}return l.\u0275fac=function(_){return new(_||l)(i.Y36(f,8),i.Y36(i.SBq),i.Y36(i.aQg))},l.\u0275dir=i.lG2({type:l,selectors:[["","currencyMask",""]],hostBindings:function(_,H){1&_&&i.NdJ("blur",function(O){return H.handleBlur(O)})("cut",function(O){return H.handleCut(O)})("input",function(O){return H.handleInput(O)})("keydown",function(O){return H.handleKeydown(O)})("keypress",function(O){return H.handleKeypress(O)})("paste",function(O){return H.handlePaste(O)})("drop",function(O){return H.handleDrop(O)})},inputs:{options:"options"},features:[i._Bn([g])]}),l})(),E=(()=>{class l{static forRoot(_){return{ngModule:l,providers:[{provide:f,useValue:_}]}}}return l.\u0275fac=function(_){return new(_||l)},l.\u0275mod=i.oAB({type:l}),l.\u0275inj=i.cJS({imports:[[ie.ez,xe.u5]]}),l})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(8926).default,ce;ce=function(){return(()=>{"use strict";var __webpack_modules__=[,(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.VerbosityLevel=de.Util=de.UnknownErrorException=de.UnexpectedResponseException=de.UNSUPPORTED_FEATURES=de.TextRenderingMode=de.StreamType=de.RenderingIntentFlag=de.PermissionFlag=de.PasswordResponses=de.PasswordException=de.PageActionEventType=de.OPS=de.MissingPDFException=de.IsLittleEndianCached=de.IsEvalSupportedCached=de.InvalidPDFException=de.ImageKind=de.IDENTITY_MATRIX=de.FormatError=de.FontType=de.FONT_IDENTITY_MATRIX=de.DocumentActionEventType=de.CMapCompressionType=de.BaseException=de.AnnotationType=de.AnnotationStateModelType=de.AnnotationReviewState=de.AnnotationReplyType=de.AnnotationMode=de.AnnotationMarkedState=de.AnnotationFlag=de.AnnotationFieldFlag=de.AnnotationBorderStyleType=de.AnnotationActionEventType=de.AbortException=void 0,de.arrayByteLength=Fe,de.arraysToBytes=function Ue(Ge){const $=Ge.length;if(1===$&&Ge[0]instanceof Uint8Array)return Ge[0];let X=0;for(let Ye=0;Ye<$;Ye++)X+=Fe(Ge[Ye]);let be=0;const Ee=new Uint8Array(X);for(let Ye=0;Ye<$;Ye++){let Qe=Ge[Ye];Qe instanceof Uint8Array||(Qe="string"==typeof Qe?Ne(Qe):new Uint8Array(Qe));const lt=Qe.byteLength;Ee.set(Qe,be),be+=lt}return Ee},de.assert=function Ce(Ge,$){Ge||he($)},de.bytesToString=function ke(Ge){("object"!=typeof Ge||null===Ge||void 0===Ge.length)&&he("Invalid argument for bytesToString");const $=Ge.length,X=8192;if($<X)return String.fromCharCode.apply(null,Ge);const be=[];for(let Ee=0;Ee<$;Ee+=X){const Ye=Math.min(Ee+X,$),Qe=Ge.subarray(Ee,Ye);be.push(String.fromCharCode.apply(null,Qe))}return be.join("")},de.createPromiseCapability=function Gt(){const Ge=Object.create(null);let $=!1;return Object.defineProperty(Ge,"settled",{get:()=>$}),Ge.promise=new Promise(function(X,be){Ge.resolve=function(Ee){$=!0,X(Ee)},Ge.reject=function(Ee){$=!0,be(Ee)}}),Ge},de.createValidAbsoluteUrl=function R(Ge,$=null,X=null){if(!Ge)return null;try{if(X&&"string"==typeof Ge){if(X.addDefaultProtocol&&Ge.startsWith("www.")){const Ee=Ge.match(/\./g);Ee&&Ee.length>=2&&(Ge=`http://${Ge}`)}if(X.tryConvertEncoding)try{Ge=ft(Ge)}catch(Ee){}}const be=$?new URL(Ge,$):new URL(Ge);if(function F(Ge){if(!Ge)return!1;switch(Ge.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(be))return be}catch(be){}return null},de.escapeString=function At(Ge){return Ge.replace(/([()\\\n\r])/g,$=>"\n"===$?"\\n":"\r"===$?"\\r":`\\${$}`)},de.getModificationDate=function si(Ge=new Date){return[Ge.getUTCFullYear().toString(),(Ge.getUTCMonth()+1).toString().padStart(2,"0"),Ge.getUTCDate().toString().padStart(2,"0"),Ge.getUTCHours().toString().padStart(2,"0"),Ge.getUTCMinutes().toString().padStart(2,"0"),Ge.getUTCSeconds().toString().padStart(2,"0")].join("")},de.getVerbosityLevel=function le(){return G},de.info=function ue(Ge){G>=K.INFOS&&console.log(`Info: ${Ge}`)},de.isArrayBuffer=function St(Ge){return"object"==typeof Ge&&null!==Ge&&void 0!==Ge.byteLength},de.isArrayEqual=function wt(Ge,$){if(Ge.length!==$.length)return!1;for(let X=0,be=Ge.length;X<be;X++)if(Ge[X]!==$[X])return!1;return!0},de.isAscii=function gt(Ge){return/^[\x00-\x7F]*$/.test(Ge)},de.isSameOrigin=function ee(Ge,$){let X;try{if(X=new URL(Ge),!X.origin||"null"===X.origin)return!1}catch(Ee){return!1}const be=new URL($,X);return X.origin===be.origin},de.objectFromMap=function pt(Ge){const $=Object.create(null);for(const[X,be]of Ge)$[X]=be;return $},de.objectSize=function st(Ge){return Object.keys(Ge).length},de.setVerbosityLevel=function ne(Ge){Number.isInteger(Ge)&&(G=Ge)},de.shadow=j,de.string32=function rt(Ge){return String.fromCharCode(Ge>>24&255,Ge>>16&255,Ge>>8&255,255&Ge)},de.stringToBytes=Ne,de.stringToPDFString=function at(Ge){if(Ge[0]>="\xef"){let X;if("\xfe"===Ge[0]&&"\xff"===Ge[1]?X="utf-16be":"\xff"===Ge[0]&&"\xfe"===Ge[1]?X="utf-16le":"\xef"===Ge[0]&&"\xbb"===Ge[1]&&"\xbf"===Ge[2]&&(X="utf-8"),X)try{const be=new TextDecoder(X,{fatal:!0}),Ee=Ne(Ge);return be.decode(Ee)}catch(be){_e(`stringToPDFString: "${be}".`)}}const $=[];for(let X=0,be=Ge.length;X<be;X++){const Ee=et[Ge.charCodeAt(X)];$.push(Ee?String.fromCharCode(Ee):Ge.charAt(X))}return $.join("")},de.stringToUTF16BEString=function Ze(Ge){const $=["\xfe\xff"];for(let X=0,be=Ge.length;X<be;X++){const Ee=Ge.charCodeAt(X);$.push(String.fromCharCode(Ee>>8&255),String.fromCharCode(255&Ee))}return $.join("")},de.stringToUTF8String=ft,de.unreachable=he,de.utf8StringToString=function Vt(Ge){return unescape(encodeURIComponent(Ge))},de.warn=_e,ce(2),de.IDENTITY_MATRIX=[1,0,0,1,0,0],de.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],de.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},de.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},de.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},de.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},de.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},de.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},de.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},de.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},de.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},de.AnnotationReplyType={GROUP:"Group",REPLY:"R"},de.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},de.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},de.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},de.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},de.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},de.PageActionEventType={O:"PageOpen",C:"PageClose"},de.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},de.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const K={ERRORS:0,WARNINGS:1,INFOS:5};de.VerbosityLevel=K,de.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},de.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},de.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},de.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let G=K.WARNINGS;function _e(Ge){G>=K.WARNINGS&&console.log(`Warning: ${Ge}`)}function he(Ge){throw new Error(Ge)}function j(Ge,$,X){return Object.defineProperty(Ge,$,{value:X,enumerable:!0,configurable:!0,writable:!1}),X}const Y=function(){function $(X,be){this.constructor===$&&he("Cannot initialize BaseException."),this.message=X,this.name=be}return $.prototype=new Error,$.constructor=$,$}();function Ne(Ge){"string"!=typeof Ge&&he("Invalid argument for stringToBytes");const $=Ge.length,X=new Uint8Array($);for(let be=0;be<$;++be)X[be]=255&Ge.charCodeAt(be);return X}function Fe(Ge){return void 0!==Ge.length?Ge.length:void 0!==Ge.byteLength?Ge.byteLength:void he("Invalid argument for arrayByteLength")}de.BaseException=Y,de.PasswordException=class Q extends Y{constructor($,X){super($,"PasswordException"),this.code=X}},de.UnknownErrorException=class m extends Y{constructor($,X){super($,"UnknownErrorException"),this.details=X}},de.InvalidPDFException=class U extends Y{constructor($){super($,"InvalidPDFException")}},de.MissingPDFException=class se extends Y{constructor($){super($,"MissingPDFException")}},de.UnexpectedResponseException=class ye extends Y{constructor($,X){super($,"UnexpectedResponseException"),this.status=X}},de.FormatError=class Z extends Y{constructor($){super($,"FormatError")}},de.AbortException=class we extends Y{constructor($){super($,"AbortException")}},de.IsLittleEndianCached={get value(){return j(this,"value",function J(){const Ge=new Uint8Array(4);return Ge[0]=1,1===new Uint32Array(Ge.buffer,0,1)[0]}())}},de.IsEvalSupportedCached={get value(){return j(this,"value",function Be(){try{return new Function(""),!0}catch(Ge){return!1}}())}};const Re=[...Array(256).keys()].map(Ge=>Ge.toString(16).padStart(2,"0"));class qe{static makeHexColor($,X,be){return`#${Re[$]}${Re[X]}${Re[be]}`}static transform($,X){return[$[0]*X[0]+$[2]*X[1],$[1]*X[0]+$[3]*X[1],$[0]*X[2]+$[2]*X[3],$[1]*X[2]+$[3]*X[3],$[0]*X[4]+$[2]*X[5]+$[4],$[1]*X[4]+$[3]*X[5]+$[5]]}static applyTransform($,X){return[$[0]*X[0]+$[1]*X[2]+X[4],$[0]*X[1]+$[1]*X[3]+X[5]]}static applyInverseTransform($,X){const be=X[0]*X[3]-X[1]*X[2];return[($[0]*X[3]-$[1]*X[2]+X[2]*X[5]-X[4]*X[3])/be,(-$[0]*X[1]+$[1]*X[0]+X[4]*X[1]-X[5]*X[0])/be]}static getAxialAlignedBoundingBox($,X){const be=qe.applyTransform($,X),Ee=qe.applyTransform($.slice(2,4),X),Ye=qe.applyTransform([$[0],$[3]],X),Qe=qe.applyTransform([$[2],$[1]],X);return[Math.min(be[0],Ee[0],Ye[0],Qe[0]),Math.min(be[1],Ee[1],Ye[1],Qe[1]),Math.max(be[0],Ee[0],Ye[0],Qe[0]),Math.max(be[1],Ee[1],Ye[1],Qe[1])]}static inverseTransform($){const X=$[0]*$[3]-$[1]*$[2];return[$[3]/X,-$[1]/X,-$[2]/X,$[0]/X,($[2]*$[5]-$[4]*$[3])/X,($[4]*$[1]-$[5]*$[0])/X]}static apply3dTransform($,X){return[$[0]*X[0]+$[1]*X[1]+$[2]*X[2],$[3]*X[0]+$[4]*X[1]+$[5]*X[2],$[6]*X[0]+$[7]*X[1]+$[8]*X[2]]}static singularValueDecompose2dScale($){const X=[$[0],$[2],$[1],$[3]],be=$[0]*X[0]+$[1]*X[2],Qe=$[2]*X[1]+$[3]*X[3],lt=(be+Qe)/2,Tt=Math.sqrt((be+Qe)**2-4*(be*Qe-($[2]*X[0]+$[3]*X[2])*($[0]*X[1]+$[1]*X[3])))/2,Wt=lt-Tt||1;return[Math.sqrt(lt+Tt||1),Math.sqrt(Wt)]}static normalizeRect($){const X=$.slice(0);return $[0]>$[2]&&(X[0]=$[2],X[2]=$[0]),$[1]>$[3]&&(X[1]=$[3],X[3]=$[1]),X}static intersect($,X){function be(lt,Tt){return lt-Tt}const Ee=[$[0],$[2],X[0],X[2]].sort(be),Ye=[$[1],$[3],X[1],X[3]].sort(be),Qe=[];return $=qe.normalizeRect($),X=qe.normalizeRect(X),Ee[0]===$[0]&&Ee[1]===X[0]||Ee[0]===X[0]&&Ee[1]===$[0]?(Qe[0]=Ee[1],Qe[2]=Ee[2],Ye[0]===$[1]&&Ye[1]===X[1]||Ye[0]===X[1]&&Ye[1]===$[1]?(Qe[1]=Ye[1],Qe[3]=Ye[2],Qe):null):null}static bezierBoundingBox($,X,be,Ee,Ye,Qe,lt,Tt){const Ht=[],Wt=[[],[]];let ui,ai,Oi,$t,$i,Di,yi,Si;for(let Ti=0;Ti<2;++Ti)if(0===Ti?(ai=6*$-12*be+6*Ye,ui=-3*$+9*be-9*Ye+3*lt,Oi=3*be-3*$):(ai=6*X-12*Ee+6*Qe,ui=-3*X+9*Ee-9*Qe+3*Tt,Oi=3*Ee-3*X),Math.abs(ui)<1e-12){if(Math.abs(ai)<1e-12)continue;$t=-Oi/ai,0<$t&&$t<1&&Ht.push($t)}else yi=ai*ai-4*Oi*ui,Si=Math.sqrt(yi),!(yi<0)&&($i=(-ai+Si)/(2*ui),0<$i&&$i<1&&Ht.push($i),Di=(-ai-Si)/(2*ui),0<Di&&Di<1&&Ht.push(Di));let ti,xi=Ht.length;const Ii=xi;for(;xi--;)$t=Ht[xi],ti=1-$t,Wt[0][xi]=ti*ti*ti*$+3*ti*ti*$t*be+3*ti*$t*$t*Ye+$t*$t*$t*lt,Wt[1][xi]=ti*ti*ti*X+3*ti*ti*$t*Ee+3*ti*$t*$t*Qe+$t*$t*$t*Tt;return Wt[0][Ii]=$,Wt[1][Ii]=X,Wt[0][Ii+1]=lt,Wt[1][Ii+1]=Tt,Wt[0].length=Wt[1].length=Ii+2,[Math.min(...Wt[0]),Math.min(...Wt[1]),Math.max(...Wt[0]),Math.max(...Wt[1])]}}de.Util=qe;const et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ft(Ge){return decodeURIComponent(escape(Ge))}},(Xe,de,ce)=>{ce(3)},(Xe,de)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.isNodeJS=void 0;const ce=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);de.isNodeJS=ce},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var Xe,de,ce,i,xe,ie,M,oa;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(I){createPDFNetworkStream=I}function getDocument(I){const d=new PDFDocumentLoadingTask;let A;if("string"==typeof I||I instanceof URL)A={url:I};else if((0,_util.isArrayBuffer)(I))A={data:I};else if(I instanceof PDFDataRangeTransport)A={range:I};else{if("object"!=typeof I)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!I.url&&!I.data&&!I.range)throw new Error("Invalid parameter object: need either .data, .range or .url");A=I}const g=Object.create(null);let C=null,E=null;for(const T in A){const _=A[T];switch(T){case"url":if("undefined"!=typeof window)try{g[T]=new URL(_,window.location).href;continue}catch(H){(0,_util.warn)(`Cannot create valid URL: "${H}".`)}else if("string"==typeof _||_ instanceof URL){g[T]=_.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":C=_;continue;case"worker":E=_;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&_ instanceof Buffer)g[T]=new Uint8Array(_);else{if(_ instanceof Uint8Array)break;if("string"==typeof _)g[T]=(0,_util.stringToBytes)(_);else if("object"!=typeof _||null===_||isNaN(_.length)){if(!(0,_util.isArrayBuffer)(_))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");g[T]=new Uint8Array(_)}else g[T]=new Uint8Array(_)}continue}g[T]=_}if(g.rangeChunkSize=g.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,g.CMapReaderFactory=g.CMapReaderFactory||DefaultCMapReaderFactory,g.StandardFontDataFactory=g.StandardFontDataFactory||DefaultStandardFontDataFactory,g.ignoreErrors=!0!==g.stopAtErrors,g.fontExtraProperties=!0===g.fontExtraProperties,g.pdfBug=!0===g.pdfBug,g.enableXfa=!0===g.enableXfa,("string"!=typeof g.docBaseUrl||(0,_display_utils.isDataScheme)(g.docBaseUrl))&&(g.docBaseUrl=null),Number.isInteger(g.maxImageSize)||(g.maxImageSize=-1),"boolean"!=typeof g.useWorkerFetch&&(g.useWorkerFetch=g.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&g.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof g.isEvalSupported&&(g.isEvalSupported=!0),"boolean"!=typeof g.disableFontFace&&(g.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof g.useSystemFonts&&(g.useSystemFonts=!_is_node.isNodeJS&&!g.disableFontFace),void 0===g.ownerDocument&&(g.ownerDocument=globalThis.document),"boolean"!=typeof g.disableRange&&(g.disableRange=!1),"boolean"!=typeof g.disableStream&&(g.disableStream=!1),"boolean"!=typeof g.disableAutoFetch&&(g.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(g.verbosity),!E){const T={verbosity:g.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};E=T.port?_PDFWorker.fromPort(T):new _PDFWorker(T),d._worker=E}const l=d.docId;return E.promise.then(function(){if(d.destroyed)throw new Error("Loading aborted");const T=_fetchDocument(E,g,C,l),_=new Promise(function(H){let oe;C?oe=new _transport_stream.PDFDataTransportStream({length:g.length,initialData:g.initialData,progressiveDone:g.progressiveDone,contentDispositionFilename:g.contentDispositionFilename,disableRange:g.disableRange,disableStream:g.disableStream},C):g.data||(oe=createPDFNetworkStream({url:g.url,length:g.length,httpHeaders:g.httpHeaders,withCredentials:g.withCredentials,rangeChunkSize:g.rangeChunkSize,disableRange:g.disableRange,disableStream:g.disableStream})),H(oe)});return Promise.all([T,_]).then(function([H,oe]){if(d.destroyed)throw new Error("Loading aborted");const O=new _message_handler.MessageHandler(l,H,E.port),q=new WorkerTransport(O,d,oe,g);d._transport=q,O.send("Ready",null)})}).catch(d._capability.reject),d}function _fetchDocument(I,d,A,g){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(I,d,A,g){if(I.destroyed)throw new Error("Worker was destroyed");A&&(d.length=A.length,d.initialData=A.initialData,d.progressiveDone=A.progressiveDone,d.contentDispositionFilename=A.contentDispositionFilename);const C=yield I.messageHandler.sendWithPromise("GetDocRequest",{docId:g,apiVersion:"2.13.216",source:{data:d.data,url:d.url,password:d.password,disableAutoFetch:d.disableAutoFetch,rangeChunkSize:d.rangeChunkSize,length:d.length},maxImageSize:d.maxImageSize,disableFontFace:d.disableFontFace,docBaseUrl:d.docBaseUrl,ignoreErrors:d.ignoreErrors,isEvalSupported:d.isEvalSupported,fontExtraProperties:d.fontExtraProperties,enableXfa:d.enableXfa,useSystemFonts:d.useSystemFonts,cMapUrl:d.useWorkerFetch?d.cMapUrl:null,standardFontDataUrl:d.useWorkerFetch?d.standardFontDataUrl:null});if(I.destroyed)throw new Error("Worker was destroyed");return C})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var d=this;return _asyncToGenerator(function*(){var A;d.destroyed=!0,yield null==(A=d._transport)?void 0:A.destroy(),d._transport=null,d._worker&&(d._worker.destroy(),d._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(d,A,g=!1,C=null){this.length=d,this.initialData=A,this.progressiveDone=g,this.contentDispositionFilename=C,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(d){this._rangeListeners.push(d)}addProgressListener(d){this._progressListeners.push(d)}addProgressiveReadListener(d){this._progressiveReadListeners.push(d)}addProgressiveDoneListener(d){this._progressiveDoneListeners.push(d)}onDataRange(d,A){for(const g of this._rangeListeners)g(d,A)}onDataProgress(d,A){this._readyCapability.promise.then(()=>{for(const g of this._progressListeners)g(d,A)})}onDataProgressiveRead(d){this._readyCapability.promise.then(()=>{for(const A of this._progressiveReadListeners)A(d)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const d of this._progressiveDoneListeners)d()})}transportReady(){this._readyCapability.resolve()}requestDataRange(d,A){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(d,A){var C,g=this;this._pdfInfo=d,this._transport=A,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(C=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),g.stats||{streamTypes:{},fontTypes:{}}}),function(){return C.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(d){return this._transport.getPage(d)}getPageIndex(d){return this._transport.getPageIndex(d)}getDestinations(){return this._transport.getDestinations()}getDestination(d){return this._transport.getDestination(d)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(d=!1){return this._transport.startCleanup(d||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(d,A,g,C,E=!1){this._pageIndex=d,this._pageInfo=A,this._ownerDocument=C,this._transport=g,this._stats=E?new _display_utils.StatTimer:null,this._pdfBug=E,this.commonObjs=g.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:d,rotation:A=this.rotate,offsetX:g=0,offsetY:C=0,dontFlip:E=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:d,rotation:A,offsetX:g,offsetY:C,dontFlip:E})}getAnnotations({intent:d="display"}={}){const A=this._transport.getRenderingIntent(d);let g=this._annotationPromises.get(A.cacheKey);return g||(g=this._transport.getAnnotations(this._pageIndex,A.renderingIntent),this._annotationPromises.set(A.cacheKey,g),g=g.then(C=>{for(const E of C)void 0!==E.titleObj&&Object.defineProperty(E,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),E.titleObj.str)}),void 0!==E.contentsObj&&Object.defineProperty(E,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),E.contentsObj.str)});return C})),g}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var d=this;return _asyncToGenerator(function*(){var A;return(null==(A=d._transport._htmlForXfa)?void 0:A.children[d._pageIndex])||null})()}render({canvasContext:d,viewport:A,intent:g="display",annotationMode:C=_util.AnnotationMode.ENABLE,transform:E=null,imageLayer:l=null,canvasFactory:T=null,background:_=null,optionalContentConfigPromise:H=null,annotationCanvasMap:oe=null}){var V,L;void 0!==(null==(V=arguments[0])?void 0:V.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&C===_util.AnnotationMode.ENABLE&&(C=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(L=arguments[0])?void 0:L.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&C===_util.AnnotationMode.ENABLE&&(C=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const O=this._transport.getRenderingIntent(g,C);this.pendingCleanup=!1,H||(H=this._transport.getOptionalContentConfig());let q=this._intentStates.get(O.cacheKey);q||(q=Object.create(null),this._intentStates.set(O.cacheKey,q)),q.streamReaderCancelTimeout&&(clearTimeout(q.streamReaderCancelTimeout),q.streamReaderCancelTimeout=null);const b=T||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),v=!!(O.renderingIntent&_util.RenderingIntentFlag.PRINT);q.displayReadyCapability||(q.displayReadyCapability=(0,_util.createPromiseCapability)(),q.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(O));const K=G=>{q.renderTasks.delete(x),(this.cleanupAfterRender||v)&&(this.pendingCleanup=!0),this._tryCleanup(),G?(x.capability.reject(G),this._abortOperatorList({intentState:q,reason:G instanceof Error?G:new Error(G)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},x=new InternalRenderTask({callback:K,params:{canvasContext:d,viewport:A,transform:E,imageLayer:l,background:_},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:oe,operatorList:q.operatorList,pageIndex:this._pageIndex,canvasFactory:b,useRequestAnimationFrame:!v,pdfBug:this._pdfBug});(q.renderTasks||(q.renderTasks=new Set)).add(x);const B=x.task;return Promise.all([q.displayReadyCapability.promise,H]).then(([G,ne])=>{this.pendingCleanup?K():(this._stats&&this._stats.time("Rendering"),x.initializeGraphics({transparency:G,optionalContentConfig:ne}),x.operatorListChanged())}).catch(K),B}getOperatorList({intent:d="display",annotationMode:A=_util.AnnotationMode.ENABLE}={}){const C=this._transport.getRenderingIntent(d,A,!0);let l,E=this._intentStates.get(C.cacheKey);return E||(E=Object.create(null),this._intentStates.set(C.cacheKey,E)),E.opListReadCapability||(l=Object.create(null),l.operatorListChanged=function g(){E.operatorList.lastChunk&&(E.opListReadCapability.resolve(E.operatorList),E.renderTasks.delete(l))},E.opListReadCapability=(0,_util.createPromiseCapability)(),(E.renderTasks||(E.renderTasks=new Set)).add(l),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(C)),E.opListReadCapability.promise}streamTextContent({disableCombineTextItems:d=!1,includeMarkedContent:A=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==d,includeMarkedContent:!0===A},{highWaterMark:100,size:C=>C.items.length})}getTextContent(d={}){if(this._transport._htmlForXfa)return this.getXfa().then(g=>_xfa_text.XfaText.textContent(g));const A=this.streamTextContent(d);return new Promise(function(g,C){const l=A.getReader(),T={items:[],styles:Object.create(null)};!function E(){l.read().then(function({value:_,done:H}){H?g(T):(Object.assign(T.styles,_.styles),T.items.push(..._.items),E())},C)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const d=[];for(const A of this._intentStates.values())if(this._abortOperatorList({intentState:A,reason:new Error("Page was destroyed."),force:!0}),!A.opListReadCapability)for(const g of A.renderTasks)d.push(g.completed),g.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(d)}cleanup(d=!1){return this.pendingCleanup=!0,this._tryCleanup(d)}_tryCleanup(d=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:A,operatorList:g}of this._intentStates.values())if(A.size>0||!g.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,d&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(d,A){const g=this._intentStates.get(A);!g||(this._stats&&this._stats.timeEnd("Page Request"),g.displayReadyCapability&&g.displayReadyCapability.resolve(d))}_renderPageChunk(d,A){for(let g=0,C=d.length;g<C;g++)A.operatorList.fnArray.push(d.fnArray[g]),A.operatorList.argsArray.push(d.argsArray[g]);A.operatorList.lastChunk=d.lastChunk;for(const g of A.renderTasks)g.operatorListChanged();d.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:d,cacheKey:A}){const C=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:d,cacheKey:A,annotationStorage:d&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),E=this._intentStates.get(A);E.streamReader=C;const l=()=>{C.read().then(({value:T,done:_})=>{_?E.streamReader=null:this._transport.destroyed||(this._renderPageChunk(T,E),l())},T=>{if(E.streamReader=null,!this._transport.destroyed){if(E.operatorList){E.operatorList.lastChunk=!0;for(const _ of E.renderTasks)_.operatorListChanged();this._tryCleanup()}if(E.displayReadyCapability)E.displayReadyCapability.reject(T);else{if(!E.opListReadCapability)throw T;E.opListReadCapability.reject(T)}}})};l()}_abortOperatorList({intentState:d,reason:A,force:g=!1}){if(d.streamReader){if(!g){if(d.renderTasks.size>0)return;if(A instanceof _display_utils.RenderingCancelledException)return void(d.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:d,reason:A,force:!0}),d.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(d.streamReader.cancel(new _util.AbortException(A.message)).catch(()=>{}),d.streamReader=null,!this._transport.destroyed){for(const[C,E]of this._intentStates)if(E===d){this._intentStates.delete(C);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(d,A){const g={data:structuredClone(d,A)};this._deferred.then(()=>{for(const C of this._listeners)C.call(this,g)})}addEventListener(d,A){this._listeners.push(A)}removeEventListener(d,A){const g=this._listeners.indexOf(A);this._listeners.splice(g,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const I=null==(Xe=null==document?void 0:document.currentScript)?void 0:Xe.src;I&&(PDFWorkerUtil.fallbackWorkerSrc=I.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(I){return URL.createObjectURL(new Blob([`importScripts("${I}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:I=null,port:d=null,verbosity:A=(0,_util.getVerbosityLevel)()}={}){if(d&&_PDFWorker._workerPorts.has(d))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=I,this.destroyed=!1,this.verbosity=A,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,d)return _PDFWorker._workerPorts.set(d,this),void this._initializeFromPort(d);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(I){this._port=I,this._messageHandler=new _message_handler.MessageHandler("main","worker",I),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let I=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,I)||(I=PDFWorkerUtil.createCDNWrapper(new URL(I,window.location).href));const d=new Worker(I),A=new _message_handler.MessageHandler("main","worker",d),g=()=>{d.removeEventListener("error",C),A.destroy(),d.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},C=()=>{this._webWorker||g()};d.addEventListener("error",C),A.on("test",l=>{d.removeEventListener("error",C),this.destroyed?g():l?(this._messageHandler=A,this._port=d,this._webWorker=d,this._readyCapability.resolve(),A.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),A.destroy(),d.terminate())}),A.on("ready",l=>{if(d.removeEventListener("error",C),this.destroyed)g();else try{E()}catch(T){this._setupFakeWorker()}});const E=()=>{const l=new Uint8Array([255]);try{A.send("test",l,[l.buffer])}catch(T){(0,_util.warn)("Cannot use postMessage transfers."),l[0]=0,A.send("test",l)}};return void E()}catch(d){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(I=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const d=new LoopbackPort;this._port=d;const A="fake"+PDFWorkerUtil.fakeWorkerId++,g=new _message_handler.MessageHandler(A+"_worker",A,d);I.setup(g,d);const C=new _message_handler.MessageHandler(A,A+"_worker",d);this._messageHandler=C,this._readyCapability.resolve(),C.send("configure",{verbosity:this.verbosity})}).catch(I=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${I.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(I){if(!(null==I?void 0:I.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(I.port)?this._workerPorts.get(I.port):new _PDFWorker(I)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var I;try{return(null==(I=globalThis.pdfjsWorker)?void 0:I.WorkerMessageHandler)||null}catch(d){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function I(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(d,A,g,C){ii(this,de,null),ii(this,ce,new Map),ii(this,i,new Map),ii(this,xe,null),this.messageHandler=d,this.loadingTask=A,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:A.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:C.ownerDocument,styleElement:C.styleElement}),this._params=C,C.useWorkerFetch||(this.CMapReaderFactory=new C.CMapReaderFactory({baseUrl:C.cMapUrl,isCompressed:C.cMapPacked}),this.StandardFontDataFactory=new C.StandardFontDataFactory({baseUrl:C.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=g,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Ot(this,de)}getRenderingIntent(d,A=_util.AnnotationMode.ENABLE,g=!1){let C=_util.RenderingIntentFlag.DISPLAY,E="";switch(d){case"any":C=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":C=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${d}`)}switch(A){case _util.AnnotationMode.DISABLE:C+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:C+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:C+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,E=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${A}`)}return g&&(C+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:C,cacheKey:`${C}_${E}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const d=[];for(const g of Ot(this,ce).values())d.push(g._destroy());Ot(this,ce).clear(),Ot(this,i).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const A=this.messageHandler.sendWithPromise("Terminate",null);return d.push(A),Promise.all(d).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),vi(this,xe,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:d,loadingTask:A}=this;d.on("GetReader",(g,C)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=E=>{this._lastProgress={loaded:E.loaded,total:E.total}},C.onPull=()=>{this._fullReader.read().then(function({value:E,done:l}){l?C.close():((0,_util.assert)((0,_util.isArrayBuffer)(E),"GetReader - expected an ArrayBuffer."),C.enqueue(new Uint8Array(E),1,[E]))}).catch(E=>{C.error(E)})},C.onCancel=E=>{this._fullReader.cancel(E),C.ready.catch(l=>{if(!this.destroyed)throw l})}}),d.on("ReaderHeadersReady",g=>{const C=(0,_util.createPromiseCapability)(),E=this._fullReader;return E.headersReady.then(()=>{var l;(!E.isStreamingSupported||!E.isRangeSupported)&&(this._lastProgress&&(null==(l=A.onProgress)||l.call(A,this._lastProgress)),E.onProgress=T=>{var _;null==(_=A.onProgress)||_.call(A,{loaded:T.loaded,total:T.total})}),C.resolve({isStreamingSupported:E.isStreamingSupported,isRangeSupported:E.isRangeSupported,contentLength:E.contentLength})},C.reject),C.promise}),d.on("GetRangeReader",(g,C)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const E=this._networkStream.getRangeReader(g.begin,g.end);E?(C.onPull=()=>{E.read().then(function({value:l,done:T}){T?C.close():((0,_util.assert)((0,_util.isArrayBuffer)(l),"GetRangeReader - expected an ArrayBuffer."),C.enqueue(new Uint8Array(l),1,[l]))}).catch(l=>{C.error(l)})},C.onCancel=l=>{E.cancel(l),C.ready.catch(T=>{if(!this.destroyed)throw T})}):C.close()}),d.on("GetDoc",({pdfInfo:g})=>{this._numPages=g.numPages,this._htmlForXfa=g.htmlForXfa,delete g.htmlForXfa,A._capability.resolve(new PDFDocumentProxy(g,this))}),d.on("DocException",function(g){let C;switch(g.name){case"PasswordException":C=new _util.PasswordException(g.message,g.code);break;case"InvalidPDFException":C=new _util.InvalidPDFException(g.message);break;case"MissingPDFException":C=new _util.MissingPDFException(g.message);break;case"UnexpectedResponseException":C=new _util.UnexpectedResponseException(g.message,g.status);break;case"UnknownErrorException":C=new _util.UnknownErrorException(g.message,g.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}A._capability.reject(C)}),d.on("PasswordRequest",g=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),A.onPassword){const C=E=>{E instanceof Error?this._passwordCapability.reject(E):this._passwordCapability.resolve({password:E})};try{A.onPassword(C,g.code)}catch(E){this._passwordCapability.reject(E)}}else this._passwordCapability.reject(new _util.PasswordException(g.message,g.code));return this._passwordCapability.promise}),d.on("DataLoaded",g=>{var C;null==(C=A.onProgress)||C.call(A,{loaded:g.length,total:g.length}),this.downloadInfoCapability.resolve(g)}),d.on("StartRenderPage",g=>{this.destroyed||Ot(this,ce).get(g.pageIndex)._startRenderPage(g.transparency,g.cacheKey)}),d.on("commonobj",([g,C,E])=>{var l;if(!this.destroyed&&!this.commonObjs.has(g))switch(C){case"Font":const T=this._params;if("error"in E){const oe=E.error;(0,_util.warn)(`Error during font loading: ${oe}`),this.commonObjs.resolve(g,oe);break}let _=null;T.pdfBug&&(null==(l=globalThis.FontInspector)?void 0:l.enabled)&&(_={registerFont(oe,O){globalThis.FontInspector.fontAdded(oe,O)}});const H=new _font_loader.FontFaceObject(E,{isEvalSupported:T.isEvalSupported,disableFontFace:T.disableFontFace,ignoreErrors:T.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:_});this.fontLoader.bind(H).catch(oe=>d.sendWithPromise("FontFallback",{id:g})).finally(()=>{!T.fontExtraProperties&&H.data&&(H.data=null),this.commonObjs.resolve(g,H)});break;case"FontPath":case"Image":this.commonObjs.resolve(g,E);break;default:throw new Error(`Got unknown common object type ${C}`)}}),d.on("obj",([g,C,E,l])=>{var _;if(this.destroyed)return;const T=Ot(this,ce).get(C);if(!T.objs.has(g))switch(E){case"Image":T.objs.resolve(g,l),(null==(_=null==l?void 0:l.data)?void 0:_.length)>8e6&&(T.cleanupAfterRender=!0);break;case"Pattern":T.objs.resolve(g,l);break;default:throw new Error(`Got unknown object type ${E}`)}}),d.on("DocProgress",g=>{var C;this.destroyed||null==(C=A.onProgress)||C.call(A,{loaded:g.loaded,total:g.total})}),d.on("DocStats",g=>{this.destroyed||vi(this,de,Object.freeze({streamTypes:Object.freeze(g.streamTypes),fontTypes:Object.freeze(g.fontTypes)}))}),d.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),d.on("FetchBuiltInCMap",g=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(g):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),d.on("FetchStandardFontData",g=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(g):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:d}){var A,g;this.destroyed||null==(g=(A=this.loadingTask).onUnsupportedFeature)||g.call(A,d)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(d){if(!Number.isInteger(d)||d<=0||d>this._numPages)return Promise.reject(new Error("Invalid page request."));const A=d-1,g=Ot(this,i).get(A);if(g)return g;const C=this.messageHandler.sendWithPromise("GetPage",{pageIndex:A}).then(E=>{if(this.destroyed)throw new Error("Transport destroyed");const l=new PDFPageProxy(A,E,this,this._params.ownerDocument,this._params.pdfBug);return Ot(this,ce).set(A,l),l});return Ot(this,i).set(A,C),C}getPageIndex(d){return"object"!=typeof d||null===d||!Number.isInteger(d.num)||d.num<0||!Number.isInteger(d.gen)||d.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:d.num,gen:d.gen})}getAnnotations(d,A){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:d,intent:A})}saveDocument(){var d,A;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(A=null==(d=this._fullReader)?void 0:d.filename)?A:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(d){return"string"!=typeof d?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:d})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(d){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:d})}getStructTree(d){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:d})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(d=>new _optional_content_config.OptionalContentConfig(d))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Ot(this,xe)||vi(this,xe,this.messageHandler.sendWithPromise("GetMetadata",null).then(d=>{var A,g,C,E;return{info:d[0],metadata:d[1]?new _metadata.Metadata(d[1]):null,contentDispositionFilename:null!=(g=null==(A=this._fullReader)?void 0:A.filename)?g:null,contentLength:null!=(E=null==(C=this._fullReader)?void 0:C.contentLength)?E:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(d=!1){var A=this;return _asyncToGenerator(function*(){if(yield A.messageHandler.sendWithPromise("Cleanup",null),!A.destroyed){for(const g of Ot(A,ce).values())if(!g.cleanup())throw new Error(`startCleanup: Page ${g.pageNumber} is currently rendering.`);A.commonObjs.clear(),d||A.fontLoader.clear(),vi(A,xe,null),A._getFieldObjectsPromise=null,A._hasJSActionsPromise=null}})()}get loadingParams(){const d=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:d.disableAutoFetch,enableXfa:d.enableXfa})}}de=new WeakMap,ce=new WeakMap,i=new WeakMap,xe=new WeakMap;class PDFObjects{constructor(){ii(this,M),ii(this,ie,Object.create(null))}get(d,A=null){if(A){const C=Pi(this,M,oa).call(this,d);return C.capability.promise.then(()=>A(C.data)),null}const g=Ot(this,ie)[d];if(!(null==g?void 0:g.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${d}.`);return g.data}has(d){const A=Ot(this,ie)[d];return(null==A?void 0:A.capability.settled)||!1}resolve(d,A=null){const g=Pi(this,M,oa).call(this,d);g.data=A,g.capability.resolve()}clear(){vi(this,ie,Object.create(null))}}ie=new WeakMap,M=new WeakSet,oa=function(d){return Ot(this,ie)[d]||(Ot(this,ie)[d]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(d){this._internalRenderTask=d,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:d,params:A,objs:g,commonObjs:C,annotationCanvasMap:E,operatorList:l,pageIndex:T,canvasFactory:_,useRequestAnimationFrame:H=!1,pdfBug:oe=!1}){this.callback=d,this.params=A,this.objs=g,this.commonObjs=C,this.annotationCanvasMap=E,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=T,this.canvasFactory=_,this._pdfBug=oe,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===H&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=A.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:d=!1,optionalContentConfig:A}){var _;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&(null==(_=globalThis.StepperManager)?void 0:_.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:g,viewport:C,transform:E,imageLayer:l,background:T}=this.params;this.gfx=new _canvas.CanvasGraphics(g,this.commonObjs,this.objs,this.canvasFactory,l,A,this.annotationCanvasMap),this.gfx.beginDrawing({transform:E,viewport:C,transparency:d,background:T}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(d=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(d||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var d=this;return _asyncToGenerator(function*(){d.cancelled||(d.operatorListIdx=d.gfx.executeOperatorList(d.operatorList,d.operatorListIdx,d._continueBound,d.stepper),d.operatorListIdx===d.operatorList.argsArray.length&&(d.running=!1,d.operatorList.lastChunk&&(d.gfx.endDrawing(),d._canvas&&InternalRenderTask.canvasInUse.delete(d._canvas),d.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.StatTimer=de.RenderingCancelledException=de.PixelsPerInch=de.PageViewport=de.PDFDateString=de.DOMStandardFontDataFactory=de.DOMSVGFactory=de.DOMCanvasFactory=de.DOMCMapReaderFactory=void 0,de.deprecated=function v(L){console.log("Deprecated API usage: "+L)},de.getFilenameFromUrl=function H(L){const G=L.indexOf("#"),ne=L.indexOf("?"),le=Math.min(G>0?G:L.length,ne>0?ne:L.length);return L.substring(L.lastIndexOf("/",le)+1,le)},de.getPdfFilenameFromUrl=function oe(L,G="document.pdf"){if("string"!=typeof L)return G;if(T(L))return(0,xe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),G;const le=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ue=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(L);let _e=le.exec(ue[1])||le.exec(ue[2])||le.exec(ue[3]);if(_e&&(_e=_e[0],_e.includes("%")))try{_e=le.exec(decodeURIComponent(_e))[0]}catch(he){}return _e||G},de.getXfaPageViewport=function B(L,{scale:G=1,rotation:ne=0}){const{width:le,height:ue}=L.attributes.style,_e=[0,0,parseInt(le),parseInt(ue)];return new E({viewBox:_e,scale:G,rotation:ne})},de.isDataScheme=T,de.isPdfFile=function _(L){return"string"==typeof L&&/\.pdf$/i.test(L)},de.isValidFetchUrl=q,de.loadScript=function b(L,G=!1){return new Promise((ne,le)=>{const ue=document.createElement("script");ue.src=L,ue.onload=function(_e){G&&ue.remove(),ne(_e)},ue.onerror=function(){le(new Error(`Cannot load script at: ${ue.src}`))},(document.head||document.documentElement).appendChild(ue)})};var i=ce(6),xe=ce(1);const V=class{};let K,M=V;function I(L){return d.apply(this,arguments)}function d(){return(d=_asyncToGenerator(function*(L,G=!1){if(q(L,document.baseURI)){const ne=yield fetch(L);if(!ne.ok)throw new Error(ne.statusText);return G?new Uint8Array(yield ne.arrayBuffer()):(0,xe.stringToBytes)(yield ne.text())}return new Promise((ne,le)=>{const ue=new XMLHttpRequest;ue.open("GET",L,!0),G&&(ue.responseType="arraybuffer"),ue.onreadystatechange=()=>{if(ue.readyState===XMLHttpRequest.DONE){if(200===ue.status||0===ue.status){let _e;if(G&&ue.response?_e=new Uint8Array(ue.response):!G&&ue.responseText&&(_e=(0,xe.stringToBytes)(ue.responseText)),_e)return void ne(_e)}le(new Error(ue.statusText))}},ue.send(null)})})).apply(this,arguments)}xr(M,"CSS",96),xr(M,"PDF",72),xr(M,"PDF_TO_CSS_UNITS",V.CSS/V.PDF),de.PixelsPerInch=M,de.DOMCanvasFactory=class f extends i.BaseCanvasFactory{constructor({ownerDocument:G=globalThis.document}={}){super(),this._document=G}_createCanvas(G,ne){const le=this._document.createElement("canvas");return le.width=G,le.height=ne,le}},de.DOMCMapReaderFactory=class A extends i.BaseCMapReaderFactory{_fetchData(G,ne){return I(G,this.isCompressed).then(le=>({cMapData:le,compressionType:ne}))}},de.DOMStandardFontDataFactory=class g extends i.BaseStandardFontDataFactory{_fetchData(G){return I(G,!0)}},de.DOMSVGFactory=class C extends i.BaseSVGFactory{_createSVG(G){return document.createElementNS("http://www.w3.org/2000/svg",G)}};class E{constructor({viewBox:G,scale:ne,rotation:le,offsetX:ue=0,offsetY:_e=0,dontFlip:he=!1}){this.viewBox=G,this.scale=ne,this.rotation=le,this.offsetX=ue,this.offsetY=_e;const Ce=(G[2]+G[0])/2,ee=(G[3]+G[1])/2;let F,R,j,Y,Q,m,U,se;switch((le%=360)<0&&(le+=360),le){case 180:F=-1,R=0,j=0,Y=1;break;case 90:F=0,R=1,j=1,Y=0;break;case 270:F=0,R=-1,j=-1,Y=0;break;case 0:F=1,R=0,j=0,Y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}he&&(j=-j,Y=-Y),0===F?(Q=Math.abs(ee-G[1])*ne+ue,m=Math.abs(Ce-G[0])*ne+_e,U=Math.abs(G[3]-G[1])*ne,se=Math.abs(G[2]-G[0])*ne):(Q=Math.abs(Ce-G[0])*ne+ue,m=Math.abs(ee-G[1])*ne+_e,U=Math.abs(G[2]-G[0])*ne,se=Math.abs(G[3]-G[1])*ne),this.transform=[F*ne,R*ne,j*ne,Y*ne,Q-F*ne*Ce-j*ne*ee,m-R*ne*Ce-Y*ne*ee],this.width=U,this.height=se}clone({scale:G=this.scale,rotation:ne=this.rotation,offsetX:le=this.offsetX,offsetY:ue=this.offsetY,dontFlip:_e=!1}={}){return new E({viewBox:this.viewBox.slice(),scale:G,rotation:ne,offsetX:le,offsetY:ue,dontFlip:_e})}convertToViewportPoint(G,ne){return xe.Util.applyTransform([G,ne],this.transform)}convertToViewportRectangle(G){const ne=xe.Util.applyTransform([G[0],G[1]],this.transform),le=xe.Util.applyTransform([G[2],G[3]],this.transform);return[ne[0],ne[1],le[0],le[1]]}convertToPdfPoint(G,ne){return xe.Util.applyInverseTransform([G,ne],this.transform)}}function T(L){const G=L.length;let ne=0;for(;ne<G&&""===L[ne].trim();)ne++;return"data:"===L.substring(ne,ne+5).toLowerCase()}function q(L,G){try{const{protocol:ne}=G?new URL(L,G):new URL(L);return"http:"===ne||"https:"===ne}catch(ne){return!1}}de.PageViewport=E,de.RenderingCancelledException=class l extends xe.BaseException{constructor(G,ne){super(G,"RenderingCancelledException"),this.type=ne}},de.StatTimer=class O{constructor(){this.started=Object.create(null),this.times=[]}time(G){G in this.started&&(0,xe.warn)(`Timer is already running for ${G}`),this.started[G]=Date.now()}timeEnd(G){G in this.started||(0,xe.warn)(`Timer has not been started for ${G}`),this.times.push({name:G,start:this.started[G],end:Date.now()}),delete this.started[G]}toString(){const G=[];let ne=0;for(const le of this.times){const ue=le.name;ue.length>ne&&(ne=ue.length)}for(const le of this.times){const ue=le.end-le.start;G.push(`${le.name.padEnd(ne)} ${ue}ms\n`)}return G.join("")}},de.PDFDateString=class x{static toDateObject(G){if(!G||"string"!=typeof G)return null;K||(K=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ne=K.exec(G);if(!ne)return null;const le=parseInt(ne[1],10);let ue=parseInt(ne[2],10);ue=ue>=1&&ue<=12?ue-1:0;let _e=parseInt(ne[3],10);_e=_e>=1&&_e<=31?_e:1;let he=parseInt(ne[4],10);he=he>=0&&he<=23?he:0;let Ce=parseInt(ne[5],10);Ce=Ce>=0&&Ce<=59?Ce:0;let ee=parseInt(ne[6],10);ee=ee>=0&&ee<=59?ee:0;const F=ne[7]||"Z";let R=parseInt(ne[8],10);R=R>=0&&R<=23?R:0;let j=parseInt(ne[9],10)||0;return j=j>=0&&j<=59?j:0,"-"===F?(he+=R,Ce+=j):"+"===F&&(he-=R,Ce-=j),new Date(Date.UTC(le,ue,_e,he,Ce,ee))}}},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.BaseStandardFontDataFactory=de.BaseSVGFactory=de.BaseCanvasFactory=de.BaseCMapReaderFactory=void 0;var i=ce(1);class xe{constructor(){this.constructor===xe&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(d,A){if(d<=0||A<=0)throw new Error("Invalid canvas size");const g=this._createCanvas(d,A);return{canvas:g,context:g.getContext("2d")}}reset(d,A,g){if(!d.canvas)throw new Error("Canvas is not specified");if(A<=0||g<=0)throw new Error("Invalid canvas size");d.canvas.width=A,d.canvas.height=g}destroy(d){if(!d.canvas)throw new Error("Canvas is not specified");d.canvas.width=0,d.canvas.height=0,d.canvas=null,d.context=null}_createCanvas(d,A){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}de.BaseCanvasFactory=xe;class ie{constructor({baseUrl:d=null,isCompressed:A=!1}){this.constructor===ie&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=d,this.isCompressed=A}fetch({name:d}){var A=this;return _asyncToGenerator(function*(){if(!A.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!d)throw new Error("CMap name must be specified.");const g=A.baseUrl+d+(A.isCompressed?".bcmap":"");return A._fetchData(g,A.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE).catch(E=>{throw new Error(`Unable to load ${A.isCompressed?"binary ":""}CMap at: ${g}`)})})()}_fetchData(d,A){(0,i.unreachable)("Abstract method `_fetchData` called.")}}de.BaseCMapReaderFactory=ie;class M{constructor({baseUrl:d=null}){this.constructor===M&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=d}fetch({filename:d}){var A=this;return _asyncToGenerator(function*(){if(!A.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!d)throw new Error("Font filename must be specified.");const g=`${A.baseUrl}${d}`;return A._fetchData(g).catch(C=>{throw new Error(`Unable to load font data at: ${g}`)})})()}_fetchData(d){(0,i.unreachable)("Abstract method `_fetchData` called.")}}de.BaseStandardFontDataFactory=M;class f{constructor(){this.constructor===f&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(d,A){if(d<=0||A<=0)throw new Error("Invalid SVG dimensions");const g=this._createSVG("svg:svg");return g.setAttribute("version","1.1"),g.setAttribute("width",`${d}px`),g.setAttribute("height",`${A}px`),g.setAttribute("preserveAspectRatio","none"),g.setAttribute("viewBox",`0 0 ${d} ${A}`),g}createElement(d){if("string"!=typeof d)throw new Error("Invalid SVG element type");return this._createSVG(d)}_createSVG(d){(0,i.unreachable)("Abstract method `_createSVG` called.")}}de.BaseSVGFactory=f},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.FontLoader=de.FontFaceObject=void 0;var i=ce(1);class xe{constructor({docId:I,onUnsupportedFeature:d,ownerDocument:A=globalThis.document,styleElement:g=null}){this.constructor===xe&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=I,this._onUnsupportedFeature=d,this._document=A,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(I){this.nativeFontFaces.push(I),this._document.fonts.add(I)}insertRule(I){let d=this.styleElement;d||(d=this.styleElement=this._document.createElement("style"),d.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(d));const A=d.sheet;A.insertRule(I,A.cssRules.length)}clear(){for(const I of this.nativeFontFaces)this._document.fonts.delete(I);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(I){var d=this;return _asyncToGenerator(function*(){if(I.attached||I.missingFile)return;if(I.attached=!0,d.isFontLoadingAPISupported){const g=I.createNativeFontFace();if(g){d.addNativeFontFace(g);try{yield g.loaded}catch(C){throw d._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)(`Failed to load font '${g.family}': '${C}'.`),I.disableFontFace=!0,C}}return}const A=I.createFontFaceRule();if(A){if(d.insertRule(A),d.isSyncFontLoadingSupported)return;yield new Promise(g=>{const C=d._queueLoadingCallback(g);d._prepareFontLoadEvent([A],[I],C)})}})()}_queueLoadingCallback(I){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var d;const I=!!(null==(d=this._document)?void 0:d.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",I)}get isSyncFontLoadingSupported(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(I,d,A){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let ie;de.FontLoader=ie,de.FontLoader=ie=class extends xe{constructor(I){super(I),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let I=!1;if("undefined"==typeof navigator)I=!0;else{const d=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==d?void 0:d[1])>=14&&(I=!0)}return(0,i.shadow)(this,"isSyncFontLoadingSupported",I)}_queueLoadingCallback(I){const A=this.loadingContext,g={id:"pdfjs-font-loading-"+A.nextRequestId++,done:!1,complete:function d(){for((0,i.assert)(!g.done,"completeRequest() cannot be called twice."),g.done=!0;A.requests.length>0&&A.requests[0].done;){const C=A.requests.shift();setTimeout(C.callback,0)}},callback:I};return A.requests.push(g),g}get _loadTestFont(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(I,d,A){function g(ne,le){return ne.charCodeAt(le)<<24|ne.charCodeAt(le+1)<<16|ne.charCodeAt(le+2)<<8|255&ne.charCodeAt(le+3)}function C(ne,le,ue,_e){return ne.substring(0,le)+_e+ne.substring(le+ue)}let E,l;const T=this._document.createElement("canvas");T.width=1,T.height=1;const _=T.getContext("2d");let H=0;const O=`lt${Date.now()}${this.loadTestFontId++}`;let q=this._loadTestFont;q=C(q,976,O.length,O);const K=1482184792;let x=g(q,16);for(E=0,l=O.length-3;E<l;E+=4)x=x-K+g(O,E)|0;E<O.length&&(x=x-K+g(O+"XXX",E)|0),q=C(q,16,4,(0,i.string32)(x));const B=`url(data:font/opentype;base64,${btoa(q)});`;this.insertRule(`@font-face {font-family:"${O}";src:${B}}`);const L=[];for(const ne of d)L.push(ne.loadedName);L.push(O);const G=this._document.createElement("div");G.style.visibility="hidden",G.style.width=G.style.height="10px",G.style.position="absolute",G.style.top=G.style.left="0px";for(const ne of L){const le=this._document.createElement("span");le.textContent="Hi",le.style.fontFamily=ne,G.appendChild(le)}this._document.body.appendChild(G),function oe(ne,le){if(H++,H>30)return(0,i.warn)("Load test font never loaded."),void le();_.font="30px "+ne,_.fillText(".",0,20),_.getImageData(0,0,1,1).data[3]>0?le():setTimeout(oe.bind(null,ne,le))}(O,()=>{G.remove(),A.complete()})}},de.FontFaceObject=class M{constructor(I,{isEvalSupported:d=!0,disableFontFace:A=!1,ignoreErrors:g=!1,onUnsupportedFeature:C,fontRegistry:E=null}){this.compiledGlyphs=Object.create(null);for(const l in I)this[l]=I[l];this.isEvalSupported=!1!==d,this.disableFontFace=!0===A,this.ignoreErrors=!0===g,this._onUnsupportedFeature=C,this.fontRegistry=E}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let I;if(this.cssFontInfo){const d={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(d.style=`oblique ${this.cssFontInfo.italicAngle}deg`),I=new FontFace(this.cssFontInfo.fontFamily,this.data,d)}else I=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),I}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const I=(0,i.bytesToString)(this.data),d=`url(data:${this.mimetype};base64,${btoa(I)});`;let A;if(this.cssFontInfo){let g=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(g+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),A=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${g}src:${d}}`}else A=`@font-face {font-family:"${this.loadedName}";src:${d}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,d),A}getPathGenerator(I,d){if(void 0!==this.compiledGlyphs[d])return this.compiledGlyphs[d];let A;try{A=I.get(this.loadedName+"_path_"+d)}catch(g){if(!this.ignoreErrors)throw g;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)(`getPathGenerator - ignoring character: "${g}".`),this.compiledGlyphs[d]=function(C,E){}}if(this.isEvalSupported&&i.IsEvalSupportedCached.value){const g=[];for(const C of A){const E=void 0!==C.args?C.args.join(","):"";g.push("c.",C.cmd,"(",E,");\n")}return this.compiledGlyphs[d]=new Function("c","size",g.join(""))}return this.compiledGlyphs[d]=function(g,C){for(const E of A)"scale"===E.cmd&&(E.args=[C,-C]),g[E.cmd].apply(g,E.args)}}}},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.NodeStandardFontDataFactory=de.NodeCanvasFactory=de.NodeCMapReaderFactory=void 0;var i=ce(6),xe=ce(3),ie=ce(1);let M=class{constructor(){(0,ie.unreachable)("Not implemented: NodeCanvasFactory")}};de.NodeCanvasFactory=M;let f=class{constructor(){(0,ie.unreachable)("Not implemented: NodeCMapReaderFactory")}};de.NodeCMapReaderFactory=f;let I=class{constructor(){(0,ie.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(de.NodeStandardFontDataFactory=I,xe.isNodeJS){const d=function(A){return new Promise((g,C)=>{__webpack_require__(172).readFile(A,(l,T)=>{!l&&T?g(new Uint8Array(T)):C(new Error(l))})})};de.NodeCanvasFactory=M=class extends i.BaseCanvasFactory{_createCanvas(A,g){return __webpack_require__(3414).createCanvas(A,g)}},de.NodeCMapReaderFactory=f=class extends i.BaseCMapReaderFactory{_fetchData(A,g){return d(A).then(C=>({cMapData:C,compressionType:g}))}},de.NodeStandardFontDataFactory=I=class extends i.BaseStandardFontDataFactory{_fetchData(A){return d(A)}}}},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.AnnotationStorage=void 0;var i=ce(1);de.AnnotationStorage=class xe{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(M,f){const I=this._storage.get(M);return void 0===I?f:Object.assign(f,I)}setValue(M,f){const I=this._storage.get(M);let d=!1;if(void 0!==I)for(const[A,g]of Object.entries(f))I[A]!==g&&(d=!0,I[A]=g);else d=!0,this._storage.set(M,f);d&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,i.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.CanvasGraphics=void 0;var i=ce(1),xe=ce(11),ie=ce(5);const I=4096,E=16;function _(ee){if(ee._transformStack&&(ee._transformStack=[]),!ee.mozCurrentTransform){ee._originalSave=ee.save,ee._originalRestore=ee.restore,ee._originalRotate=ee.rotate,ee._originalScale=ee.scale,ee._originalTranslate=ee.translate,ee._originalTransform=ee.transform,ee._originalSetTransform=ee.setTransform,ee._originalResetTransform=ee.resetTransform,ee._transformMatrix=ee._transformMatrix||[1,0,0,1,0,0],ee._transformStack=[];try{const F=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ee),"lineWidth");ee._setLineWidth=F.set,ee._getLineWidth=F.get,Object.defineProperty(ee,"lineWidth",{set:function(j){this._setLineWidth(1.000001*j)},get:function(){return this._getLineWidth()}})}catch(F){}Object.defineProperty(ee,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(ee,"mozCurrentTransformInverse",{get:function(){const[R,j,Y,Q,m,U]=this._transformMatrix,se=R*Q-j*Y,ye=j*Y-R*Q;return[Q/se,j/ye,Y/ye,R/se,(Q*m-Y*U)/ye,(j*m-R*U)/se]}}),ee.save=function(){const R=this._transformMatrix;this._transformStack.push(R),this._transformMatrix=R.slice(0,6),this._originalSave()},ee.restore=function(){0===this._transformStack.length&&(0,i.warn)("Tried to restore a ctx when the stack was already empty.");const R=this._transformStack.pop();R&&(this._transformMatrix=R,this._originalRestore())},ee.translate=function(R,j){const Y=this._transformMatrix;Y[4]=Y[0]*R+Y[2]*j+Y[4],Y[5]=Y[1]*R+Y[3]*j+Y[5],this._originalTranslate(R,j)},ee.scale=function(R,j){const Y=this._transformMatrix;Y[0]*=R,Y[1]*=R,Y[2]*=j,Y[3]*=j,this._originalScale(R,j)},ee.transform=function(R,j,Y,Q,m,U){const se=this._transformMatrix;this._transformMatrix=[se[0]*R+se[2]*j,se[1]*R+se[3]*j,se[0]*Y+se[2]*Q,se[1]*Y+se[3]*Q,se[0]*m+se[2]*U+se[4],se[1]*m+se[3]*U+se[5]],ee._originalTransform(R,j,Y,Q,m,U)},ee.setTransform=function(R,j,Y,Q,m,U){this._transformMatrix=[R,j,Y,Q,m,U],ee._originalSetTransform(R,j,Y,Q,m,U)},ee.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],ee._originalResetTransform()},ee.rotate=function(R){const j=Math.cos(R),Y=Math.sin(R),Q=this._transformMatrix;this._transformMatrix=[Q[0]*j+Q[2]*Y,Q[1]*j+Q[3]*Y,Q[0]*-Y+Q[2]*j,Q[1]*-Y+Q[3]*j,Q[4],Q[5]],this._originalRotate(R)}}}class H{constructor(F){this.canvasFactory=F,this.cache=Object.create(null)}getCanvas(F,R,j,Y){let Q;return void 0!==this.cache[F]?(Q=this.cache[F],this.canvasFactory.reset(Q,R,j),Q.context.setTransform(1,0,0,1,0,0)):(Q=this.canvasFactory.create(R,j),this.cache[F]=Q),Y&&_(Q.context),Q}clear(){for(const F in this.cache)this.canvasFactory.destroy(this.cache[F]),delete this.cache[F]}}class O{constructor(F,R){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,F,R])}clone(){const F=Object.create(this);return F.clipBox=this.clipBox.slice(),F}setCurrentPoint(F,R){this.x=F,this.y=R}updatePathMinMax(F,R,j){[R,j]=i.Util.applyTransform([R,j],F),this.minX=Math.min(this.minX,R),this.minY=Math.min(this.minY,j),this.maxX=Math.max(this.maxX,R),this.maxY=Math.max(this.maxY,j)}updateCurvePathMinMax(F,R,j,Y,Q,m,U,se,ye){const Z=i.Util.bezierBoundingBox(R,j,Y,Q,m,U,se,ye);this.updatePathMinMax(F,Z[0],Z[1]),this.updatePathMinMax(F,Z[2],Z[3])}getPathBoundingBox(F=xe.PathType.FILL,R=null){const j=[this.minX,this.minY,this.maxX,this.maxY];if(F===xe.PathType.STROKE){R||(0,i.unreachable)("Stroke bounding box must include transform.");const Y=i.Util.singularValueDecompose2dScale(R),Q=Y[0]*this.lineWidth/2,m=Y[1]*this.lineWidth/2;j[0]-=Q,j[1]-=m,j[2]+=Q,j[3]+=m}return j}updateClipFromPath(){const F=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(F||[0,0,0,0])}startNewPathAndClipBox(F){this.clipBox=F,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(F=xe.PathType.FILL,R=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(F,R))}}function q(ee,F,R=null){if("undefined"!=typeof ImageData&&F instanceof ImageData)return void ee.putImageData(F,0,0);const j=F.height,Y=F.width,Q=j%E,m=(j-Q)/E,U=0===Q?m:m+1,se=ee.createImageData(Y,E);let Z,ye=0;const we=F.data,ke=se.data;let Ne,Fe,Ue,rt,st,pt,J,ve;if(R)switch(R.length){case 1:st=R[0],pt=R[0],J=R[0],ve=R[0];break;case 4:st=R[0],pt=R[1],J=R[2],ve=R[3]}if(F.kind===i.ImageKind.GRAYSCALE_1BPP){const Be=we.byteLength,Me=new Uint32Array(ke.buffer,0,ke.byteLength>>2),Re=Me.length,qe=Y+7>>3;let et=4294967295,at=i.IsLittleEndianCached.value?4278190080:255;for(ve&&255===ve[0]&&0===ve[255]&&([et,at]=[at,et]),Ne=0;Ne<U;Ne++){for(Ue=Ne<m?E:Q,Z=0,Fe=0;Fe<Ue;Fe++){const At=Be-ye;let gt=0;const Ze=At>qe?Y:8*At-7,ft=-8&Ze;let Vt=0,St=0;for(;gt<ft;gt+=8)St=we[ye++],Me[Z++]=128&St?et:at,Me[Z++]=64&St?et:at,Me[Z++]=32&St?et:at,Me[Z++]=16&St?et:at,Me[Z++]=8&St?et:at,Me[Z++]=4&St?et:at,Me[Z++]=2&St?et:at,Me[Z++]=1&St?et:at;for(;gt<Ze;gt++)0===Vt&&(St=we[ye++],Vt=128),Me[Z++]=St&Vt?et:at,Vt>>=1}for(;Z<Re;)Me[Z++]=0;ee.putImageData(se,0,Ne*E)}}else if(F.kind===i.ImageKind.RGBA_32BPP){const Be=!!(st||pt||J);for(Fe=0,rt=Y*E*4,Ne=0;Ne<m;Ne++){if(ke.set(we.subarray(ye,ye+rt)),ye+=rt,Be)for(let Me=0;Me<rt;Me+=4)st&&(ke[Me+0]=st[ke[Me+0]]),pt&&(ke[Me+1]=pt[ke[Me+1]]),J&&(ke[Me+2]=J[ke[Me+2]]);ee.putImageData(se,0,Fe),Fe+=E}if(Ne<U){if(rt=Y*Q*4,ke.set(we.subarray(ye,ye+rt)),Be)for(let Me=0;Me<rt;Me+=4)st&&(ke[Me+0]=st[ke[Me+0]]),pt&&(ke[Me+1]=pt[ke[Me+1]]),J&&(ke[Me+2]=J[ke[Me+2]]);ee.putImageData(se,0,Fe)}}else{if(F.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${F.kind}`);{const Be=!!(st||pt||J);for(Ue=E,rt=Y*Ue,Ne=0;Ne<U;Ne++){for(Ne>=m&&(Ue=Q,rt=Y*Ue),Z=0,Fe=rt;Fe--;)ke[Z++]=we[ye++],ke[Z++]=we[ye++],ke[Z++]=we[ye++],ke[Z++]=255;if(Be)for(let Me=0;Me<Z;Me+=4)st&&(ke[Me+0]=st[ke[Me+0]]),pt&&(ke[Me+1]=pt[ke[Me+1]]),J&&(ke[Me+2]=J[ke[Me+2]]);ee.putImageData(se,0,Ne*E)}}}}function b(ee,F){const R=F.height,j=F.width,Y=R%E,Q=(R-Y)/E,m=0===Y?Q:Q+1,U=ee.createImageData(j,E);let se=0;const ye=F.data,Z=U.data;for(let we=0;we<m;we++){const ke=we<Q?E:Y;let Ne=3;for(let Fe=0;Fe<ke;Fe++){let Ue,rt=0;for(let st=0;st<j;st++)rt||(Ue=ye[se++],rt=128),Z[Ne]=Ue&rt?0:255,Ne+=4,rt>>=1}ee.putImageData(U,0,we*E)}}function v(ee,F){const R=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let j=0,Y=R.length;j<Y;j++){const Q=R[j];void 0!==ee[Q]&&(F[Q]=ee[Q])}void 0!==ee.setLineDash&&(F.setLineDash(ee.getLineDash()),F.lineDashOffset=ee.lineDashOffset)}function K(ee){ee.strokeStyle="#000000",ee.fillStyle="#000000",ee.fillRule="nonzero",ee.globalAlpha=1,ee.lineWidth=1,ee.lineCap="butt",ee.lineJoin="miter",ee.miterLimit=10,ee.globalCompositeOperation="source-over",ee.font="10px sans-serif",void 0!==ee.setLineDash&&(ee.setLineDash([]),ee.lineDashOffset=0)}function x(ee,F,R,j){const Y=ee.length;for(let Q=3;Q<Y;Q+=4){const m=ee[Q];if(0===m)ee[Q-3]=F,ee[Q-2]=R,ee[Q-1]=j;else if(m<255){const U=255-m;ee[Q-3]=ee[Q-3]*m+F*U>>8,ee[Q-2]=ee[Q-2]*m+R*U>>8,ee[Q-1]=ee[Q-1]*m+j*U>>8}}}function B(ee,F,R){const j=ee.length;for(let Q=3;Q<j;Q+=4)F[Q]=F[Q]*(R?R[ee[Q]]:ee[Q])*.00392156862745098|0}function V(ee,F,R){const j=ee.length;for(let Y=3;Y<j;Y+=4){const Q=77*ee[Y-3]+152*ee[Y-2]+28*ee[Y-1];F[Y]=R?F[Y]*R[Q>>8]>>8:F[Y]*Q>>16}}function ne(ee,F){const R=i.Util.singularValueDecompose2dScale(ee);R[0]=Math.fround(R[0]),R[1]=Math.fround(R[1]);const j=Math.fround((globalThis.devicePixelRatio||1)*ie.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==F?F:R[0]<=j||R[1]<=j}const le=["butt","round","square"],ue=["miter","round","bevel"],_e={},he={};class Ce{constructor(F,R,j,Y,Q,m,U){this.ctx=F,this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=R,this.objs=j,this.canvasFactory=Y,this.imageLayer=Q,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=m,this.cachedCanvases=new H(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=U,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,F&&_(F),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:F,viewport:R,transparency:j=!1,background:Y=null}){const Q=this.ctx.canvas.width,m=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=Y||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,Q,m),this.ctx.restore(),j){const U=this.cachedCanvases.getCanvas("transparent",Q,m,!0);this.compositeCtx=this.ctx,this.transparentCanvas=U.canvas,this.ctx=U.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),K(this.ctx),F&&(this.ctx.transform.apply(this.ctx,F),this.outputScaleX=F[0],this.outputScaleY=F[0]),this.ctx.transform.apply(this.ctx,R.transform),this.viewportScale=R.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(F,R,j,Y){const Q=F.argsArray,m=F.fnArray;let U=R||0;const se=Q.length;if(se===U)return U;const ye=se-U>10&&"function"==typeof j,Z=ye?Date.now()+15:0;let we=0;const ke=this.commonObjs,Ne=this.objs;let Fe;for(;;){if(void 0!==Y&&U===Y.nextBreakPoint)return Y.breakIt(U,j),U;if(Fe=m[U],Fe!==i.OPS.dependency)this[Fe].apply(this,Q[U]);else for(const Ue of Q[U]){const rt=Ue.startsWith("g_")?ke:Ne;if(!rt.has(Ue))return rt.get(Ue,j),U}if(U++,U===se)return U;if(ye&&++we>10){if(Date.now()>Z)return j(),U;we=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(F,R){const j=F.width,Y=F.height;let Z,we,Q=Math.max(Math.hypot(R[0],R[1]),1),m=Math.max(Math.hypot(R[2],R[3]),1),U=j,se=Y,ye="prescale1";for(;Q>2&&U>1||m>2&&se>1;){let ke=U,Ne=se;Q>2&&U>1&&(ke=Math.ceil(U/2),Q/=U/ke),m>2&&se>1&&(Ne=Math.ceil(se/2),m/=se/Ne),Z=this.cachedCanvases.getCanvas(ye,ke,Ne),we=Z.context,we.clearRect(0,0,ke,Ne),we.drawImage(F,0,0,U,se,0,0,ke,Ne),F=Z.canvas,U=ke,se=Ne,ye="prescale1"===ye?"prescale2":"prescale1"}return{img:F,paintWidth:U,paintHeight:se}}_createMaskCanvas(F){const R=this.ctx,j=F.width,Y=F.height,Q=this.current.fillColor,m=this.current.patternFill,U=this.cachedCanvases.getCanvas("maskCanvas",j,Y);b(U.context,F);let Z=i.Util.transform(R.mozCurrentTransform,[1/j,0,0,-1/Y,0,0]);Z=i.Util.transform(Z,[1,0,0,1,0,-Y]);const we=i.Util.applyTransform([0,0],Z),ke=i.Util.applyTransform([j,Y],Z),Ne=i.Util.normalizeRect([we[0],we[1],ke[0],ke[1]]),Fe=Math.ceil(Ne[2]-Ne[0]),Ue=Math.ceil(Ne[3]-Ne[1]),rt=this.cachedCanvases.getCanvas("fillCanvas",Fe,Ue,!0),st=rt.context,pt=Math.min(we[0],ke[0]),J=Math.min(we[1],ke[1]);st.translate(-pt,-J),st.transform.apply(st,Z);const ve=this._scaleImage(U.canvas,st.mozCurrentTransformInverse);st.imageSmoothingEnabled=ne(st.mozCurrentTransform,F.interpolate),st.drawImage(ve.img,0,0,ve.img.width,ve.img.height,0,0,j,Y),st.globalCompositeOperation="source-in";const Be=i.Util.transform(st.mozCurrentTransformInverse,[1,0,0,1,-pt,-J]);return st.fillStyle=m?Q.getPattern(R,this,Be,xe.PathType.FILL):Q,st.fillRect(0,0,j,Y),{canvas:rt.canvas,offsetX:Math.round(pt),offsetY:Math.round(J)}}setLineWidth(F){this.current.lineWidth=F,this.ctx.lineWidth=F}setLineCap(F){this.ctx.lineCap=le[F]}setLineJoin(F){this.ctx.lineJoin=ue[F]}setMiterLimit(F){this.ctx.miterLimit=F}setDash(F,R){const j=this.ctx;void 0!==j.setLineDash&&(j.setLineDash(F),j.lineDashOffset=R)}setRenderingIntent(F){}setFlatness(F){}setGState(F){for(let R=0,j=F.length;R<j;R++){const Y=F[R],m=Y[1];switch(Y[0]){case"LW":this.setLineWidth(m);break;case"LC":this.setLineCap(m);break;case"LJ":this.setLineJoin(m);break;case"ML":this.setMiterLimit(m);break;case"D":this.setDash(m[0],m[1]);break;case"RI":this.setRenderingIntent(m);break;case"FL":this.setFlatness(m);break;case"Font":this.setFont(m[0],m[1]);break;case"CA":this.current.strokeAlpha=Y[1];break;case"ca":this.current.fillAlpha=Y[1],this.ctx.globalAlpha=Y[1];break;case"BM":this.ctx.globalCompositeOperation=m;break;case"SMask":this.current.activeSMask=m?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=m}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const F=this.inSMaskMode;this.current.activeSMask&&!F?this.beginSMaskMode():!this.current.activeSMask&&F&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Y=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=Y.context;const Q=this.ctx;Q.setTransform.apply(Q,this.suspendedCtx.mozCurrentTransform),v(this.suspendedCtx,Q),function T(ee,F){if(ee._removeMirroring)throw new Error("Context is already forwarding operations.");ee.__originalSave=ee.save,ee.__originalRestore=ee.restore,ee.__originalRotate=ee.rotate,ee.__originalScale=ee.scale,ee.__originalTranslate=ee.translate,ee.__originalTransform=ee.transform,ee.__originalSetTransform=ee.setTransform,ee.__originalResetTransform=ee.resetTransform,ee.__originalClip=ee.clip,ee.__originalMoveTo=ee.moveTo,ee.__originalLineTo=ee.lineTo,ee.__originalBezierCurveTo=ee.bezierCurveTo,ee.__originalRect=ee.rect,ee.__originalClosePath=ee.closePath,ee.__originalBeginPath=ee.beginPath,ee._removeMirroring=()=>{ee.save=ee.__originalSave,ee.restore=ee.__originalRestore,ee.rotate=ee.__originalRotate,ee.scale=ee.__originalScale,ee.translate=ee.__originalTranslate,ee.transform=ee.__originalTransform,ee.setTransform=ee.__originalSetTransform,ee.resetTransform=ee.__originalResetTransform,ee.clip=ee.__originalClip,ee.moveTo=ee.__originalMoveTo,ee.lineTo=ee.__originalLineTo,ee.bezierCurveTo=ee.__originalBezierCurveTo,ee.rect=ee.__originalRect,ee.closePath=ee.__originalClosePath,ee.beginPath=ee.__originalBeginPath,delete ee._removeMirroring},ee.save=function(){F.save(),this.__originalSave()},ee.restore=function(){F.restore(),this.__originalRestore()},ee.translate=function(j,Y){F.translate(j,Y),this.__originalTranslate(j,Y)},ee.scale=function(j,Y){F.scale(j,Y),this.__originalScale(j,Y)},ee.transform=function(j,Y,Q,m,U,se){F.transform(j,Y,Q,m,U,se),this.__originalTransform(j,Y,Q,m,U,se)},ee.setTransform=function(j,Y,Q,m,U,se){F.setTransform(j,Y,Q,m,U,se),this.__originalSetTransform(j,Y,Q,m,U,se)},ee.resetTransform=function(){F.resetTransform(),this.__originalResetTransform()},ee.rotate=function(j){F.rotate(j),this.__originalRotate(j)},ee.clip=function(j){F.clip(j),this.__originalClip(j)},ee.moveTo=function(R,j){F.moveTo(R,j),this.__originalMoveTo(R,j)},ee.lineTo=function(R,j){F.lineTo(R,j),this.__originalLineTo(R,j)},ee.bezierCurveTo=function(R,j,Y,Q,m,U){F.bezierCurveTo(R,j,Y,Q,m,U),this.__originalBezierCurveTo(R,j,Y,Q,m,U)},ee.rect=function(R,j,Y,Q){F.rect(R,j,Y,Q),this.__originalRect(R,j,Y,Q)},ee.closePath=function(){F.closePath(),this.__originalClosePath()},ee.beginPath=function(){F.beginPath(),this.__originalBeginPath()}}(Q,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),v(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(F){this.current.activeSMask&&(F?(F[0]=Math.floor(F[0]),F[1]=Math.floor(F[1]),F[2]=Math.ceil(F[2]),F[3]=Math.ceil(F[3])):F=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function G(ee,F,R,j){const Y=j[0],Q=j[1],m=j[2]-Y,U=j[3]-Q;0===m||0===U||(function L(ee,F,R,j,Y,Q,m,U,se,ye,Z){const we=!!Q,ke=we?Q[0]:0,Ne=we?Q[1]:0,Fe=we?Q[2]:0;let Ue;Ue="Luminosity"===Y?V:B;const st=Math.min(j,Math.ceil(1048576/R));for(let pt=0;pt<j;pt+=st){const J=Math.min(st,j-pt),ve=ee.getImageData(U-ye,pt+(se-Z),R,J),Be=F.getImageData(U,pt+se,R,J);we&&x(ve.data,ke,Ne,Fe),Ue(ve.data,Be.data,m),F.putImageData(Be,U,pt+se)}}(F.context,R,m,U,F.subtype,F.backdrop,F.transferMap,Y,Q,F.offsetX,F.offsetY),ee.save(),ee.globalAlpha=1,ee.globalCompositeOperation="source-over",ee.setTransform(1,0,0,1,0,0),ee.drawImage(R.canvas,0,0),ee.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,F),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(v(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const F=this.current;this.stateStack.push(F),this.current=F.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),v(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(F,R,j,Y,Q,m){this.ctx.transform(F,R,j,Y,Q,m),this._cachedGetSinglePixelWidth=null}constructPath(F,R){const j=this.ctx,Y=this.current;let U,se,Q=Y.x,m=Y.y;for(let ye=0,Z=0,we=F.length;ye<we;ye++)switch(0|F[ye]){case i.OPS.rectangle:Q=R[Z++],m=R[Z++];const ke=R[Z++],Ne=R[Z++],Fe=Q+ke,Ue=m+Ne;j.moveTo(Q,m),0===ke||0===Ne?j.lineTo(Fe,Ue):(j.lineTo(Fe,m),j.lineTo(Fe,Ue),j.lineTo(Q,Ue)),Y.updatePathMinMax(j.mozCurrentTransform,Q,m),Y.updatePathMinMax(j.mozCurrentTransform,Fe,Ue),j.closePath();break;case i.OPS.moveTo:Q=R[Z++],m=R[Z++],j.moveTo(Q,m),Y.updatePathMinMax(j.mozCurrentTransform,Q,m);break;case i.OPS.lineTo:Q=R[Z++],m=R[Z++],j.lineTo(Q,m),Y.updatePathMinMax(j.mozCurrentTransform,Q,m);break;case i.OPS.curveTo:U=Q,se=m,Q=R[Z+4],m=R[Z+5],j.bezierCurveTo(R[Z],R[Z+1],R[Z+2],R[Z+3],Q,m),Y.updateCurvePathMinMax(j.mozCurrentTransform,U,se,R[Z],R[Z+1],R[Z+2],R[Z+3],Q,m),Z+=6;break;case i.OPS.curveTo2:U=Q,se=m,j.bezierCurveTo(Q,m,R[Z],R[Z+1],R[Z+2],R[Z+3]),Y.updateCurvePathMinMax(j.mozCurrentTransform,U,se,Q,m,R[Z],R[Z+1],R[Z+2],R[Z+3]),Q=R[Z+2],m=R[Z+3],Z+=4;break;case i.OPS.curveTo3:U=Q,se=m,Q=R[Z+2],m=R[Z+3],j.bezierCurveTo(R[Z],R[Z+1],Q,m,Q,m),Y.updateCurvePathMinMax(j.mozCurrentTransform,U,se,R[Z],R[Z+1],Q,m,Q,m),Z+=4;break;case i.OPS.closePath:j.closePath()}Y.setCurrentPoint(Q,m)}closePath(){this.ctx.closePath()}stroke(F){F=void 0===F||F;const R=this.ctx,j=this.current.strokeColor;if(R.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof j&&(null==j?void 0:j.getPattern)){const Y=this.getSinglePixelWidth();R.save(),R.strokeStyle=j.getPattern(R,this,R.mozCurrentTransformInverse,xe.PathType.STROKE),R.lineWidth=Math.max(Y,this.current.lineWidth),R.stroke(),R.restore()}else{const Y=this.getSinglePixelWidth();Y<0&&-Y>=this.current.lineWidth?(R.save(),R.resetTransform(),R.lineWidth=Math.floor(this._combinedScaleFactor),R.stroke(),R.restore()):(R.lineWidth=Math.max(Y,this.current.lineWidth),R.stroke())}F&&this.consumePath(this.current.getClippedPathBoundingBox()),R.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(F){F=void 0===F||F;const R=this.ctx,j=this.current.fillColor;let Q=!1;this.current.patternFill&&(R.save(),R.fillStyle=j.getPattern(R,this,R.mozCurrentTransformInverse,xe.PathType.FILL),Q=!0);const m=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==m&&(this.pendingEOFill?(R.fill("evenodd"),this.pendingEOFill=!1):R.fill()),Q&&R.restore(),F&&this.consumePath(m)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=_e}eoClip(){this.pendingClip=he}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const F=this.pendingTextPaths,R=this.ctx;if(void 0!==F){R.save(),R.beginPath();for(let j=0;j<F.length;j++){const Y=F[j];R.setTransform.apply(R,Y.transform),R.translate(Y.x,Y.y),Y.addToPath(R,Y.fontSize)}R.restore(),R.clip(),R.beginPath(),delete this.pendingTextPaths}else R.beginPath()}setCharSpacing(F){this.current.charSpacing=F}setWordSpacing(F){this.current.wordSpacing=F}setHScale(F){this.current.textHScale=F/100}setLeading(F){this.current.leading=-F}setFont(F,R){const j=this.commonObjs.get(F),Y=this.current;if(!j)throw new Error(`Can't find font for ${F}`);if(Y.fontMatrix=j.fontMatrix||i.FONT_IDENTITY_MATRIX,(0===Y.fontMatrix[0]||0===Y.fontMatrix[3])&&(0,i.warn)("Invalid font matrix for font "+F),R<0?(R=-R,Y.fontDirection=-1):Y.fontDirection=1,this.current.font=j,this.current.fontSize=R,j.isType3Font)return;let m="normal";j.black?m="900":j.bold&&(m="bold");const U=j.italic?"italic":"normal",se=`"${j.loadedName||"sans-serif"}", ${j.fallbackName}`;let ye=R;R<16?ye=16:R>100&&(ye=100),this.current.fontSizeScale=R/ye,this.ctx.font=`${U} ${m} ${ye}px ${se}`}setTextRenderingMode(F){this.current.textRenderingMode=F}setTextRise(F){this.current.textRise=F}moveText(F,R){this.current.x=this.current.lineX+=F,this.current.y=this.current.lineY+=R}setLeadingMoveText(F,R){this.setLeading(-R),this.moveText(F,R)}setTextMatrix(F,R,j,Y,Q,m){this.current.textMatrix=[F,R,j,Y,Q,m],this.current.textMatrixScale=Math.hypot(F,R),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(F,R,j,Y,Q){const m=this.ctx,U=this.current,se=U.font,ye=U.textRenderingMode,Z=U.fontSize/U.fontSizeScale,we=ye&i.TextRenderingMode.FILL_STROKE_MASK,ke=!!(ye&i.TextRenderingMode.ADD_TO_PATH_FLAG),Ne=U.patternFill&&!se.missingFile;let Fe;(se.disableFontFace||ke||Ne)&&(Fe=se.getPathGenerator(this.commonObjs,F)),se.disableFontFace||Ne?(m.save(),m.translate(R,j),m.beginPath(),Fe(m,Z),Y&&m.setTransform.apply(m,Y),(we===i.TextRenderingMode.FILL||we===i.TextRenderingMode.FILL_STROKE)&&m.fill(),(we===i.TextRenderingMode.STROKE||we===i.TextRenderingMode.FILL_STROKE)&&(Q&&(m.resetTransform(),m.lineWidth=Math.floor(this._combinedScaleFactor)),m.stroke()),m.restore()):((we===i.TextRenderingMode.FILL||we===i.TextRenderingMode.FILL_STROKE)&&m.fillText(F,R,j),(we===i.TextRenderingMode.STROKE||we===i.TextRenderingMode.FILL_STROKE)&&(Q?(m.save(),m.moveTo(R,j),m.resetTransform(),m.lineWidth=Math.floor(this._combinedScaleFactor),m.strokeText(F,0,0),m.restore()):m.strokeText(F,R,j))),ke&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:m.mozCurrentTransform,x:R,y:j,fontSize:Z,addToPath:Fe})}get isFontSubpixelAAEnabled(){const{context:F}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);F.scale(1.5,1),F.fillText("I",0,10);const R=F.getImageData(0,0,10,10).data;let j=!1;for(let Y=3;Y<R.length;Y+=4)if(R[Y]>0&&R[Y]<255){j=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",j)}showText(F){const R=this.current,j=R.font;if(j.isType3Font)return this.showType3Text(F);const Y=R.fontSize;if(0===Y)return;const Q=this.ctx,m=R.fontSizeScale,U=R.charSpacing,se=R.wordSpacing,ye=R.fontDirection,Z=R.textHScale*ye,we=F.length,ke=j.vertical,Ne=ke?1:-1,Fe=j.defaultVMetrics,Ue=Y*R.fontMatrix[0],rt=R.textRenderingMode===i.TextRenderingMode.FILL&&!j.disableFontFace&&!R.patternFill;let st;if(Q.save(),Q.transform.apply(Q,R.textMatrix),Q.translate(R.x,R.y+R.textRise),Q.scale(Z,ye>0?-1:1),R.patternFill){Q.save();const Re=R.fillColor.getPattern(Q,this,Q.mozCurrentTransformInverse,xe.PathType.FILL);st=Q.mozCurrentTransform,Q.restore(),Q.fillStyle=Re}let pt=R.lineWidth,J=!1;const ve=R.textMatrixScale;if(0===ve||0===pt){const Re=R.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(Re===i.TextRenderingMode.STROKE||Re===i.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,pt=this.getSinglePixelWidth(),J=pt<0)}else pt/=ve;1!==m&&(Q.scale(m,m),pt/=m),Q.lineWidth=pt;let Me,Be=0;for(Me=0;Me<we;++Me){const Re=F[Me];if("number"==typeof Re){Be+=Ne*Re*Y/1e3;continue}let qe=!1;const et=(Re.isSpace?se:0)+U,at=Re.fontChar,At=Re.accent;let gt,Ze,Vt,ft=Re.width;if(ke){const St=Re.vmetric||Fe,wt=-(Re.vmetric?St[1]:.5*ft)*Ue;ft=St?-St[0]:ft,gt=wt/m,Ze=(Be+St[2]*Ue)/m}else gt=Be/m,Ze=0;if(j.remeasure&&ft>0){const St=1e3*Q.measureText(at).width/Y*m;if(ft<St&&this.isFontSubpixelAAEnabled){const wt=ft/St;qe=!0,Q.save(),Q.scale(wt,1),gt/=wt}else ft!==St&&(gt+=(ft-St)/2e3*Y/m)}this.contentVisible&&(Re.isInFont||j.missingFile)&&(rt&&!At?Q.fillText(at,gt,Ze):(this.paintChar(at,gt,Ze,st,J),At&&this.paintChar(At.fontChar,gt+Y*At.offset.x/m,Ze-Y*At.offset.y/m,st,J))),Vt=ke?ft*Ue-et*ye:ft*Ue+et*ye,Be+=Vt,qe&&Q.restore()}ke?R.y-=Be:R.x+=Be*Z,Q.restore(),this.compose()}showType3Text(F){const R=this.ctx,j=this.current,Y=j.font,Q=j.fontSize,m=j.fontDirection,U=Y.vertical?1:-1,se=j.charSpacing,ye=j.wordSpacing,Z=j.textHScale*m,we=j.fontMatrix||i.FONT_IDENTITY_MATRIX,ke=F.length;let Fe,Ue,rt,st;if(j.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==Q){for(this._cachedGetSinglePixelWidth=null,R.save(),R.transform.apply(R,j.textMatrix),R.translate(j.x,j.y),R.scale(Z,m),Fe=0;Fe<ke;++Fe){if(Ue=F[Fe],"number"==typeof Ue){st=U*Ue*Q/1e3,this.ctx.translate(st,0),j.x+=st*Z;continue}const pt=(Ue.isSpace?ye:0)+se,J=Y.charProcOperatorList[Ue.operatorListId];J?(this.contentVisible&&(this.processingType3=Ue,this.save(),R.scale(Q,Q),R.transform.apply(R,we),this.executeOperatorList(J),this.restore()),rt=i.Util.applyTransform([Ue.width,0],we)[0]*Q+pt,R.translate(rt,0),j.x+=rt*Z):(0,i.warn)(`Type3 character "${Ue.operatorListId}" is not available.`)}R.restore(),this.processingType3=null}}setCharWidth(F,R){}setCharWidthAndBounds(F,R,j,Y,Q,m){this.ctx.rect(j,Y,Q-j,m-Y),this.clip(),this.endPath()}getColorN_Pattern(F){let R;if("TilingPattern"===F[0]){const j=F[1],Y=this.baseTransform||this.ctx.mozCurrentTransform.slice();R=new xe.TilingPattern(F,j,this.ctx,{createCanvasGraphics:m=>new Ce(m,this.commonObjs,this.objs,this.canvasFactory)},Y)}else R=this._getPattern(F[1],F[2]);return R}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(F,R,j){const Y=i.Util.makeHexColor(F,R,j);this.ctx.strokeStyle=Y,this.current.strokeColor=Y}setFillRGBColor(F,R,j){const Y=i.Util.makeHexColor(F,R,j);this.ctx.fillStyle=Y,this.current.fillColor=Y,this.current.patternFill=!1}_getPattern(F,R=null){let j;return this.cachedPatterns.has(F)?j=this.cachedPatterns.get(F):(j=(0,xe.getShadingPattern)(this.objs.get(F)),this.cachedPatterns.set(F,j)),R&&(j.matrix=R),j}shadingFill(F){if(!this.contentVisible)return;const R=this.ctx;this.save();const j=this._getPattern(F);R.fillStyle=j.getPattern(R,this,R.mozCurrentTransformInverse,xe.PathType.SHADING);const Y=R.mozCurrentTransformInverse;if(Y){const Q=R.canvas,m=Q.width,U=Q.height,se=i.Util.applyTransform([0,0],Y),ye=i.Util.applyTransform([0,U],Y),Z=i.Util.applyTransform([m,0],Y),we=i.Util.applyTransform([m,U],Y),ke=Math.min(se[0],ye[0],Z[0],we[0]),Ne=Math.min(se[1],ye[1],Z[1],we[1]),Fe=Math.max(se[0],ye[0],Z[0],we[0]),Ue=Math.max(se[1],ye[1],Z[1],we[1]);this.ctx.fillRect(ke,Ne,Fe-ke,Ue-Ne)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(F,R){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(F)&&6===F.length&&this.transform.apply(this,F),this.baseTransform=this.ctx.mozCurrentTransform,R)&&(this.ctx.rect(R[0],R[1],R[2]-R[0],R[3]-R[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,R[0],R[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,R[2],R[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(F){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const R=this.ctx;F.isolated||(0,i.info)("TODO: Support non-isolated groups."),F.knockout&&(0,i.warn)("Knockout groups not supported.");const j=R.mozCurrentTransform;if(F.matrix&&R.transform.apply(R,F.matrix),!F.bbox)throw new Error("Bounding box is required.");let Y=i.Util.getAxialAlignedBoundingBox(F.bbox,R.mozCurrentTransform);Y=i.Util.intersect(Y,[0,0,R.canvas.width,R.canvas.height])||[0,0,0,0];const m=Math.floor(Y[0]),U=Math.floor(Y[1]);let se=Math.max(Math.ceil(Y[2])-m,1),ye=Math.max(Math.ceil(Y[3])-U,1),Z=1,we=1;se>I&&(Z=se/I,se=I),ye>I&&(we=ye/I,ye=I),this.current.startNewPathAndClipBox([0,0,se,ye]);let ke="groupAt"+this.groupLevel;F.smask&&(ke+="_smask_"+this.smaskCounter++%2);const Ne=this.cachedCanvases.getCanvas(ke,se,ye,!0),Fe=Ne.context;Fe.scale(1/Z,1/we),Fe.translate(-m,-U),Fe.transform.apply(Fe,j),F.smask?this.smaskStack.push({canvas:Ne.canvas,context:Fe,offsetX:m,offsetY:U,scaleX:Z,scaleY:we,subtype:F.smask.subtype,backdrop:F.smask.backdrop,transferMap:F.smask.transferMap||null,startTransformInverse:null}):(R.setTransform(1,0,0,1,0,0),R.translate(m,U),R.scale(Z,we),R.save()),v(R,Fe),this.ctx=Fe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(R),this.groupLevel++}endGroup(F){if(!this.contentVisible)return;this.groupLevel--;const R=this.ctx,j=this.groupStack.pop();if(this.ctx=j,this.ctx.imageSmoothingEnabled=!1,F.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Y=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,Y);const Q=i.Util.getAxialAlignedBoundingBox([0,0,R.canvas.width,R.canvas.height],Y);this.ctx.drawImage(R.canvas,0,0),this.ctx.restore(),this.compose(Q)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(F,R,j,Y,Q){if(this.save(),Array.isArray(R)&&4===R.length){const m=R[2]-R[0],U=R[3]-R[1];if(Q&&this.annotationCanvasMap){(j=j.slice())[4]-=R[0],j[5]-=R[1],(R=R.slice())[0]=R[1]=0,R[2]=m,R[3]=U;const[se,ye]=i.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:Z}=this,we=Math.ceil(m*this.outputScaleX*Z),ke=Math.ceil(U*this.outputScaleY*Z);this.annotationCanvas=this.canvasFactory.create(we,ke);const{canvas:Ne,context:Fe}=this.annotationCanvas;Ne.style.width=`calc(${m}px * var(--viewport-scale-factor))`,Ne.style.height=`calc(${U}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(F,Ne),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Fe,this.ctx.setTransform(se,0,0,-ye,0,U*ye),_(this.ctx),K(this.ctx)}else K(this.ctx),this.ctx.rect(R[0],R[1],m,U),this.clip(),this.endPath()}this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,j),this.transform.apply(this,Y)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(F){if(!this.contentVisible)return;const R=this.ctx,j=F.width,Y=F.height,Q=this.processingType3;if(Q&&void 0===Q.compiled&&(Q.compiled=j<=1e3&&Y<=1e3?function oe(ee){const R=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),j=ee.width,Y=ee.height,Q=j+1;let m,U,se,ye;const Z=new Uint8Array(Q*(Y+1)),we=j+7&-8,ke=ee.data,Ne=new Uint8Array(we*Y);let Fe=0;for(m=0,U=ke.length;m<U;m++){const J=ke[m];let ve=128;for(;ve>0;)Ne[Fe++]=J&ve?0:255,ve>>=1}let Ue=0;for(Fe=0,0!==Ne[Fe]&&(Z[0]=1,++Ue),se=1;se<j;se++)Ne[Fe]!==Ne[Fe+1]&&(Z[se]=Ne[Fe]?2:1,++Ue),Fe++;for(0!==Ne[Fe]&&(Z[se]=2,++Ue),m=1;m<Y;m++){Fe=m*we,ye=m*Q,Ne[Fe-we]!==Ne[Fe]&&(Z[ye]=Ne[Fe]?1:8,++Ue);let J=(Ne[Fe]?4:0)+(Ne[Fe-we]?8:0);for(se=1;se<j;se++)J=(J>>2)+(Ne[Fe+1]?4:0)+(Ne[Fe-we+1]?8:0),R[J]&&(Z[ye+se]=R[J],++Ue),Fe++;if(Ne[Fe-we]!==Ne[Fe]&&(Z[ye+se]=Ne[Fe]?2:4,++Ue),Ue>1e3)return null}for(Fe=we*(Y-1),ye=m*Q,0!==Ne[Fe]&&(Z[ye]=8,++Ue),se=1;se<j;se++)Ne[Fe]!==Ne[Fe+1]&&(Z[ye+se]=Ne[Fe]?4:8,++Ue),Fe++;if(0!==Ne[Fe]&&(Z[ye+se]=4,++Ue),Ue>1e3)return null;const rt=new Int32Array([0,Q,-1,0,-Q,0,0,0,1]),st=[];for(m=0;Ue&&m<=Y;m++){let J=m*Q;const ve=J+j;for(;J<ve&&!Z[J];)J++;if(J===ve)continue;const Be=[J%Q,m],Me=J;let Re=Z[J];do{const qe=rt[Re];do{J+=qe}while(!Z[J]);const et=Z[J];5!==et&&10!==et?(Re=et,Z[J]=0):(Re=et&51*Re>>4,Z[J]&=Re>>2|Re<<2),Be.push(J%Q,J/Q|0),Z[J]||--Ue}while(Me!==J);st.push(Be),--m}return function(J){J.save(),J.scale(1/j,-1/Y),J.translate(0,-Y),J.beginPath();for(let ve=0,Be=st.length;ve<Be;ve++){const Me=st[ve];J.moveTo(Me[0],Me[1]);for(let Re=2,qe=Me.length;Re<qe;Re+=2)J.lineTo(Me[Re],Me[Re+1])}J.fill(),J.beginPath(),J.restore()}}({data:F.data,width:j,height:Y}):null),null==Q?void 0:Q.compiled)return void Q.compiled(R);const m=this._createMaskCanvas(F),U=m.canvas;R.save(),R.setTransform(1,0,0,1,0,0),R.drawImage(U,m.offsetX,m.offsetY),R.restore(),this.compose()}paintImageMaskXObjectRepeat(F,R,j=0,Y=0,Q,m){if(!this.contentVisible)return;const U=this.ctx;U.save();const se=U.mozCurrentTransform;U.transform(R,j,Y,Q,0,0);const ye=this._createMaskCanvas(F);U.setTransform(1,0,0,1,0,0);for(let Z=0,we=m.length;Z<we;Z+=2){const ke=i.Util.transform(se,[R,j,Y,Q,m[Z],m[Z+1]]),[Ne,Fe]=i.Util.applyTransform([0,0],ke);U.drawImage(ye.canvas,Ne,Fe)}U.restore(),this.compose()}paintImageMaskXObjectGroup(F){if(!this.contentVisible)return;const R=this.ctx,j=this.current.fillColor,Y=this.current.patternFill;for(let Q=0,m=F.length;Q<m;Q++){const U=F[Q],se=U.width,ye=U.height,Z=this.cachedCanvases.getCanvas("maskCanvas",se,ye),we=Z.context;we.save(),b(we,U),we.globalCompositeOperation="source-in",we.fillStyle=Y?j.getPattern(we,this,R.mozCurrentTransformInverse,xe.PathType.FILL):j,we.fillRect(0,0,se,ye),we.restore(),R.save(),R.transform.apply(R,U.transform),R.scale(1,-1),R.drawImage(Z.canvas,0,0,se,ye,0,-1,1,1),R.restore()}this.compose()}paintImageXObject(F){if(!this.contentVisible)return;const R=F.startsWith("g_")?this.commonObjs.get(F):this.objs.get(F);R?this.paintInlineImageXObject(R):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(F,R,j,Y){if(!this.contentVisible)return;const Q=F.startsWith("g_")?this.commonObjs.get(F):this.objs.get(F);if(!Q)return void(0,i.warn)("Dependent image isn't ready yet");const m=Q.width,U=Q.height,se=[];for(let ye=0,Z=Y.length;ye<Z;ye+=2)se.push({transform:[R,0,0,j,Y[ye],Y[ye+1]],x:0,y:0,w:m,h:U});this.paintInlineImageXObjectGroup(Q,se)}paintInlineImageXObject(F){if(!this.contentVisible)return;const R=F.width,j=F.height,Y=this.ctx;let Q;if(this.save(),Y.scale(1/R,-1/j),"function"==typeof HTMLElement&&F instanceof HTMLElement||!F.data)Q=F;else{const U=this.cachedCanvases.getCanvas("inlineImage",R,j);q(U.context,F,this.current.transferMaps),Q=U.canvas}const m=this._scaleImage(Q,Y.mozCurrentTransformInverse);if(Y.imageSmoothingEnabled=ne(Y.mozCurrentTransform,F.interpolate),Y.drawImage(m.img,0,0,m.paintWidth,m.paintHeight,0,-j,R,j),this.imageLayer){const U=this.getCanvasPosition(0,-j);this.imageLayer.appendImage({imgData:F,left:U[0],top:U[1],width:R/Y.mozCurrentTransformInverse[0],height:j/Y.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(F,R){if(!this.contentVisible)return;const j=this.ctx,Y=F.width,Q=F.height,m=this.cachedCanvases.getCanvas("inlineImage",Y,Q);q(m.context,F,this.current.transferMaps);for(let se=0,ye=R.length;se<ye;se++){const Z=R[se];if(j.save(),j.transform.apply(j,Z.transform),j.scale(1,-1),j.drawImage(m.canvas,Z.x,Z.y,Z.w,Z.h,0,-1,1,1),this.imageLayer){const we=this.getCanvasPosition(Z.x,Z.y);this.imageLayer.appendImage({imgData:F,left:we[0],top:we[1],width:Y,height:Q})}j.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(F){}markPointProps(F,R){}beginMarkedContent(F){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(F,R){this.markedContentStack.push("OC"===F?{visible:this.optionalContentConfig.isVisible(R)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(F){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(F);const R=this.ctx;this.pendingClip&&(this.pendingClip===he?R.clip("evenodd"):R.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),R.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const F=this.ctx.mozCurrentTransform,R=Math.abs(F[0]*F[3]-F[2]*F[1]),j=F[0]**2+F[2]**2,Y=F[1]**2+F[3]**2,Q=Math.sqrt(Math.max(j,Y))/R;this._cachedGetSinglePixelWidth=j!==Y&&this._combinedScaleFactor*Q>1?-this._combinedScaleFactor*Q:R>Number.EPSILON?Q:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(F,R){const j=this.ctx.mozCurrentTransform;return[j[0]*F+j[2]*R+j[4],j[1]*F+j[3]*R+j[5]]}isContentVisible(){for(let F=this.markedContentStack.length-1;F>=0;F--)if(!this.markedContentStack[F].visible)return!1;return!0}}de.CanvasGraphics=Ce;for(const ee in i.OPS)void 0!==Ce.prototype[ee]&&(Ce.prototype[i.OPS[ee]]=Ce.prototype[ee])},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.TilingPattern=de.PathType=void 0,de.getShadingPattern=function C(T){switch(T[0]){case"RadialAxial":return new f(T);case"Mesh":return new A(T);case"Dummy":return new g}throw new Error(`Unknown IR type: ${T[0]}`)};var i=ce(1);const xe={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ie(T,_){if(!_||"undefined"==typeof Path2D)return;const H=_[2]-_[0],oe=_[3]-_[1],O=new Path2D;O.rect(_[0],_[1],H,oe),T.clip(O)}de.PathType=xe;class M{constructor(){this.constructor===M&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class f extends M{constructor(_){super(),this._type=_[1],this._bbox=_[2],this._colorStops=_[3],this._p0=_[4],this._p1=_[5],this._r0=_[6],this._r1=_[7],this.matrix=null}_createGradient(_){let H;"axial"===this._type?H=_.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(H=_.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const oe of this._colorStops)H.addColorStop(oe[0],oe[1]);return H}getPattern(_,H,oe,O){let q;if(O===xe.STROKE||O===xe.FILL){const b=H.current.getClippedPathBoundingBox(O,_.mozCurrentTransform)||[0,0,0,0],v=Math.ceil(b[2]-b[0])||1,K=Math.ceil(b[3]-b[1])||1,x=H.cachedCanvases.getCanvas("pattern",v,K,!0),B=x.context;B.clearRect(0,0,B.canvas.width,B.canvas.height),B.beginPath(),B.rect(0,0,B.canvas.width,B.canvas.height),B.translate(-b[0],-b[1]),oe=i.Util.transform(oe,[1,0,0,1,b[0],b[1]]),B.transform.apply(B,H.baseTransform),this.matrix&&B.transform.apply(B,this.matrix),ie(B,this._bbox),B.fillStyle=this._createGradient(B),B.fill(),q=_.createPattern(x.canvas,"no-repeat");const V=new DOMMatrix(oe);try{q.setTransform(V)}catch(L){(0,i.warn)(`RadialAxialShadingPattern.getPattern: "${null==L?void 0:L.message}".`)}}else ie(_,this._bbox),q=this._createGradient(_);return q}}function I(T,_,H,oe,O,q,b,v){const K=_.coords,x=_.colors,B=T.data,V=4*T.width;let L;K[H+1]>K[oe+1]&&(L=H,H=oe,oe=L,L=q,q=b,b=L),K[oe+1]>K[O+1]&&(L=oe,oe=O,O=L,L=b,b=v,v=L),K[H+1]>K[oe+1]&&(L=H,H=oe,oe=L,L=q,q=b,b=L);const G=(K[H]+_.offsetX)*_.scaleX,ne=(K[H+1]+_.offsetY)*_.scaleY,le=(K[oe]+_.offsetX)*_.scaleX,ue=(K[oe+1]+_.offsetY)*_.scaleY,_e=(K[O]+_.offsetX)*_.scaleX,he=(K[O+1]+_.offsetY)*_.scaleY;if(ne>=he)return;const Ce=x[q],ee=x[q+1],F=x[q+2],R=x[b],j=x[b+1],Y=x[b+2],Q=x[v],m=x[v+1],U=x[v+2],se=Math.round(ne),ye=Math.round(he);let Z,we,ke,Ne,Fe,Ue,rt,st;for(let pt=se;pt<=ye;pt++){if(pt<ue){let Re;Re=pt<ne?0:(ne-pt)/(ne-ue),Z=G-(G-le)*Re,we=Ce-(Ce-R)*Re,ke=ee-(ee-j)*Re,Ne=F-(F-Y)*Re}else{let Re;Re=pt>he?1:ue===he?0:(ue-pt)/(ue-he),Z=le-(le-_e)*Re,we=R-(R-Q)*Re,ke=j-(j-m)*Re,Ne=Y-(Y-U)*Re}let J;J=pt<ne?0:pt>he?1:(ne-pt)/(ne-he),Fe=G-(G-_e)*J,Ue=Ce-(Ce-Q)*J,rt=ee-(ee-m)*J,st=F-(F-U)*J;const ve=Math.round(Math.min(Z,Fe)),Be=Math.round(Math.max(Z,Fe));let Me=V*pt+4*ve;for(let Re=ve;Re<=Be;Re++)J=(Z-Re)/(Z-Fe),J<0?J=0:J>1&&(J=1),B[Me++]=we-(we-Ue)*J|0,B[Me++]=ke-(ke-rt)*J|0,B[Me++]=Ne-(Ne-st)*J|0,B[Me++]=255}}function d(T,_,H){const oe=_.coords,O=_.colors;let q,b;switch(_.type){case"lattice":const v=_.verticesPerRow,K=Math.floor(oe.length/v)-1,x=v-1;for(q=0;q<K;q++){let B=q*v;for(let V=0;V<x;V++,B++)I(T,H,oe[B],oe[B+1],oe[B+v],O[B],O[B+1],O[B+v]),I(T,H,oe[B+v+1],oe[B+1],oe[B+v],O[B+v+1],O[B+1],O[B+v])}break;case"triangles":for(q=0,b=oe.length;q<b;q+=3)I(T,H,oe[q],oe[q+1],oe[q+2],O[q],O[q+1],O[q+2]);break;default:throw new Error("illegal figure")}}class A extends M{constructor(_){super(),this._coords=_[2],this._colors=_[3],this._figures=_[4],this._bounds=_[5],this._bbox=_[7],this._background=_[8],this.matrix=null}_createMeshCanvas(_,H,oe){const v=Math.floor(this._bounds[0]),K=Math.floor(this._bounds[1]),x=Math.ceil(this._bounds[2])-v,B=Math.ceil(this._bounds[3])-K,V=Math.min(Math.ceil(Math.abs(x*_[0]*1.1)),3e3),L=Math.min(Math.ceil(Math.abs(B*_[1]*1.1)),3e3),G=x/V,ne=B/L,le={coords:this._coords,colors:this._colors,offsetX:-v,offsetY:-K,scaleX:1/G,scaleY:1/ne},he=oe.getCanvas("mesh",V+4,L+4,!1),Ce=he.context,ee=Ce.createImageData(V,L);if(H){const R=ee.data;for(let j=0,Y=R.length;j<Y;j+=4)R[j]=H[0],R[j+1]=H[1],R[j+2]=H[2],R[j+3]=255}for(const R of this._figures)d(ee,R,le);return Ce.putImageData(ee,2,2),{canvas:he.canvas,offsetX:v-2*G,offsetY:K-2*ne,scaleX:G,scaleY:ne}}getPattern(_,H,oe,O){let q;if(ie(_,this._bbox),O===xe.SHADING)q=i.Util.singularValueDecompose2dScale(_.mozCurrentTransform);else if(q=i.Util.singularValueDecompose2dScale(H.baseTransform),this.matrix){const v=i.Util.singularValueDecompose2dScale(this.matrix);q=[q[0]*v[0],q[1]*v[1]]}const b=this._createMeshCanvas(q,O===xe.SHADING?null:this._background,H.cachedCanvases);return O!==xe.SHADING&&(_.setTransform.apply(_,H.baseTransform),this.matrix&&_.transform.apply(_,this.matrix)),_.translate(b.offsetX,b.offsetY),_.scale(b.scaleX,b.scaleY),_.createPattern(b.canvas,"no-repeat")}}class g extends M{getPattern(){return"hotpink"}}class l{static get MAX_PATTERN_SIZE(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(_,H,oe,O,q){this.operatorList=_[2],this.matrix=_[3]||[1,0,0,1,0,0],this.bbox=_[4],this.xstep=_[5],this.ystep=_[6],this.paintType=_[7],this.tilingType=_[8],this.color=H,this.ctx=oe,this.canvasGraphicsFactory=O,this.baseTransform=q}createPatternCanvas(_){const H=this.operatorList,oe=this.bbox,O=this.xstep,q=this.ystep,b=this.paintType,K=this.color,x=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);const B=oe[0],V=oe[1],L=oe[2],G=oe[3],ne=i.Util.singularValueDecompose2dScale(this.matrix),le=i.Util.singularValueDecompose2dScale(this.baseTransform),ue=[ne[0]*le[0],ne[1]*le[1]],_e=this.getSizeAndScale(O,this.ctx.canvas.width,ue[0]),he=this.getSizeAndScale(q,this.ctx.canvas.height,ue[1]),Ce=_.cachedCanvases.getCanvas("pattern",_e.size,he.size,!0),ee=Ce.context,F=x.createCanvasGraphics(ee);F.groupLevel=_.groupLevel,this.setFillAndStrokeStyleToContext(F,b,K);let R=B,j=V,Y=L,Q=G;return B<0&&(R=0,Y+=Math.abs(B)),V<0&&(j=0,Q+=Math.abs(V)),ee.translate(-_e.scale*R,-he.scale*j),F.transform(_e.scale,0,0,he.scale,0,0),ee.save(),this.clipBbox(F,R,j,Y,Q),F.baseTransform=F.ctx.mozCurrentTransform.slice(),F.executeOperatorList(H),F.endDrawing(),{canvas:Ce.canvas,scaleX:_e.scale,scaleY:he.scale,offsetX:R,offsetY:j}}getSizeAndScale(_,H,oe){_=Math.abs(_);const O=Math.max(l.MAX_PATTERN_SIZE,H);let q=Math.ceil(_*oe);return q>=O?q=O:oe=q/_,{scale:oe,size:q}}clipBbox(_,H,oe,O,q){_.ctx.rect(H,oe,O-H,q-oe),_.clip(),_.endPath()}setFillAndStrokeStyleToContext(_,H,oe){const O=_.ctx,q=_.current;switch(H){case 1:const b=this.ctx;O.fillStyle=b.fillStyle,O.strokeStyle=b.strokeStyle,q.fillColor=b.fillStyle,q.strokeColor=b.strokeStyle;break;case 2:const v=i.Util.makeHexColor(oe[0],oe[1],oe[2]);O.fillStyle=v,O.strokeStyle=v,q.fillColor=v,q.strokeColor=v;break;default:throw new i.FormatError(`Unsupported paint type: ${H}`)}}getPattern(_,H,oe,O){let q=oe;O!==xe.SHADING&&(q=i.Util.transform(q,H.baseTransform),this.matrix&&(q=i.Util.transform(q,this.matrix)));const b=this.createPatternCanvas(H);let v=new DOMMatrix(q);v=v.translate(b.offsetX,b.offsetY),v=v.scale(1/b.scaleX,1/b.scaleY);const K=_.createPattern(b.canvas,"repeat");try{K.setTransform(v)}catch(x){(0,i.warn)(`TilingPattern.getPattern: "${null==x?void 0:x.message}".`)}return K}}de.TilingPattern=l},(Xe,de)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.GlobalWorkerOptions=void 0;const ce=Object.create(null);de.GlobalWorkerOptions=ce,ce.workerPort=void 0===ce.workerPort?null:ce.workerPort,ce.workerSrc=void 0===ce.workerSrc?"":ce.workerSrc},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.MessageHandler=void 0;var i=ce(1);function M(I){switch(I instanceof Error||"object"==typeof I&&null!==I||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),I.name){case"AbortException":return new i.AbortException(I.message);case"MissingPDFException":return new i.MissingPDFException(I.message);case"PasswordException":return new i.PasswordException(I.message,I.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(I.message,I.status);case"UnknownErrorException":return new i.UnknownErrorException(I.message,I.details);default:return new i.UnknownErrorException(I.message,I.toString())}}de.MessageHandler=class f{constructor(d,A,g){this.sourceName=d,this.targetName=A,this.comObj=g,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=C=>{const E=C.data;if(E.targetName!==this.sourceName)return;if(E.stream)return void this._processStreamMessage(E);if(E.callback){const T=E.callbackId,_=this.callbackCapabilities[T];if(!_)throw new Error(`Cannot resolve callback ${T}`);if(delete this.callbackCapabilities[T],1===E.callback)_.resolve(E.data);else{if(2!==E.callback)throw new Error("Unexpected callback case");_.reject(M(E.reason))}return}const l=this.actionHandler[E.action];if(!l)throw new Error(`Unknown action from worker: ${E.action}`);if(E.callbackId){const T=this.sourceName,_=E.sourceName;new Promise(function(H){H(l(E.data))}).then(function(H){g.postMessage({sourceName:T,targetName:_,callback:1,callbackId:E.callbackId,data:H})},function(H){g.postMessage({sourceName:T,targetName:_,callback:2,callbackId:E.callbackId,reason:M(H)})})}else E.streamId?this._createStreamSink(E):l(E.data)},g.addEventListener("message",this._onComObjOnMessage)}on(d,A){const g=this.actionHandler;if(g[d])throw new Error(`There is already an actionName called "${d}"`);g[d]=A}send(d,A,g){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:A},g)}sendWithPromise(d,A,g){const C=this.callbackId++,E=(0,i.createPromiseCapability)();this.callbackCapabilities[C]=E;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:C,data:A},g)}catch(l){E.reject(l)}return E.promise}sendWithStream(d,A,g,C){const E=this.streamId++,l=this.sourceName,T=this.targetName,_=this.comObj;return new ReadableStream({start:H=>{const oe=(0,i.createPromiseCapability)();return this.streamControllers[E]={controller:H,startCall:oe,pullCall:null,cancelCall:null,isClosed:!1},_.postMessage({sourceName:l,targetName:T,action:d,streamId:E,data:A,desiredSize:H.desiredSize},C),oe.promise},pull:H=>{const oe=(0,i.createPromiseCapability)();return this.streamControllers[E].pullCall=oe,_.postMessage({sourceName:l,targetName:T,stream:6,streamId:E,desiredSize:H.desiredSize}),oe.promise},cancel:H=>{(0,i.assert)(H instanceof Error,"cancel must have a valid reason");const oe=(0,i.createPromiseCapability)();return this.streamControllers[E].cancelCall=oe,this.streamControllers[E].isClosed=!0,_.postMessage({sourceName:l,targetName:T,stream:1,streamId:E,reason:M(H)}),oe.promise}},g)}_createStreamSink(d){const A=d.streamId,g=this.sourceName,C=d.sourceName,E=this.comObj,l=this,T=this.actionHandler[d.action],_={enqueue(H,oe=1,O){if(this.isCancelled)return;const q=this.desiredSize;this.desiredSize-=oe,q>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),E.postMessage({sourceName:g,targetName:C,stream:4,streamId:A,chunk:H},O)},close(){this.isCancelled||(this.isCancelled=!0,E.postMessage({sourceName:g,targetName:C,stream:3,streamId:A}),delete l.streamSinks[A])},error(H){(0,i.assert)(H instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,E.postMessage({sourceName:g,targetName:C,stream:5,streamId:A,reason:M(H)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};_.sinkCapability.resolve(),_.ready=_.sinkCapability.promise,this.streamSinks[A]=_,new Promise(function(H){H(T(d.data,_))}).then(function(){E.postMessage({sourceName:g,targetName:C,stream:8,streamId:A,success:!0})},function(H){E.postMessage({sourceName:g,targetName:C,stream:8,streamId:A,reason:M(H)})})}_processStreamMessage(d){const A=d.streamId,g=this.sourceName,C=d.sourceName,E=this.comObj,l=this.streamControllers[A],T=this.streamSinks[A];switch(d.stream){case 8:d.success?l.startCall.resolve():l.startCall.reject(M(d.reason));break;case 7:d.success?l.pullCall.resolve():l.pullCall.reject(M(d.reason));break;case 6:if(!T){E.postMessage({sourceName:g,targetName:C,stream:7,streamId:A,success:!0});break}T.desiredSize<=0&&d.desiredSize>0&&T.sinkCapability.resolve(),T.desiredSize=d.desiredSize,new Promise(function(_){_(T.onPull&&T.onPull())}).then(function(){E.postMessage({sourceName:g,targetName:C,stream:7,streamId:A,success:!0})},function(_){E.postMessage({sourceName:g,targetName:C,stream:7,streamId:A,reason:M(_)})});break;case 4:if((0,i.assert)(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(d.chunk);break;case 3:if((0,i.assert)(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this._deleteStreamController(l,A);break;case 5:(0,i.assert)(l,"error should have stream controller"),l.controller.error(M(d.reason)),this._deleteStreamController(l,A);break;case 2:d.success?l.cancelCall.resolve():l.cancelCall.reject(M(d.reason)),this._deleteStreamController(l,A);break;case 1:if(!T)break;new Promise(function(_){_(T.onCancel&&T.onCancel(M(d.reason)))}).then(function(){E.postMessage({sourceName:g,targetName:C,stream:2,streamId:A,success:!0})},function(_){E.postMessage({sourceName:g,targetName:C,stream:2,streamId:A,reason:M(_)})}),T.sinkCapability.reject(M(d.reason)),T.isCancelled=!0,delete this.streamSinks[A];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(d,A){var g=this;return _asyncToGenerator(function*(){yield Promise.allSettled([d.startCall&&d.startCall.promise,d.pullCall&&d.pullCall.promise,d.cancelCall&&d.cancelCall.promise]),delete g.streamControllers[A]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(Xe,de,ce)=>{var ie,M;Object.defineProperty(de,"__esModule",{value:!0}),de.Metadata=void 0;var i=ce(1);ie=new WeakMap,M=new WeakMap,de.Metadata=class xe{constructor({parsedData:I,rawData:d}){ii(this,ie,void 0),ii(this,M,void 0),vi(this,ie,I),vi(this,M,d)}getRaw(){return Ot(this,M)}get(I){var d;return null!=(d=Ot(this,ie).get(I))?d:null}getAll(){return(0,i.objectFromMap)(Ot(this,ie))}has(I){return Ot(this,ie).has(I)}}},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.OptionalContentConfig=void 0;var i=ce(1);class xe{constructor(f,I){this.visible=!0,this.name=f,this.intent=I}}de.OptionalContentConfig=class ie{constructor(f){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==f){this.name=f.name,this.creator=f.creator,this._order=f.order;for(const I of f.groups)this._groups.set(I.id,new xe(I.name,I.intent));if("OFF"===f.baseState)for(const I of this._groups)I.visible=!1;for(const I of f.on)this._groups.get(I).visible=!0;for(const I of f.off)this._groups.get(I).visible=!1}}_evaluateVisibilityExpression(f){const I=f.length;if(I<2)return!0;const d=f[0];for(let A=1;A<I;A++){const g=f[A];let C;if(Array.isArray(g))C=this._evaluateVisibilityExpression(g);else{if(!this._groups.has(g))return(0,i.warn)(`Optional content group not found: ${g}`),!0;C=this._groups.get(g).visible}switch(d){case"And":if(!C)return!1;break;case"Or":if(C)return!0;break;case"Not":return!C;default:return!0}}return"And"===d}isVisible(f){if(0===this._groups.size)return!0;if(!f)return(0,i.warn)("Optional content group not defined."),!0;if("OCG"===f.type)return this._groups.has(f.id)?this._groups.get(f.id).visible:((0,i.warn)(`Optional content group not found: ${f.id}`),!0);if("OCMD"===f.type){if(f.expression)return this._evaluateVisibilityExpression(f.expression);if(!f.policy||"AnyOn"===f.policy){for(const I of f.ids){if(!this._groups.has(I))return(0,i.warn)(`Optional content group not found: ${I}`),!0;if(this._groups.get(I).visible)return!0}return!1}if("AllOn"===f.policy){for(const I of f.ids){if(!this._groups.has(I))return(0,i.warn)(`Optional content group not found: ${I}`),!0;if(!this._groups.get(I).visible)return!1}return!0}if("AnyOff"===f.policy){for(const I of f.ids){if(!this._groups.has(I))return(0,i.warn)(`Optional content group not found: ${I}`),!0;if(!this._groups.get(I).visible)return!0}return!1}if("AllOff"===f.policy){for(const I of f.ids){if(!this._groups.has(I))return(0,i.warn)(`Optional content group not found: ${I}`),!0;if(this._groups.get(I).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${f.policy}.`),!0}return(0,i.warn)(`Unknown group type ${f.type}.`),!0}setVisibility(f,I=!0){this._groups.has(f)?this._groups.get(f).visible=!!I:(0,i.warn)(`Optional content group not found: ${f}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,i.objectFromMap)(this._groups):null}getGroup(f){return this._groups.get(f)||null}}},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.PDFDataTransportStream=void 0;var i=ce(1),xe=ce(5);de.PDFDataTransportStream=class ie{constructor(d,A){(0,i.assert)(A,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=d.progressiveDone||!1,this._contentDispositionFilename=d.contentDispositionFilename||null;const g=d.initialData;if((null==g?void 0:g.length)>0){const C=new Uint8Array(g).buffer;this._queuedChunks.push(C)}this._pdfDataRangeTransport=A,this._isStreamingSupported=!d.disableStream,this._isRangeSupported=!d.disableRange,this._contentLength=d.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((C,E)=>{this._onReceiveData({begin:C,chunk:E})}),this._pdfDataRangeTransport.addProgressListener((C,E)=>{this._onProgress({loaded:C,total:E})}),this._pdfDataRangeTransport.addProgressiveReadListener(C=>{this._onReceiveData({chunk:C})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(d){const A=new Uint8Array(d.chunk).buffer;if(void 0===d.begin)this._fullRequestReader?this._fullRequestReader._enqueue(A):this._queuedChunks.push(A);else{const g=this._rangeReaders.some(function(C){return C._begin===d.begin&&(C._enqueue(A),!0)});(0,i.assert)(g,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var d,A;return null!=(A=null==(d=this._fullRequestReader)?void 0:d._loaded)?A:0}_onProgress(d){if(void 0===d.total){const A=this._rangeReaders[0];(null==A?void 0:A.onProgress)&&A.onProgress({loaded:d.loaded})}else{const A=this._fullRequestReader;(null==A?void 0:A.onProgress)&&A.onProgress({loaded:d.loaded,total:d.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){const A=this._rangeReaders.indexOf(d);A>=0&&this._rangeReaders.splice(A,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const d=this._queuedChunks;return this._queuedChunks=null,new M(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,A){if(A<=this._progressiveDataLength)return null;const g=new f(this,d,A);return this._pdfDataRangeTransport.requestDataRange(d,A),this._rangeReaders.push(g),g}cancelAllRequests(d){this._fullRequestReader&&this._fullRequestReader.cancel(d);for(const A of this._rangeReaders.slice(0))A.cancel(d);this._pdfDataRangeTransport.abort()}};class M{constructor(d,A,g=!1,C=null){this._stream=d,this._done=g||!1,this._filename=(0,xe.isPdfFile)(C)?C:null,this._queuedChunks=A||[],this._loaded=0;for(const E of this._queuedChunks)this._loaded+=E.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var d=this;return _asyncToGenerator(function*(){if(d._queuedChunks.length>0)return{value:d._queuedChunks.shift(),done:!1};if(d._done)return{value:void 0,done:!0};const A=(0,i.createPromiseCapability)();return d._requests.push(A),A.promise})()}cancel(d){this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class f{constructor(d,A,g){this._stream=d,this._begin=A,this._end=g,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(0===this._requests.length)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var d=this;return _asyncToGenerator(function*(){if(d._queuedChunk){const g=d._queuedChunk;return d._queuedChunk=null,{value:g,done:!1}}if(d._done)return{value:void 0,done:!0};const A=(0,i.createPromiseCapability)();return d._requests.push(A),A.promise})()}cancel(d){this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Xe,de)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.XfaText=void 0;class ce{static textContent(xe){const ie=[],M={items:ie,styles:Object.create(null)};return function f(I){var g;if(!I)return;let d=null;const A=I.name;if("#text"===A)d=I.value;else{if(!ce.shouldBuildText(A))return;(null==(g=null==I?void 0:I.attributes)?void 0:g.textContent)?d=I.attributes.textContent:I.value&&(d=I.value)}if(null!==d&&ie.push({str:d}),I.children)for(const C of I.children)f(C)}(xe),M}static shouldBuildText(xe){return!("textarea"===xe||"input"===xe||"option"===xe||"select"===xe)}}de.XfaText=ce},(Xe,de,ce)=>{var j,aa;Object.defineProperty(de,"__esModule",{value:!0}),de.AnnotationLayer=void 0;var i=ce(1),xe=ce(5),ie=ce(9),M=ce(19),f=ce(20);const I=1e3,d=new WeakSet;function A(Q){return{width:Q[2]-Q[0],height:Q[3]-Q[1]}}class g{static create(m){switch(m.data.annotationType){case i.AnnotationType.LINK:return new E(m);case i.AnnotationType.TEXT:return new l(m);case i.AnnotationType.WIDGET:switch(m.data.fieldType){case"Tx":return new _(m);case"Btn":return m.data.radioButton?new oe(m):m.data.checkBox?new H(m):new O(m);case"Ch":return new q(m)}return new T(m);case i.AnnotationType.POPUP:return new b(m);case i.AnnotationType.FREETEXT:return new K(m);case i.AnnotationType.LINE:return new x(m);case i.AnnotationType.SQUARE:return new B(m);case i.AnnotationType.CIRCLE:return new V(m);case i.AnnotationType.POLYLINE:return new L(m);case i.AnnotationType.CARET:return new ne(m);case i.AnnotationType.INK:return new le(m);case i.AnnotationType.POLYGON:return new G(m);case i.AnnotationType.HIGHLIGHT:return new ue(m);case i.AnnotationType.UNDERLINE:return new _e(m);case i.AnnotationType.SQUIGGLY:return new he(m);case i.AnnotationType.STRIKEOUT:return new Ce(m);case i.AnnotationType.STAMP:return new ee(m);case i.AnnotationType.FILEATTACHMENT:return new F(m);default:return new C(m)}}}class C{constructor(m,{isRenderable:U=!1,ignoreBorder:se=!1,createQuadrilaterals:ye=!1}={}){this.isRenderable=U,this.data=m.data,this.layer=m.layer,this.page=m.page,this.viewport=m.viewport,this.linkService=m.linkService,this.downloadManager=m.downloadManager,this.imageResourcesPath=m.imageResourcesPath,this.renderForms=m.renderForms,this.svgFactory=m.svgFactory,this.annotationStorage=m.annotationStorage,this.enableScripting=m.enableScripting,this.hasJSActions=m.hasJSActions,this._fieldObjects=m.fieldObjects,this._mouseState=m.mouseState,U&&(this.container=this._createContainer(se)),ye&&(this.quadrilaterals=this._createQuadrilaterals(se))}_createContainer(m=!1){const U=this.data,se=this.page,ye=this.viewport,Z=document.createElement("section");let{width:we,height:ke}=A(U.rect);Z.setAttribute("data-annotation-id",U.id);const Ne=i.Util.normalizeRect([U.rect[0],se.view[3]-U.rect[1]+se.view[1],U.rect[2],se.view[3]-U.rect[3]+se.view[1]]);if(U.hasOwnCanvas){const Fe=ye.transform.slice(),[Ue,rt]=i.Util.singularValueDecompose2dScale(Fe);we=Math.ceil(we*Ue),ke=Math.ceil(ke*rt),Ne[0]*=Ue,Ne[1]*=rt;for(let st=0;st<4;st++)Fe[st]=Math.sign(Fe[st]);Z.style.transform=`matrix(${Fe.join(",")})`}else Z.style.transform=`matrix(${ye.transform.join(",")})`;if(Z.style.transformOrigin=`${-Ne[0]}px ${-Ne[1]}px`,!m&&U.borderStyle.width>0){Z.style.borderWidth=`${U.borderStyle.width}px`,U.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(we-=2*U.borderStyle.width,ke-=2*U.borderStyle.width);const Fe=U.borderStyle.horizontalCornerRadius,Ue=U.borderStyle.verticalCornerRadius;switch((Fe>0||Ue>0)&&(Z.style.borderRadius=`${Fe}px / ${Ue}px`),U.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:Z.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:Z.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:Z.style.borderBottomStyle="solid"}U.borderColor||U.color?Z.style.borderColor=i.Util.makeHexColor(0|U.color[0],0|U.color[1],0|U.color[2]):Z.style.borderWidth=0}return Z.style.left=`${Ne[0]}px`,Z.style.top=`${Ne[1]}px`,U.hasOwnCanvas?Z.style.width=Z.style.height="auto":(Z.style.width=`${we}px`,Z.style.height=`${ke}px`),Z}_createQuadrilaterals(m=!1){if(!this.data.quadPoints)return null;const U=[],se=this.data.rect;for(const ye of this.data.quadPoints)this.data.rect=[ye[2].x,ye[2].y,ye[1].x,ye[1].y],U.push(this._createContainer(m));return this.data.rect=se,U}_createPopup(m,U){let se=this.container;this.quadrilaterals&&(m=m||this.quadrilaterals,se=this.quadrilaterals[0]),m||((m=document.createElement("div")).style.height=se.style.height,m.style.width=se.style.width,se.appendChild(m));const Z=new v({container:se,trigger:m,color:U.color,titleObj:U.titleObj,modificationDate:U.modificationDate,contentsObj:U.contentsObj,richText:U.richText,hideWrapper:!0}).render();Z.style.left=se.style.width,se.appendChild(Z)}_renderQuadrilaterals(m){for(const U of this.quadrilaterals)U.className=m;return this.quadrilaterals}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(m,U=null){const se=[];if(this._fieldObjects){const ye=this._fieldObjects[m];if(ye)for(const{page:Z,id:we,exportValues:ke}of ye){if(-1===Z||we===U)continue;const Ne="string"==typeof ke?ke:null,Fe=document.getElementById(we);!Fe||d.has(Fe)?se.push({id:we,exportValue:Ne,domElement:Fe}):(0,i.warn)(`_getElementsByName - element not allowed: ${we}`)}return se}for(const ye of document.getElementsByName(m)){const{id:Z,exportValue:we}=ye;Z!==U&&(!d.has(ye)||se.push({id:Z,exportValue:we,domElement:ye}))}return se}static get platform(){const m="undefined"!=typeof navigator?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:m.includes("Win"),isMac:m.includes("Mac")})}}class E extends C{constructor(m,U=null){super(m,{isRenderable:!!(m.data.url||m.data.dest||m.data.action||m.data.isTooltipOnly||m.data.resetForm||m.data.actions&&(m.data.actions.Action||m.data.actions["Mouse Up"]||m.data.actions["Mouse Down"])),ignoreBorder:!!(null==U?void 0:U.ignoreBorder),createQuadrilaterals:!0})}render(){var ye;const{data:m,linkService:U}=this,se=document.createElement("a");if(m.url)U.addLinkAttributes||(0,i.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(ye=U.addLinkAttributes)||ye.call(U,se,m.url,m.newWindow);else if(m.action)this._bindNamedAction(se,m.action);else if(m.dest)this._bindLink(se,m.dest);else{let Z=!1;m.actions&&(m.actions.Action||m.actions["Mouse Up"]||m.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(Z=!0,this._bindJSAction(se,m)),m.resetForm?this._bindResetFormAction(se,m.resetForm):Z||this._bindLink(se,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Z,we)=>{const ke=0===we?se:se.cloneNode();return Z.appendChild(ke),Z}):(this.container.className="linkAnnotation",this.container.appendChild(se),this.container)}_bindLink(m,U){m.href=this.linkService.getDestinationHash(U),m.onclick=()=>(U&&this.linkService.goToDestination(U),!1),(U||""===U)&&(m.className="internalLink")}_bindNamedAction(m,U){m.href=this.linkService.getAnchorUrl(""),m.onclick=()=>(this.linkService.executeNamedAction(U),!1),m.className="internalLink"}_bindJSAction(m,U){m.href=this.linkService.getAnchorUrl("");const se=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ye of Object.keys(U.actions)){const Z=se.get(ye);!Z||(m[Z]=()=>{var we;return null==(we=this.linkService.eventBus)||we.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U.id,name:ye}}),!1})}m.onclick||(m.onclick=()=>!1),m.className="internalLink"}_bindResetFormAction(m,U){const se=m.onclick;if(se||(m.href=this.linkService.getAnchorUrl("")),m.className="internalLink",!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(se||(m.onclick=()=>!1));m.onclick=()=>{var Ue;se&&se();const{fields:ye,refs:Z,include:we}=U,ke=[];if(0!==ye.length||0!==Z.length){const rt=new Set(Z);for(const st of ye){const pt=this._fieldObjects[st]||[];for(const{id:J}of pt)rt.add(J)}for(const st of Object.values(this._fieldObjects))for(const pt of st)rt.has(pt.id)===we&&ke.push(pt)}else for(const rt of Object.values(this._fieldObjects))ke.push(...rt);const Ne=this.annotationStorage,Fe=[];for(const rt of ke){const{id:st}=rt;switch(Fe.push(st),rt.type){case"text":{const J=rt.defaultValue||"";Ne.setValue(st,{value:J,valueAsString:J});break}case"checkbox":case"radiobutton":Ne.setValue(st,{value:rt.defaultValue===rt.exportValues});break;case"combobox":case"listbox":Ne.setValue(st,{value:rt.defaultValue||""});break;default:continue}const pt=document.getElementById(st);!pt||!d.has(pt)||pt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(Ue=this.linkService.eventBus)||Ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Fe,name:"ResetForm"}})),!1}}}class l extends C{constructor(m){var se,ye,Z;super(m,{isRenderable:!!(m.data.hasPopup||(null==(se=m.data.titleObj)?void 0:se.str)||(null==(ye=m.data.contentsObj)?void 0:ye.str)||(null==(Z=m.data.richText)?void 0:Z.str))})}render(){this.container.className="textAnnotation";const m=document.createElement("img");return m.style.height=this.container.style.height,m.style.width=this.container.style.width,m.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",m.alt="[{{type}} Annotation]",m.dataset.l10nId="text_annotation_type",m.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(m,this.data),this.container.appendChild(m),this.container}}class T extends C{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(m){const{isWin:U,isMac:se}=C.platform;return U&&m.ctrlKey||se&&m.metaKey}_setEventListener(m,U,se,ye){U.includes("mouse")?m.addEventListener(U,Z=>{var we;null==(we=this.linkService.eventBus)||we.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:se,value:ye(Z),shift:Z.shiftKey,modifier:this._getKeyModifier(Z)}})}):m.addEventListener(U,Z=>{var we;null==(we=this.linkService.eventBus)||we.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:se,value:ye(Z)}})})}_setEventListeners(m,U,se){var ye;for(const[Z,we]of U)("Action"===we||(null==(ye=this.data.actions)?void 0:ye[we]))&&this._setEventListener(m,Z,we,se)}_setBackgroundColor(m){const U=this.data.backgroundColor||null;m.style.backgroundColor=null===U?"transparent":i.Util.makeHexColor(U[0],U[1],U[2])}_dispatchEventFromSandbox(m,U){const se=(Z,we,ke)=>{const Ne=ke.detail[Z];ke.target.style[we]=M.ColorConverters[`${Ne[0]}_HTML`](Ne.slice(1))},ye={display:Z=>{const we=Z.detail.display%2==1;Z.target.style.visibility=we?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:we,print:0===Z.detail.display||3===Z.detail.display})},print:Z=>{this.annotationStorage.setValue(this.data.id,{print:Z.detail.print})},hidden:Z=>{Z.target.style.visibility=Z.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Z.detail.hidden})},focus:Z=>{setTimeout(()=>Z.target.focus({preventScroll:!1}),0)},userName:Z=>{Z.target.title=Z.detail.userName},readonly:Z=>{Z.detail.readonly?Z.target.setAttribute("readonly",""):Z.target.removeAttribute("readonly")},required:Z=>{Z.detail.required?Z.target.setAttribute("required",""):Z.target.removeAttribute("required")},bgColor:Z=>{se("bgColor","backgroundColor",Z)},fillColor:Z=>{se("fillColor","backgroundColor",Z)},fgColor:Z=>{se("fgColor","color",Z)},textColor:Z=>{se("textColor","color",Z)},borderColor:Z=>{se("borderColor","borderColor",Z)},strokeColor:Z=>{se("strokeColor","borderColor",Z)}};for(const Z of Object.keys(U.detail)){const we=m[Z]||ye[Z];we&&we(U)}}}class _ extends T{constructor(m){super(m,{isRenderable:m.renderForms||!m.data.hasAppearance&&!!m.data.fieldValue})}setPropertyOnSiblings(m,U,se,ye){const Z=this.annotationStorage;for(const we of this._getElementsByName(m.name,m.id))we.domElement&&(we.domElement[U]=se),Z.setValue(we.id,{[ye]:se})}render(){var ye;const m=this.annotationStorage,U=this.data.id;this.container.className="textWidgetAnnotation";let se=null;if(this.renderForms){const Z=m.getValue(U,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),we=Z.valueAsString||Z.value||"",ke={userValue:null,formattedValue:null};this.data.multiLine?(se=document.createElement("textarea"),se.textContent=we):(se=document.createElement("input"),se.type="text",se.setAttribute("value",we)),d.add(se),se.disabled=this.data.readOnly,se.name=this.data.fieldName,se.tabIndex=I,ke.userValue=we,se.setAttribute("id",U),se.addEventListener("input",Fe=>{m.setValue(U,{value:Fe.target.value}),this.setPropertyOnSiblings(se,"value",Fe.target.value,"value")}),se.addEventListener("resetform",Fe=>{se.value=ke.userValue=this.data.defaultFieldValue||"",delete ke.formattedValue});let Ne=Fe=>{ke.formattedValue&&(Fe.target.value=ke.formattedValue),Fe.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){se.addEventListener("focus",Ue=>{ke.userValue&&(Ue.target.value=ke.userValue)}),se.addEventListener("updatefromsandbox",Ue=>{this._dispatchEventFromSandbox({value(st){ke.userValue=st.detail.value||"",m.setValue(U,{value:ke.userValue.toString()}),ke.formattedValue||(st.target.value=ke.userValue)},valueAsString(st){ke.formattedValue=st.detail.valueAsString||"",st.target!==document.activeElement&&(st.target.value=ke.formattedValue),m.setValue(U,{formattedValue:ke.formattedValue})},selRange(st){const[pt,J]=st.detail.selRange;pt>=0&&J<st.target.value.length&&st.target.setSelectionRange(pt,J)}},Ue)}),se.addEventListener("keydown",Ue=>{var st;let rt=-1;"Escape"===Ue.key?rt=0:"Enter"===Ue.key?rt=2:"Tab"===Ue.key&&(rt=3),-1!==rt&&(ke.userValue=Ue.target.value,null==(st=this.linkService.eventBus)||st.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Ue.target.value,willCommit:!0,commitKey:rt,selStart:Ue.target.selectionStart,selEnd:Ue.target.selectionEnd}}))});const Fe=Ne;Ne=null,se.addEventListener("blur",Ue=>{var rt;ke.userValue=Ue.target.value,this._mouseState.isDown&&(null==(rt=this.linkService.eventBus)||rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Ue.target.value,willCommit:!0,commitKey:1,selStart:Ue.target.selectionStart,selEnd:Ue.target.selectionEnd}})),Fe(Ue)}),(null==(ye=this.data.actions)?void 0:ye.Keystroke)&&se.addEventListener("beforeinput",Ue=>{var Be;ke.formattedValue="";const{data:rt,target:st}=Ue,{value:pt,selectionStart:J,selectionEnd:ve}=st;null==(Be=this.linkService.eventBus)||Be.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:pt,change:rt,willCommit:!1,selStart:J,selEnd:ve}})}),this._setEventListeners(se,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ue=>Ue.target.value)}if(Ne&&se.addEventListener("blur",Ne),null!==this.data.maxLen&&(se.maxLength=this.data.maxLen),this.data.comb){const Ue=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;se.classList.add("comb"),se.style.letterSpacing=`calc(${Ue}px - 1ch)`}}else se=document.createElement("div"),se.textContent=this.data.fieldValue,se.style.verticalAlign="middle",se.style.display="table-cell";return this._setTextStyle(se),this._setBackgroundColor(se),this.container.appendChild(se),this.container}_setTextStyle(m){const{fontSize:se,fontColor:ye}=this.data.defaultAppearanceData,Z=m.style;se&&(Z.fontSize=`${se}px`),Z.color=i.Util.makeHexColor(ye[0],ye[1],ye[2]),null!==this.data.textAlignment&&(Z.textAlign=["left","center","right"][this.data.textAlignment])}}class H extends T{constructor(m){super(m,{isRenderable:m.renderForms})}render(){const m=this.annotationStorage,U=this.data,se=U.id;let ye=m.getValue(se,{value:U.exportValue===U.fieldValue}).value;"string"==typeof ye&&(ye="Off"!==ye,m.setValue(se,{value:ye})),this.container.className="buttonWidgetAnnotation checkBox";const Z=document.createElement("input");return d.add(Z),Z.disabled=U.readOnly,Z.type="checkbox",Z.name=U.fieldName,ye&&Z.setAttribute("checked",!0),Z.setAttribute("id",se),Z.setAttribute("exportValue",U.exportValue),Z.tabIndex=I,Z.addEventListener("change",we=>{const{name:ke,checked:Ne}=we.target;for(const Fe of this._getElementsByName(ke,se)){const Ue=Ne&&Fe.exportValue===U.exportValue;Fe.domElement&&(Fe.domElement.checked=Ue),m.setValue(Fe.id,{value:Ue})}m.setValue(se,{value:Ne})}),Z.addEventListener("resetform",we=>{we.target.checked=(U.defaultFieldValue||"Off")===U.exportValue}),this.enableScripting&&this.hasJSActions&&(Z.addEventListener("updatefromsandbox",we=>{this._dispatchEventFromSandbox({value(Ne){Ne.target.checked="Off"!==Ne.detail.value,m.setValue(se,{value:Ne.target.checked})}},we)}),this._setEventListeners(Z,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],we=>we.target.checked)),this._setBackgroundColor(Z),this.container.appendChild(Z),this.container}}class oe extends T{constructor(m){super(m,{isRenderable:m.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const m=this.annotationStorage,U=this.data,se=U.id;let ye=m.getValue(se,{value:U.fieldValue===U.buttonValue}).value;"string"==typeof ye&&(ye=ye!==U.buttonValue,m.setValue(se,{value:ye}));const Z=document.createElement("input");if(d.add(Z),Z.disabled=U.readOnly,Z.type="radio",Z.name=U.fieldName,ye&&Z.setAttribute("checked",!0),Z.setAttribute("id",se),Z.tabIndex=I,Z.addEventListener("change",we=>{const{name:ke,checked:Ne}=we.target;for(const Fe of this._getElementsByName(ke,se))m.setValue(Fe.id,{value:!1});m.setValue(se,{value:Ne})}),Z.addEventListener("resetform",we=>{const ke=U.defaultFieldValue;we.target.checked=null!=ke&&ke===U.buttonValue}),this.enableScripting&&this.hasJSActions){const we=U.buttonValue;Z.addEventListener("updatefromsandbox",ke=>{this._dispatchEventFromSandbox({value:Fe=>{const Ue=we===Fe.detail.value;for(const rt of this._getElementsByName(Fe.target.name)){const st=Ue&&rt.id===se;rt.domElement&&(rt.domElement.checked=st),m.setValue(rt.id,{value:st})}}},ke)}),this._setEventListeners(Z,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ke=>ke.target.checked)}return this._setBackgroundColor(Z),this.container.appendChild(Z),this.container}}class O extends E{constructor(m){super(m,{ignoreBorder:m.data.hasAppearance})}render(){const m=super.render();return m.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(m.title=this.data.alternativeText),m}}class q extends T{constructor(m){super(m,{isRenderable:m.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const m=this.annotationStorage,U=this.data.id;m.getValue(U,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:se}=this.data.defaultAppearanceData;se||(se=9);const ye=`calc(${se}px * var(--zoom-factor))`,Z=document.createElement("select");d.add(Z),Z.disabled=this.data.readOnly,Z.name=this.data.fieldName,Z.setAttribute("id",U),Z.tabIndex=I,Z.style.fontSize=`${se}px`,this.data.combo||(Z.size=this.data.options.length,this.data.multiSelect&&(Z.multiple=!0)),Z.addEventListener("resetform",Ne=>{const Fe=this.data.defaultFieldValue;for(const Ue of Z.options)Ue.selected=Ue.value===Fe});for(const Ne of this.data.options){const Fe=document.createElement("option");Fe.textContent=Ne.displayValue,Fe.value=Ne.exportValue,this.data.combo&&(Fe.style.fontSize=ye),this.data.fieldValue.includes(Ne.exportValue)&&Fe.setAttribute("selected",!0),Z.appendChild(Fe)}const we=(Ne,Fe)=>{const Ue=Fe?"value":"textContent",rt=Ne.target.options;return Ne.target.multiple?Array.prototype.filter.call(rt,st=>st.selected).map(st=>st[Ue]):-1===rt.selectedIndex?null:rt[rt.selectedIndex][Ue]},ke=Ne=>Array.prototype.map.call(Ne.target.options,Ue=>({displayValue:Ue.textContent,exportValue:Ue.value}));return this.enableScripting&&this.hasJSActions?(Z.addEventListener("updatefromsandbox",Ne=>{this._dispatchEventFromSandbox({value(Ue){const rt=Ue.detail.value,st=new Set(Array.isArray(rt)?rt:[rt]);for(const pt of Z.options)pt.selected=st.has(pt.value);m.setValue(U,{value:we(Ue,!0)})},multipleSelection(Ue){Z.multiple=!0},remove(Ue){const rt=Z.options,st=Ue.detail.remove;rt[st].selected=!1,Z.remove(st),rt.length>0&&-1===Array.prototype.findIndex.call(rt,J=>J.selected)&&(rt[0].selected=!0),m.setValue(U,{value:we(Ue,!0),items:ke(Ue)})},clear(Ue){for(;0!==Z.length;)Z.remove(0);m.setValue(U,{value:null,items:[]})},insert(Ue){const{index:rt,displayValue:st,exportValue:pt}=Ue.detail.insert,J=document.createElement("option");J.textContent=st,J.value=pt,Z.insertBefore(J,Z.children[rt]),m.setValue(U,{value:we(Ue,!0),items:ke(Ue)})},items(Ue){const{items:rt}=Ue.detail;for(;0!==Z.length;)Z.remove(0);for(const st of rt){const{displayValue:pt,exportValue:J}=st,ve=document.createElement("option");ve.textContent=pt,ve.value=J,Z.appendChild(ve)}Z.options.length>0&&(Z.options[0].selected=!0),m.setValue(U,{value:we(Ue,!0),items:ke(Ue)})},indices(Ue){const rt=new Set(Ue.detail.indices);for(const st of Ue.target.options)st.selected=rt.has(st.index);m.setValue(U,{value:we(Ue,!0)})},editable(Ue){Ue.target.disabled=!Ue.detail.editable}},Ne)}),Z.addEventListener("input",Ne=>{var rt;const Fe=we(Ne,!0),Ue=we(Ne,!1);m.setValue(U,{value:Fe}),null==(rt=this.linkService.eventBus)||rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Ue,changeEx:Fe,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(Z,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Ne=>Ne.target.checked)):Z.addEventListener("input",function(Ne){m.setValue(U,{value:we(Ne)})}),this._setBackgroundColor(Z),this.container.appendChild(Z),this.container}}class b extends C{constructor(m){var se,ye,Z;super(m,{isRenderable:!!((null==(se=m.data.titleObj)?void 0:se.str)||(null==(ye=m.data.contentsObj)?void 0:ye.str)||(null==(Z=m.data.richText)?void 0:Z.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const se=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===se.length)return this.container;const ye=new v({container:this.container,trigger:Array.from(se),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Z=this.page,we=i.Util.normalizeRect([this.data.parentRect[0],Z.view[3]-this.data.parentRect[1]+Z.view[1],this.data.parentRect[2],Z.view[3]-this.data.parentRect[3]+Z.view[1]]),ke=we[0]+this.data.parentRect[2]-this.data.parentRect[0],Ne=we[1];return this.container.style.transformOrigin=`${-ke}px ${-Ne}px`,this.container.style.left=`${ke}px`,this.container.style.top=`${Ne}px`,this.container.appendChild(ye.render()),this.container}}class v{constructor(m){this.container=m.container,this.trigger=m.trigger,this.color=m.color,this.titleObj=m.titleObj,this.modificationDate=m.modificationDate,this.contentsObj=m.contentsObj,this.richText=m.richText,this.hideWrapper=m.hideWrapper||!1,this.pinned=!1}render(){var ke,Ne;const U=document.createElement("div");U.className="popupWrapper",this.hideElement=this.hideWrapper?U:this.container,this.hideElement.hidden=!0;const se=document.createElement("div");se.className="popup";const ye=this.color;ye&&(se.style.backgroundColor=i.Util.makeHexColor(0|.7*(255-ye[0])+ye[0],0|.7*(255-ye[1])+ye[1],0|.7*(255-ye[2])+ye[2]));const Z=document.createElement("h1");Z.dir=this.titleObj.dir,Z.textContent=this.titleObj.str,se.appendChild(Z);const we=xe.PDFDateString.toDateObject(this.modificationDate);if(we){const Fe=document.createElement("span");Fe.className="popupDate",Fe.textContent="{{date}}, {{time}}",Fe.dataset.l10nId="annotation_date_string",Fe.dataset.l10nArgs=JSON.stringify({date:we.toLocaleDateString(),time:we.toLocaleTimeString()}),se.appendChild(Fe)}if(!(null==(ke=this.richText)?void 0:ke.str)||(null==(Ne=this.contentsObj)?void 0:Ne.str)&&this.contentsObj.str!==this.richText.str){const Fe=this._formatContents(this.contentsObj);se.appendChild(Fe)}else f.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:se}),se.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Fe of this.trigger)Fe.addEventListener("click",this._toggle.bind(this)),Fe.addEventListener("mouseover",this._show.bind(this,!1)),Fe.addEventListener("mouseout",this._hide.bind(this,!1));return se.addEventListener("click",this._hide.bind(this,!0)),U.appendChild(se),U}_formatContents({str:m,dir:U}){const se=document.createElement("p");se.className="popupContent",se.dir=U;const ye=m.split(/(?:\r\n?|\n)/);for(let Z=0,we=ye.length;Z<we;++Z)se.appendChild(document.createTextNode(ye[Z])),Z<we-1&&se.appendChild(document.createElement("br"));return se}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(m=!1){m&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(m=!0){m&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class K extends C{constructor(m){var se,ye,Z;super(m,{isRenderable:!!(m.data.hasPopup||(null==(se=m.data.titleObj)?void 0:se.str)||(null==(ye=m.data.contentsObj)?void 0:ye.str)||(null==(Z=m.data.richText)?void 0:Z.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class x extends C{constructor(m){var se,ye,Z;super(m,{isRenderable:!!(m.data.hasPopup||(null==(se=m.data.titleObj)?void 0:se.str)||(null==(ye=m.data.contentsObj)?void 0:ye.str)||(null==(Z=m.data.richText)?void 0:Z.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const m=this.data,{width:U,height:se}=A(m.rect),ye=this.svgFactory.create(U,se),Z=this.svgFactory.createElement("svg:line");return Z.setAttribute("x1",m.rect[2]-m.lineCoordinates[0]),Z.setAttribute("y1",m.rect[3]-m.lineCoordinates[1]),Z.setAttribute("x2",m.rect[2]-m.lineCoordinates[2]),Z.setAttribute("y2",m.rect[3]-m.lineCoordinates[3]),Z.setAttribute("stroke-width",m.borderStyle.width||1),Z.setAttribute("stroke","transparent"),Z.setAttribute("fill","transparent"),ye.appendChild(Z),this.container.append(ye),this._createPopup(Z,m),this.container}}class B extends C{constructor(m){var se,ye,Z;super(m,{isRenderable:!!(m.data.hasPopup||(null==(se=m.data.titleObj)?void 0:se.str)||(null==(ye=m.data.contentsObj)?void 0:ye.str)||(null==(Z=m.data.richText)?void 0:Z.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const m=this.data,{width:U,height:se}=A(m.rect),ye=this.svgFactory.create(U,se),Z=m.borderStyle.width,we=this.svgFactory.createElement("svg:rect");return we.setAttribute("x",Z/2),we.setAttribute("y",Z/2),we.setAttribute("width",U-Z),we.setAttribute("height",se-Z),we.setAttribute("stroke-width",Z||1),we.setAttribute("stroke","transparent"),we.setAttribute("fill","transparent"),ye.appendChild(we),this.container.append(ye),this._createPopup(we,m),this.container}}class V extends C{constructor(m){var se,ye,Z;super(m,{isRenderable:!!(m.data.hasPopup||(null==(se=m.data.titleObj)?void 0:se.str)||(null==(ye=m.data.contentsObj)?void 0:ye.str)||(null==(Z=m.data.richText)?void 0:Z.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const m=this.data,{width:U,height:se}=A(m.rect),ye=this.svgFactory.create(U,se),Z=m.borderStyle.width,we=this.svgFactory.createElement("svg:ellipse");return we.setAttribute("cx",U/2),we.setAttribute("cy",se/2),we.setAttribute("rx",U/2-Z/2),we.setAttribute("ry",se/2-Z/2),we.setAttribute("stroke-width",Z||1),we.setAttribute("stroke","transparent"),we.setAttribute("fill","transparent"),ye.appendChild(we),this.container.append(ye),this._createPopup(we,m),this.container}}class L extends C{constructor(m){var se,ye,Z;super(m,{isRenderable:!!(m.data.hasPopup||(null==(se=m.data.titleObj)?void 0:se.str)||(null==(ye=m.data.contentsObj)?void 0:ye.str)||(null==(Z=m.data.richText)?void 0:Z.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const m=this.data,{width:U,height:se}=A(m.rect),ye=this.svgFactory.create(U,se);let Z=[];for(const ke of m.vertices)Z.push(ke.x-m.rect[0]+","+(m.rect[3]-ke.y));Z=Z.join(" ");const we=this.svgFactory.createElement(this.svgElementName);return we.setAttribute("points",Z),we.setAttribute("stroke-width",m.borderStyle.width||1),we.setAttribute("stroke","transparent"),we.setAttribute("fill","transparent"),ye.appendChild(we),this.container.append(ye),this._createPopup(we,m),this.container}}class G extends L{constructor(m){super(m),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ne extends C{constructor(m){var se,ye,Z;super(m,{isRenderable:!!(m.data.hasPopup||(null==(se=m.data.titleObj)?void 0:se.str)||(null==(ye=m.data.contentsObj)?void 0:ye.str)||(null==(Z=m.data.richText)?void 0:Z.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class le extends C{constructor(m){var se,ye,Z;super(m,{isRenderable:!!(m.data.hasPopup||(null==(se=m.data.titleObj)?void 0:se.str)||(null==(ye=m.data.contentsObj)?void 0:ye.str)||(null==(Z=m.data.richText)?void 0:Z.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const m=this.data,{width:U,height:se}=A(m.rect),ye=this.svgFactory.create(U,se);for(const Z of m.inkLists){let we=[];for(const Ne of Z)we.push(`${Ne.x-m.rect[0]},${m.rect[3]-Ne.y}`);we=we.join(" ");const ke=this.svgFactory.createElement(this.svgElementName);ke.setAttribute("points",we),ke.setAttribute("stroke-width",m.borderStyle.width||1),ke.setAttribute("stroke","transparent"),ke.setAttribute("fill","transparent"),this._createPopup(ke,m),ye.appendChild(ke)}return this.container.append(ye),this.container}}class ue extends C{constructor(m){var se,ye,Z;super(m,{isRenderable:!!(m.data.hasPopup||(null==(se=m.data.titleObj)?void 0:se.str)||(null==(ye=m.data.contentsObj)?void 0:ye.str)||(null==(Z=m.data.richText)?void 0:Z.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class _e extends C{constructor(m){var se,ye,Z;super(m,{isRenderable:!!(m.data.hasPopup||(null==(se=m.data.titleObj)?void 0:se.str)||(null==(ye=m.data.contentsObj)?void 0:ye.str)||(null==(Z=m.data.richText)?void 0:Z.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class he extends C{constructor(m){var se,ye,Z;super(m,{isRenderable:!!(m.data.hasPopup||(null==(se=m.data.titleObj)?void 0:se.str)||(null==(ye=m.data.contentsObj)?void 0:ye.str)||(null==(Z=m.data.richText)?void 0:Z.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Ce extends C{constructor(m){var se,ye,Z;super(m,{isRenderable:!!(m.data.hasPopup||(null==(se=m.data.titleObj)?void 0:se.str)||(null==(ye=m.data.contentsObj)?void 0:ye.str)||(null==(Z=m.data.richText)?void 0:Z.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class ee extends C{constructor(m){var se,ye,Z;super(m,{isRenderable:!!(m.data.hasPopup||(null==(se=m.data.titleObj)?void 0:se.str)||(null==(ye=m.data.contentsObj)?void 0:ye.str)||(null==(Z=m.data.richText)?void 0:Z.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class F extends C{constructor(m){var ye;super(m,{isRenderable:!0});const{filename:U,content:se}=this.data.file;this.filename=(0,xe.getFilenameFromUrl)(U),this.content=se,null==(ye=this.linkService.eventBus)||ye.dispatch("fileattachmentannotation",{source:this,id:(0,i.stringToPDFString)(U),filename:U,content:se})}render(){var U,se;this.container.className="fileAttachmentAnnotation";const m=document.createElement("div");return m.style.height=this.container.style.height,m.style.width=this.container.style.width,m.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(U=this.data.titleObj)?void 0:U.str)||(null==(se=this.data.contentsObj)?void 0:se.str)||this.data.richText)&&this._createPopup(m,this.data),this.container.appendChild(m),this.container}_download(){var m;null==(m=this.downloadManager)||m.openOrDownloadData(this.container,this.content,this.filename)}}class R{static render(m){const U=[],se=[];for(const Z of m.annotations){if(!Z)continue;const{width:we,height:ke}=A(Z.rect);if(!(we<=0||ke<=0)){if(Z.annotationType===i.AnnotationType.POPUP){se.push(Z);continue}U.push(Z)}}se.length&&U.push(...se);const ye=m.div;for(const Z of U){const we=g.create({data:Z,layer:ye,page:m.page,viewport:m.viewport,linkService:m.linkService,downloadManager:m.downloadManager,imageResourcesPath:m.imageResourcesPath||"",renderForms:!1!==m.renderForms,svgFactory:new xe.DOMSVGFactory,annotationStorage:m.annotationStorage||new ie.AnnotationStorage,enableScripting:m.enableScripting,hasJSActions:m.hasJSActions,fieldObjects:m.fieldObjects,mouseState:m.mouseState||{isDown:!1}});if(we.isRenderable){const ke=we.render();if(Z.hidden&&(ke.style.visibility="hidden"),Array.isArray(ke))for(const Ne of ke)ye.appendChild(Ne);else we instanceof b?ye.prepend(ke):ye.appendChild(ke)}}Pi(this,j,aa).call(this,ye,m.annotationCanvasMap)}static update(m){const{page:U,viewport:se,annotations:ye,annotationCanvasMap:Z,div:we}=m,ke=se.transform,Ne=`matrix(${ke.join(",")})`;let Fe,Ue;for(const rt of ye){const st=we.querySelectorAll(`[data-annotation-id="${rt.id}"]`);if(st)for(const pt of st)if(rt.hasOwnCanvas){const J=i.Util.normalizeRect([rt.rect[0],U.view[3]-rt.rect[1]+U.view[1],rt.rect[2],U.view[3]-rt.rect[3]+U.view[1]]);if(!Ue){Fe=Math.abs(ke[0]||ke[1]);const Me=ke.slice();for(let Re=0;Re<4;Re++)Me[Re]=Math.sign(Me[Re]);Ue=`matrix(${Me.join(",")})`}const ve=J[0]*Fe,Be=J[1]*Fe;pt.style.left=`${ve}px`,pt.style.top=`${Be}px`,pt.style.transformOrigin=`${-ve}px ${-Be}px`,pt.style.transform=Ue}else pt.style.transform=Ne}Pi(this,j,aa).call(this,we,Z),we.hidden=!1}}j=new WeakSet,aa=function(m,U){if(U){for(const[se,ye]of U){const Z=m.querySelector(`[data-annotation-id="${se}"]`);if(!Z)continue;const{firstChild:we}=Z;"CANVAS"===we.nodeName?Z.replaceChild(ye,we):Z.insertBefore(ye,we)}U.clear()}},ii(R,j),de.AnnotationLayer=R},(Xe,de)=>{function ce(xe){return Math.floor(255*Math.max(0,Math.min(1,xe))).toString(16).padStart(2,"0")}Object.defineProperty(de,"__esModule",{value:!0}),de.ColorConverters=void 0,de.ColorConverters=class i{static CMYK_G([ie,M,f,I]){return["G",1-Math.min(1,.3*ie+.59*f+.11*M+I)]}static G_CMYK([ie]){return["CMYK",0,0,0,1-ie]}static G_RGB([ie]){return["RGB",ie,ie,ie]}static G_HTML([ie]){const M=ce(ie);return`#${M}${M}${M}`}static RGB_G([ie,M,f]){return["G",.3*ie+.59*M+.11*f]}static RGB_HTML([ie,M,f]){return`#${ce(ie)}${ce(M)}${ce(f)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ie,M,f,I]){return["RGB",1-Math.min(1,ie+I),1-Math.min(1,f+I),1-Math.min(1,M+I)]}static CMYK_HTML(ie){return this.RGB_HTML(this.CMYK_RGB(ie))}static RGB_CMYK([ie,M,f]){const I=1-ie,d=1-M,A=1-f;return["CMYK",I,d,A,Math.min(I,d,A)]}}},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.XfaLayer=void 0;var i=ce(1),xe=ce(17);de.XfaLayer=class ie{static setupStorage(f,I,d,A,g){const C=A.getValue(I,{value:null});switch(d.name){case"textarea":if(null!==C.value&&(f.textContent=C.value),"print"===g)break;f.addEventListener("input",E=>{A.setValue(I,{value:E.target.value})});break;case"input":if("radio"===d.attributes.type||"checkbox"===d.attributes.type){if(C.value===d.attributes.xfaOn?f.setAttribute("checked",!0):C.value===d.attributes.xfaOff&&f.removeAttribute("checked"),"print"===g)break;f.addEventListener("change",E=>{A.setValue(I,{value:E.target.getAttribute(E.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==C.value&&f.setAttribute("value",C.value),"print"===g)break;f.addEventListener("input",E=>{A.setValue(I,{value:E.target.value})})}break;case"select":if(null!==C.value)for(const E of d.children)E.attributes.value===C.value&&(E.attributes.selected=!0);f.addEventListener("input",E=>{const l=E.target.options;A.setValue(I,{value:-1===l.selectedIndex?"":l[l.selectedIndex].value})})}}static setAttributes({html:f,element:I,storage:d=null,intent:A,linkService:g}){var l;const{attributes:C}=I,E=f instanceof HTMLAnchorElement;"radio"===C.type&&(C.name=`${C.name}-${A}`);for(const[T,_]of Object.entries(C))if(null!=_&&"dataId"!==T)if("style"!==T)if("textContent"===T)f.textContent=_;else if("class"===T)_.length&&f.setAttribute(T,_.join(" "));else{if(E&&("href"===T||"newWindow"===T))continue;f.setAttribute(T,_)}else Object.assign(f.style,_);E&&(g.addLinkAttributes||(0,i.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(l=g.addLinkAttributes)||l.call(g,f,C.href,C.newWindow)),d&&C.dataId&&this.setupStorage(f,C.dataId,I,d)}static render(f){var _;const I=f.annotationStorage,d=f.linkService,A=f.xfaHtml,g=f.intent||"display",C=document.createElement(A.name);A.attributes&&this.setAttributes({html:C,element:A,intent:g,linkService:d});const E=[[A,-1,C]],l=f.div;if(l.appendChild(C),f.viewport){const H=`matrix(${f.viewport.transform.join(",")})`;l.style.transform=H}"richText"!==g&&l.setAttribute("class","xfaLayer xfaFont");const T=[];for(;E.length>0;){const[H,oe,O]=E[E.length-1];if(oe+1===H.children.length){E.pop();continue}const q=H.children[++E[E.length-1][1]];if(null===q)continue;const{name:b}=q;if("#text"===b){const K=document.createTextNode(q.value);T.push(K),O.appendChild(K);continue}let v;if(v=(null==(_=null==q?void 0:q.attributes)?void 0:_.xmlns)?document.createElementNS(q.attributes.xmlns,b):document.createElement(b),O.appendChild(v),q.attributes&&this.setAttributes({html:v,element:q,storage:I,intent:g,linkService:d}),q.children&&q.children.length>0)E.push([q,-1,v]);else if(q.value){const K=document.createTextNode(q.value);xe.XfaText.shouldBuildText(b)&&T.push(K),v.appendChild(K)}}for(const H of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))H.setAttribute("readOnly",!0);return{textDivs:T}}static update(f){const I=`matrix(${f.viewport.transform.join(",")})`;f.div.style.transform=I,f.div.hidden=!1}}},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.renderTextLayer=function H(oe){const O=new _({textContent:oe.textContent,textContentStream:oe.textContentStream,container:oe.container,viewport:oe.viewport,textDivs:oe.textDivs,textContentItemsStr:oe.textContentItemsStr,enhanceTextSelection:oe.enhanceTextSelection});return O._render(oe.timeout),O};var i=ce(1);const f=new Map,I=/^\s+$/g;function A(oe,O,q,b){const v=document.createElement("span"),K=oe._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==O.str,hasEOL:O.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==O.str,hasEOL:O.hasEOL};oe._textDivs.push(v);const x=i.Util.transform(oe._viewport.transform,O.transform);let B=Math.atan2(x[1],x[0]);const V=q[O.fontName];V.vertical&&(B+=Math.PI/2);const L=Math.hypot(x[2],x[3]),G=L*function d(oe,O){const q=f.get(oe);if(q)return q;O.save(),O.font=`30px ${oe}`;const b=O.measureText("");let v=b.fontBoundingBoxAscent,K=Math.abs(b.fontBoundingBoxDescent);if(v){O.restore();const B=v/(v+K);return f.set(oe,B),B}O.strokeStyle="red",O.clearRect(0,0,30,30),O.strokeText("g",0,0);let x=O.getImageData(0,0,30,30).data;K=0;for(let B=x.length-1-3;B>=0;B-=4)if(x[B]>0){K=Math.ceil(B/4/30);break}O.clearRect(0,0,30,30),O.strokeText("A",0,30),x=O.getImageData(0,0,30,30).data,v=0;for(let B=0,V=x.length;B<V;B+=4)if(x[B]>0){v=30-Math.floor(B/4/30);break}if(O.restore(),v){const B=v/(v+K);return f.set(oe,B),B}return f.set(oe,.8),.8}(V.fontFamily,b);let ne,le;0===B?(ne=x[4],le=x[5]-G):(ne=x[4]+G*Math.sin(B),le=x[5]-G*Math.cos(B)),v.style.left=`${ne}px`,v.style.top=`${le}px`,v.style.fontSize=`${L}px`,v.style.fontFamily=V.fontFamily,v.setAttribute("role","presentation"),v.textContent=O.str,v.dir=O.dir,oe._fontInspectorEnabled&&(v.dataset.fontName=O.fontName),0!==B&&(K.angle=B*(180/Math.PI));let ue=!1;if(O.str.length>1||oe._enhanceTextSelection&&I.test(O.str))ue=!0;else if(" "!==O.str&&O.transform[0]!==O.transform[3]){const _e=Math.abs(O.transform[0]),he=Math.abs(O.transform[3]);_e!==he&&Math.max(_e,he)/Math.min(_e,he)>1.5&&(ue=!0)}if(ue&&(K.canvasWidth=V.vertical?O.height*oe._viewport.scale:O.width*oe._viewport.scale),oe._textDivProperties.set(v,K),oe._textContentStream&&oe._layoutText(v),oe._enhanceTextSelection&&K.hasText){let _e=1,he=0;0!==B&&(_e=Math.cos(B),he=Math.sin(B));const Ce=(V.vertical?O.height:O.width)*oe._viewport.scale,ee=L;let F,R;0!==B?(F=[_e,he,-he,_e,ne,le],R=i.Util.getAxialAlignedBoundingBox([0,0,Ce,ee],F)):R=[ne,le,ne+Ce,le+ee],oe._bounds.push({left:R[0],top:R[1],right:R[2],bottom:R[3],div:v,size:[Ce,ee],m:F})}}function g(oe){if(oe._canceled)return;const O=oe._textDivs,q=oe._capability,b=O.length;if(b>1e5)return oe._renderingDone=!0,void q.resolve();if(!oe._textContentStream)for(let v=0;v<b;v++)oe._layoutText(O[v]);oe._renderingDone=!0,q.resolve()}function C(oe,O,q){let b=0;for(let v=0;v<q;v++){const K=oe[O++];K>0&&(b=b?Math.min(K,b):K)}return b}function T(oe,O){O.sort(function(v,K){return v.x1-K.x1||v.index-K.index});const b=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const v of O){let K=0;for(;K<b.length&&b[K].end<=v.y1;)K++;let x=b.length-1;for(;x>=0&&b[x].start>=v.y2;)x--;let B,V,L,G,ne=-1/0;for(L=K;L<=x;L++){let _e;B=b[L],V=B.boundary,_e=V.x2>v.x1?V.index>v.index?V.x1New:v.x1:void 0===V.x2New?(V.x2+v.x1)/2:V.x2New,_e>ne&&(ne=_e)}for(v.x1New=ne,L=K;L<=x;L++)B=b[L],V=B.boundary,void 0===V.x2New?V.x2>v.x1?V.index>v.index&&(V.x2New=V.x2):V.x2New=ne:V.x2New>ne&&(V.x2New=Math.max(ne,V.x2));const le=[];let ue=null;for(L=K;L<=x;L++){B=b[L],V=B.boundary;const _e=V.x2>v.x2?V:v;ue===_e?le[le.length-1].end=B.end:(le.push({start:B.start,end:B.end,boundary:_e}),ue=_e)}for(b[K].start<v.y1&&(le[0].start=v.y1,le.unshift({start:b[K].start,end:v.y1,boundary:b[K].boundary})),v.y2<b[x].end&&(le[le.length-1].end=v.y2,le.push({start:v.y2,end:b[x].end,boundary:b[x].boundary})),L=K;L<=x;L++){if(B=b[L],V=B.boundary,void 0!==V.x2New)continue;let _e=!1;for(G=K-1;!_e&&G>=0&&b[G].start>=V.y1;G--)_e=b[G].boundary===V;for(G=x+1;!_e&&G<b.length&&b[G].end<=V.y2;G++)_e=b[G].boundary===V;for(G=0;!_e&&G<le.length;G++)_e=le[G].boundary===V;_e||(V.x2New=ne)}Array.prototype.splice.apply(b,[K,x-K+1].concat(le))}for(const v of b){const K=v.boundary;void 0===K.x2New&&(K.x2New=Math.max(oe,K.x2))}}class _{constructor({textContent:O,textContentStream:q,container:b,viewport:v,textDivs:K,textContentItemsStr:x,enhanceTextSelection:B}){var V;this._textContent=O,this._textContentStream=q,this._container=b,this._document=b.ownerDocument,this._viewport=v,this._textDivs=K||[],this._textContentItemsStr=x||[],this._enhanceTextSelection=!!B,this._fontInspectorEnabled=!!(null==(V=globalThis.FontInspector)?void 0:V.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(O,q){for(let b=0,v=O.length;b<v;b++)if(void 0!==O[b].str)this._textContentItemsStr.push(O[b].str),A(this,O[b],q,this._layoutTextCtx);else if("beginMarkedContentProps"===O[b].type||"beginMarkedContent"===O[b].type){const K=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==O[b].id&&this._container.setAttribute("id",`${O[b].id}`),K.appendChild(this._container)}else"endMarkedContent"===O[b].type&&(this._container=this._container.parentNode)}_layoutText(O){const q=this._textDivProperties.get(O);let b="";if(0!==q.canvasWidth&&q.hasText){const{fontSize:v,fontFamily:K}=O.style;(v!==this._layoutTextLastFontSize||K!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${v} ${K}`,this._layoutTextLastFontSize=v,this._layoutTextLastFontFamily=K);const{width:x}=this._layoutTextCtx.measureText(O.textContent);if(x>0){const B=q.canvasWidth/x;this._enhanceTextSelection&&(q.scale=B),b=`scaleX(${B})`}}if(0!==q.angle&&(b=`rotate(${q.angle}deg) ${b}`),b.length>0&&(this._enhanceTextSelection&&(q.originalTransform=b),O.style.transform=b),q.hasText&&this._container.appendChild(O),q.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),this._container.appendChild(v)}}_render(O=0){const q=(0,i.createPromiseCapability)();let b=Object.create(null);const v=this._document.createElement("canvas");if(v.height=v.width=30,v.mozOpaque=!0,this._layoutTextCtx=v.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),q.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const K=()=>{this._reader.read().then(({value:x,done:B})=>{B?q.resolve():(Object.assign(b,x.styles),this._processItems(x.items,b),K())},q.reject)};this._reader=this._textContentStream.getReader(),K()}}q.promise.then(()=>{b=null,O?this._renderTimer=setTimeout(()=>{g(this),this._renderTimer=null},O):g(this)},this._capability.reject)}expandTextDivs(O=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function E(oe){const O=oe._bounds,q=oe._viewport,b=function l(oe,O,q){const b=q.map(function(K,x){return{x1:K.left,y1:K.top,x2:K.right,y2:K.bottom,index:x,x1New:void 0,x2New:void 0}});T(oe,b);const v=new Array(q.length);for(const K of b)v[K.index]={left:K.x1New,top:0,right:K.x2New,bottom:0};q.map(function(K,x){const B=v[x],V=b[x];V.x1=K.top,V.y1=oe-B.right,V.x2=K.bottom,V.y2=oe-B.left,V.index=x,V.x1New=void 0,V.x2New=void 0}),T(O,b);for(const K of b){const x=K.index;v[x].top=K.x1New,v[x].bottom=K.x2New}return v}(q.width,q.height,O);for(let v=0;v<b.length;v++){const K=O[v].div,x=oe._textDivProperties.get(K);if(0===x.angle){x.paddingLeft=O[v].left-b[v].left,x.paddingTop=O[v].top-b[v].top,x.paddingRight=b[v].right-O[v].right,x.paddingBottom=b[v].bottom-O[v].bottom,oe._textDivProperties.set(K,x);continue}const B=b[v],V=O[v],L=V.m,G=L[0],ne=L[1],le=[[0,0],[0,V.size[1]],[V.size[0],0],V.size],ue=new Float64Array(64);for(let he=0,Ce=le.length;he<Ce;he++){const ee=i.Util.applyTransform(le[he],L);ue[he+0]=G&&(B.left-ee[0])/G,ue[he+4]=ne&&(B.top-ee[1])/ne,ue[he+8]=G&&(B.right-ee[0])/G,ue[he+12]=ne&&(B.bottom-ee[1])/ne,ue[he+16]=ne&&(B.left-ee[0])/-ne,ue[he+20]=G&&(B.top-ee[1])/G,ue[he+24]=ne&&(B.right-ee[0])/-ne,ue[he+28]=G&&(B.bottom-ee[1])/G,ue[he+32]=G&&(B.left-ee[0])/-G,ue[he+36]=ne&&(B.top-ee[1])/-ne,ue[he+40]=G&&(B.right-ee[0])/-G,ue[he+44]=ne&&(B.bottom-ee[1])/-ne,ue[he+48]=ne&&(B.left-ee[0])/ne,ue[he+52]=G&&(B.top-ee[1])/-G,ue[he+56]=ne&&(B.right-ee[0])/ne,ue[he+60]=G&&(B.bottom-ee[1])/-G}const _e=1+Math.min(Math.abs(G),Math.abs(ne));x.paddingLeft=C(ue,32,16)/_e,x.paddingTop=C(ue,48,16)/_e,x.paddingRight=C(ue,0,16)/_e,x.paddingBottom=C(ue,16,16)/_e,oe._textDivProperties.set(K,x)}}(this),this._bounds=null);const q=[],b=[];for(let v=0,K=this._textDivs.length;v<K;v++){const x=this._textDivs[v],B=this._textDivProperties.get(x);!B.hasText||(O?(q.length=0,b.length=0,B.originalTransform&&q.push(B.originalTransform),B.paddingTop>0?(b.push(`${B.paddingTop}px`),q.push(`translateY(${-B.paddingTop}px)`)):b.push(0),b.push(B.paddingRight>0?B.paddingRight/B.scale+"px":0),b.push(B.paddingBottom>0?`${B.paddingBottom}px`:0),B.paddingLeft>0?(b.push(B.paddingLeft/B.scale+"px"),q.push(`translateX(${-B.paddingLeft/B.scale}px)`)):b.push(0),x.style.padding=b.join(" "),q.length&&(x.style.transform=q.join(" "))):(x.style.padding=null,x.style.transform=B.originalTransform))}}}},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.SVGGraphics=void 0;var i=ce(1),xe=ce(5),ie=ce(3);let M=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};de.SVGGraphics=M;{let T=function(b){let v=[];const K=[];for(const x of b)"save"!==x.fn?"restore"===x.fn?v=K.pop():v.push(x):(v.push({fnId:92,fn:"group",items:[]}),K.push(v),v=v[v.length-1].items);return v},_=function(b){if(Number.isInteger(b))return b.toString();const v=b.toFixed(10);let K=v.length-1;if("0"!==v[K])return v;do{K--}while("0"===v[K]);return v.substring(0,"."===v[K]?K:K+1)},H=function(b){if(0===b[4]&&0===b[5]){if(0===b[1]&&0===b[2])return 1===b[0]&&1===b[3]?"":`scale(${_(b[0])} ${_(b[3])})`;if(b[0]===b[3]&&b[1]===-b[2]){const v=180*Math.acos(b[0])/Math.PI;return`rotate(${_(v)})`}}else if(1===b[0]&&0===b[1]&&0===b[2]&&1===b[3])return`translate(${_(b[4])} ${_(b[5])})`;return`matrix(${_(b[0])} ${_(b[1])} ${_(b[2])} ${_(b[3])} ${_(b[4])} ${_(b[5])})`};const f={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},I="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/1999/xlink",A=["butt","round","square"],g=["miter","round","bevel"],C=function(b,v="",K=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!K)return URL.createObjectURL(new Blob([b],{type:v}));const x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let B=`data:${v};base64,`;for(let V=0,L=b.length;V<L;V+=3){const G=255&b[V],ne=255&b[V+1],le=255&b[V+2];B+=x[G>>2]+x[(3&G)<<4|ne>>4]+x[V+1<L?(15&ne)<<2|le>>6:64]+x[V+2<L?63&le:64]}return B},E=function(){const b=new Uint8Array([137,80,78,71,13,10,26,10]),K=new Int32Array(256);for(let le=0;le<256;le++){let ue=le;for(let _e=0;_e<8;_e++)ue=1&ue?3988292384^ue>>1&2147483647:ue>>1&2147483647;K[le]=ue}function B(le,ue,_e,he){let Ce=he;const ee=ue.length;_e[Ce]=ee>>24&255,_e[Ce+1]=ee>>16&255,_e[Ce+2]=ee>>8&255,_e[Ce+3]=255&ee,Ce+=4,_e[Ce]=255&le.charCodeAt(0),_e[Ce+1]=255&le.charCodeAt(1),_e[Ce+2]=255&le.charCodeAt(2),_e[Ce+3]=255&le.charCodeAt(3),Ce+=4,_e.set(ue,Ce),Ce+=ue.length;const F=function x(le,ue,_e){let he=-1;for(let Ce=ue;Ce<_e;Ce++)he=he>>>8^K[255&(he^le[Ce])];return-1^he}(_e,he+4,Ce);_e[Ce]=F>>24&255,_e[Ce+1]=F>>16&255,_e[Ce+2]=F>>8&255,_e[Ce+3]=255&F}function G(le){let ue=le.length;const _e=65535,he=Math.ceil(ue/_e),Ce=new Uint8Array(2+ue+5*he+4);let ee=0;Ce[ee++]=120,Ce[ee++]=156;let F=0;for(;ue>_e;)Ce[ee++]=0,Ce[ee++]=255,Ce[ee++]=255,Ce[ee++]=0,Ce[ee++]=0,Ce.set(le.subarray(F,F+_e),ee),ee+=_e,F+=_e,ue-=_e;Ce[ee++]=1,Ce[ee++]=255&ue,Ce[ee++]=ue>>8&255,Ce[ee++]=255&~ue,Ce[ee++]=(65535&~ue)>>8&255,Ce.set(le.subarray(F),ee),ee+=le.length-F;const R=function V(le,ue,_e){let he=1,Ce=0;for(let ee=ue;ee<_e;++ee)he=(he+(255&le[ee]))%65521,Ce=(Ce+he)%65521;return Ce<<16|he}(le,0,le.length);return Ce[ee++]=R>>24&255,Ce[ee++]=R>>16&255,Ce[ee++]=R>>8&255,Ce[ee++]=255&R,Ce}return function(ue,_e,he){return function ne(le,ue,_e,he){const Ce=le.width,ee=le.height;let F,R,j;const Y=le.data;switch(ue){case i.ImageKind.GRAYSCALE_1BPP:R=0,F=1,j=Ce+7>>3;break;case i.ImageKind.RGB_24BPP:R=2,F=8,j=3*Ce;break;case i.ImageKind.RGBA_32BPP:R=6,F=8,j=4*Ce;break;default:throw new Error("invalid format")}const Q=new Uint8Array((1+j)*ee);let m=0,U=0;for(let Ne=0;Ne<ee;++Ne)Q[m++]=0,Q.set(Y.subarray(U,U+j),m),U+=j,m+=j;if(ue===i.ImageKind.GRAYSCALE_1BPP&&he){m=0;for(let Ne=0;Ne<ee;Ne++){m++;for(let Fe=0;Fe<j;Fe++)Q[m++]^=255}}const se=new Uint8Array([Ce>>24&255,Ce>>16&255,Ce>>8&255,255&Ce,ee>>24&255,ee>>16&255,ee>>8&255,255&ee,F,R,0,0,0]),ye=function L(le){if(!ie.isNodeJS)return G(le);try{let ue;ue=parseInt(process.versions.node)>=8?le:Buffer.from(le);const _e=__webpack_require__(2258).deflateSync(ue,{level:9});return _e instanceof Uint8Array?_e:new Uint8Array(_e)}catch(ue){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ue)}return G(le)}(Q),we=new Uint8Array(b.length+36+se.length+ye.length);let ke=0;return we.set(b,ke),ke+=b.length,B("IHDR",se,we,ke),ke+=12+se.length,B("IDATA",ye,we,ke),ke+=12+ye.length,B("IEND",new Uint8Array(0),we,ke),C(we,"image/png",_e)}(ue,void 0===ue.kind?i.ImageKind.GRAYSCALE_1BPP:ue.kind,_e,he)}}();class l{constructor(){this.fontSizeScale=1,this.fontWeight=f.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=f.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(v,K){this.x=v,this.y=K}}let oe=0,O=0,q=0;de.SVGGraphics=M=class{constructor(b,v,K=!1){this.svgFactory=new xe.DOMSVGFactory,this.current=new l,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=b,this.objs=v,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!K,this._operatorIdMapping=[];for(const x in i.OPS)this._operatorIdMapping[i.OPS[x]]=x}save(){this.transformStack.push(this.transformMatrix);const b=this.current;this.extraStack.push(b),this.current=b.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(b){this.save(),this.executeOpTree(b),this.restore()}loadDependencies(b){const v=b.fnArray,K=b.argsArray;for(let x=0,B=v.length;x<B;x++)if(v[x]===i.OPS.dependency)for(const V of K[x]){const L=V.startsWith("g_")?this.commonObjs:this.objs,G=new Promise(ne=>{L.get(V,ne)});this.current.dependencies.push(G)}return Promise.all(this.current.dependencies)}transform(b,v,K,x,B,V){this.transformMatrix=i.Util.transform(this.transformMatrix,[b,v,K,x,B,V]),this.tgrp=null}getSVG(b,v){this.viewport=v;const K=this._initialize(v);return this.loadDependencies(b).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(b)),K))}convertOpList(b){const v=this._operatorIdMapping,K=b.argsArray,x=b.fnArray,B=[];for(let V=0,L=x.length;V<L;V++){const G=x[V];B.push({fnId:G,fn:v[G],args:K[V]})}return T(B)}executeOpTree(b){for(const v of b){const K=v.fn,B=v.args;switch(0|v.fnId){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(B);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(B[0],B[1]);break;case i.OPS.setFont:this.setFont(B);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(B[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(B[0],B[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(B[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(B[0]);break;case i.OPS.setHScale:this.setHScale(B[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(B[0],B[1],B[2],B[3],B[4],B[5]);break;case i.OPS.setTextRise:this.setTextRise(B[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(B[0]);break;case i.OPS.setLineWidth:this.setLineWidth(B[0]);break;case i.OPS.setLineJoin:this.setLineJoin(B[0]);break;case i.OPS.setLineCap:this.setLineCap(B[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(B[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(B[0],B[1],B[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(B[0],B[1],B[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(B);break;case i.OPS.setFillColorN:this.setFillColorN(B);break;case i.OPS.shadingFill:this.shadingFill(B[0]);break;case i.OPS.setDash:this.setDash(B[0],B[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(B[0]);break;case i.OPS.setFlatness:this.setFlatness(B[0]);break;case i.OPS.setGState:this.setGState(B[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(B[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(B[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(B[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(B[0],B[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(B[0],B[1],B[2],B[3],B[4],B[5]);break;case i.OPS.constructPath:this.constructPath(B[0],B[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(v.items);break;default:(0,i.warn)(`Unimplemented operator ${K}`)}}}setWordSpacing(b){this.current.wordSpacing=b}setCharSpacing(b){this.current.charSpacing=b}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(b,v,K,x,B,V){const L=this.current;L.textMatrix=L.lineMatrix=[b,v,K,x,B,V],L.textMatrixScale=Math.hypot(b,v),L.x=L.lineX=0,L.y=L.lineY=0,L.xcoords=[],L.ycoords=[],L.tspan=this.svgFactory.createElement("svg:tspan"),L.tspan.setAttributeNS(null,"font-family",L.fontFamily),L.tspan.setAttributeNS(null,"font-size",`${_(L.fontSize)}px`),L.tspan.setAttributeNS(null,"y",_(-L.y)),L.txtElement=this.svgFactory.createElement("svg:text"),L.txtElement.appendChild(L.tspan)}beginText(){const b=this.current;b.x=b.lineX=0,b.y=b.lineY=0,b.textMatrix=i.IDENTITY_MATRIX,b.lineMatrix=i.IDENTITY_MATRIX,b.textMatrixScale=1,b.tspan=this.svgFactory.createElement("svg:tspan"),b.txtElement=this.svgFactory.createElement("svg:text"),b.txtgrp=this.svgFactory.createElement("svg:g"),b.xcoords=[],b.ycoords=[]}moveText(b,v){const K=this.current;K.x=K.lineX+=b,K.y=K.lineY+=v,K.xcoords=[],K.ycoords=[],K.tspan=this.svgFactory.createElement("svg:tspan"),K.tspan.setAttributeNS(null,"font-family",K.fontFamily),K.tspan.setAttributeNS(null,"font-size",`${_(K.fontSize)}px`),K.tspan.setAttributeNS(null,"y",_(-K.y))}showText(b){const v=this.current,K=v.font,x=v.fontSize;if(0===x)return;const B=v.fontSizeScale,V=v.charSpacing,L=v.wordSpacing,G=v.fontDirection,ne=v.textHScale*G,le=K.vertical,ue=le?1:-1,_e=K.defaultVMetrics,he=x*v.fontMatrix[0];let Ce=0;for(const R of b){if(null===R){Ce+=G*L;continue}if("number"==typeof R){Ce+=ue*R*x/1e3;continue}const j=(R.isSpace?L:0)+V,Y=R.fontChar;let Q,m,se,U=R.width;if(le){let ye;const Z=R.vmetric||_e;ye=R.vmetric?Z[1]:.5*U,ye=-ye*he,U=Z?-Z[0]:U,Q=ye/B,m=(Ce+Z[2]*he)/B}else Q=Ce/B,m=0;(R.isInFont||K.missingFile)&&(v.xcoords.push(v.x+Q),le&&v.ycoords.push(-v.y+m),v.tspan.textContent+=Y),se=le?U*he-j*G:U*he+j*G,Ce+=se}v.tspan.setAttributeNS(null,"x",v.xcoords.map(_).join(" ")),v.tspan.setAttributeNS(null,"y",le?v.ycoords.map(_).join(" "):_(-v.y)),le?v.y-=Ce:v.x+=Ce*ne,v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size",`${_(v.fontSize)}px`),v.fontStyle!==f.fontStyle&&v.tspan.setAttributeNS(null,"font-style",v.fontStyle),v.fontWeight!==f.fontWeight&&v.tspan.setAttributeNS(null,"font-weight",v.fontWeight);const ee=v.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;ee===i.TextRenderingMode.FILL||ee===i.TextRenderingMode.FILL_STROKE?(v.fillColor!==f.fillColor&&v.tspan.setAttributeNS(null,"fill",v.fillColor),v.fillAlpha<1&&v.tspan.setAttributeNS(null,"fill-opacity",v.fillAlpha)):v.tspan.setAttributeNS(null,"fill",v.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(ee===i.TextRenderingMode.STROKE||ee===i.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(v.tspan,1/(v.textMatrixScale||1));let F=v.textMatrix;0!==v.textRise&&(F=F.slice(),F[5]+=v.textRise),v.txtElement.setAttributeNS(null,"transform",`${H(F)} scale(${_(ne)}, -1)`),v.txtElement.setAttributeNS(I,"xml:space","preserve"),v.txtElement.appendChild(v.tspan),v.txtgrp.appendChild(v.txtElement),this._ensureTransformGroup().appendChild(v.txtElement)}setLeadingMoveText(b,v){this.setLeading(-v),this.moveText(b,v)}addFontStyle(b){if(!b.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const v=C(b.data,b.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${b.loadedName}"; src: url(${v}); }\n`}setFont(b){const v=this.current,K=this.commonObjs.get(b[0]);let x=b[1];v.font=K,this.embedFonts&&!K.missingFile&&!this.embeddedFonts[K.loadedName]&&(this.addFontStyle(K),this.embeddedFonts[K.loadedName]=K),v.fontMatrix=K.fontMatrix||i.FONT_IDENTITY_MATRIX;let B="normal";K.black?B="900":K.bold&&(B="bold");const V=K.italic?"italic":"normal";x<0?(x=-x,v.fontDirection=-1):v.fontDirection=1,v.fontSize=x,v.fontFamily=K.loadedName,v.fontWeight=B,v.fontStyle=V,v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"y",_(-v.y)),v.xcoords=[],v.ycoords=[]}endText(){var v;const b=this.current;b.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(v=b.txtElement)?void 0:v.hasChildNodes())&&(b.element=b.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(b){b>0&&(this.current.lineWidth=b)}setLineCap(b){this.current.lineCap=A[b]}setLineJoin(b){this.current.lineJoin=g[b]}setMiterLimit(b){this.current.miterLimit=b}setStrokeAlpha(b){this.current.strokeAlpha=b}setStrokeRGBColor(b,v,K){this.current.strokeColor=i.Util.makeHexColor(b,v,K)}setFillAlpha(b){this.current.fillAlpha=b}setFillRGBColor(b,v,K){this.current.fillColor=i.Util.makeHexColor(b,v,K),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(b){this.current.strokeColor=this._makeColorN_Pattern(b)}setFillColorN(b){this.current.fillColor=this._makeColorN_Pattern(b)}shadingFill(b){const v=this.viewport.width,K=this.viewport.height,x=i.Util.inverseTransform(this.transformMatrix),B=i.Util.applyTransform([0,0],x),V=i.Util.applyTransform([0,K],x),L=i.Util.applyTransform([v,0],x),G=i.Util.applyTransform([v,K],x),ne=Math.min(B[0],V[0],L[0],G[0]),le=Math.min(B[1],V[1],L[1],G[1]),ue=Math.max(B[0],V[0],L[0],G[0]),_e=Math.max(B[1],V[1],L[1],G[1]),he=this.svgFactory.createElement("svg:rect");he.setAttributeNS(null,"x",ne),he.setAttributeNS(null,"y",le),he.setAttributeNS(null,"width",ue-ne),he.setAttributeNS(null,"height",_e-le),he.setAttributeNS(null,"fill",this._makeShadingPattern(b)),this.current.fillAlpha<1&&he.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(he)}_makeColorN_Pattern(b){return"TilingPattern"===b[0]?this._makeTilingPattern(b):this._makeShadingPattern(b)}_makeTilingPattern(b){const v=b[1],K=b[2],x=b[3]||i.IDENTITY_MATRIX,[B,V,L,G]=b[4],ne=b[5],le=b[6],ue=b[7],_e="shading"+q++,[he,Ce,ee,F]=i.Util.normalizeRect([...i.Util.applyTransform([B,V],x),...i.Util.applyTransform([L,G],x)]),[R,j]=i.Util.singularValueDecompose2dScale(x),Y=ne*R,Q=le*j,m=this.svgFactory.createElement("svg:pattern");m.setAttributeNS(null,"id",_e),m.setAttributeNS(null,"patternUnits","userSpaceOnUse"),m.setAttributeNS(null,"width",Y),m.setAttributeNS(null,"height",Q),m.setAttributeNS(null,"x",`${he}`),m.setAttributeNS(null,"y",`${Ce}`);const U=this.svg,se=this.transformMatrix,ye=this.current.fillColor,Z=this.current.strokeColor,we=this.svgFactory.create(ee-he,F-Ce);if(this.svg=we,this.transformMatrix=x,2===ue){const ke=i.Util.makeHexColor(...v);this.current.fillColor=ke,this.current.strokeColor=ke}return this.executeOpTree(this.convertOpList(K)),this.svg=U,this.transformMatrix=se,this.current.fillColor=ye,this.current.strokeColor=Z,m.appendChild(we.childNodes[0]),this.defs.appendChild(m),`url(#${_e})`}_makeShadingPattern(b){switch("string"==typeof b&&(b=this.objs.get(b)),b[0]){case"RadialAxial":const v="shading"+q++,K=b[3];let x;switch(b[1]){case"axial":const B=b[4],V=b[5];x=this.svgFactory.createElement("svg:linearGradient"),x.setAttributeNS(null,"id",v),x.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),x.setAttributeNS(null,"x1",B[0]),x.setAttributeNS(null,"y1",B[1]),x.setAttributeNS(null,"x2",V[0]),x.setAttributeNS(null,"y2",V[1]);break;case"radial":const L=b[4],G=b[5],ne=b[6],le=b[7];x=this.svgFactory.createElement("svg:radialGradient"),x.setAttributeNS(null,"id",v),x.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),x.setAttributeNS(null,"cx",G[0]),x.setAttributeNS(null,"cy",G[1]),x.setAttributeNS(null,"r",le),x.setAttributeNS(null,"fx",L[0]),x.setAttributeNS(null,"fy",L[1]),x.setAttributeNS(null,"fr",ne);break;default:throw new Error(`Unknown RadialAxial type: ${b[1]}`)}for(const B of K){const V=this.svgFactory.createElement("svg:stop");V.setAttributeNS(null,"offset",B[0]),V.setAttributeNS(null,"stop-color",B[1]),x.appendChild(V)}return this.defs.appendChild(x),`url(#${v})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${b[0]}`)}}setDash(b,v){this.current.dashArray=b,this.current.dashPhase=v}constructPath(b,v){const K=this.current;let x=K.x,B=K.y,V=[],L=0;for(const G of b)switch(0|G){case i.OPS.rectangle:x=v[L++],B=v[L++];const ue=x+v[L++],_e=B+v[L++];V.push("M",_(x),_(B),"L",_(ue),_(B),"L",_(ue),_(_e),"L",_(x),_(_e),"Z");break;case i.OPS.moveTo:x=v[L++],B=v[L++],V.push("M",_(x),_(B));break;case i.OPS.lineTo:x=v[L++],B=v[L++],V.push("L",_(x),_(B));break;case i.OPS.curveTo:x=v[L+4],B=v[L+5],V.push("C",_(v[L]),_(v[L+1]),_(v[L+2]),_(v[L+3]),_(x),_(B)),L+=6;break;case i.OPS.curveTo2:V.push("C",_(x),_(B),_(v[L]),_(v[L+1]),_(v[L+2]),_(v[L+3])),x=v[L+2],B=v[L+3],L+=4;break;case i.OPS.curveTo3:x=v[L+2],B=v[L+3],V.push("C",_(v[L]),_(v[L+1]),_(x),_(B),_(x),_(B)),L+=4;break;case i.OPS.closePath:V.push("Z")}V=V.join(" "),K.path&&b.length>0&&b[0]!==i.OPS.rectangle&&b[0]!==i.OPS.moveTo?V=K.path.getAttributeNS(null,"d")+V:(K.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(K.path)),K.path.setAttributeNS(null,"d",V),K.path.setAttributeNS(null,"fill","none"),K.element=K.path,K.setCurrentPoint(x,B)}endPath(){const b=this.current;if(b.path=null,!this.pendingClip)return;if(!b.element)return void(this.pendingClip=null);const v="clippath"+oe++,K=this.svgFactory.createElement("svg:clipPath");K.setAttributeNS(null,"id",v),K.setAttributeNS(null,"transform",H(this.transformMatrix));const x=b.element.cloneNode(!0);if(x.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,K.appendChild(x),this.defs.appendChild(K),b.activeClipUrl){b.clipGroup=null;for(const B of this.extraStack)B.clipGroup=null;K.setAttributeNS(null,"clip-path",b.activeClipUrl)}b.activeClipUrl=`url(#${v})`,this.tgrp=null}clip(b){this.pendingClip=b}closePath(){const b=this.current;if(b.path){const v=`${b.path.getAttributeNS(null,"d")}Z`;b.path.setAttributeNS(null,"d",v)}}setLeading(b){this.current.leading=-b}setTextRise(b){this.current.textRise=b}setTextRenderingMode(b){this.current.textRenderingMode=b}setHScale(b){this.current.textHScale=b/100}setRenderingIntent(b){}setFlatness(b){}setGState(b){for(const[v,K]of b)switch(v){case"LW":this.setLineWidth(K);break;case"LC":this.setLineCap(K);break;case"LJ":this.setLineJoin(K);break;case"ML":this.setMiterLimit(K);break;case"D":this.setDash(K[0],K[1]);break;case"RI":this.setRenderingIntent(K);break;case"FL":this.setFlatness(K);break;case"Font":this.setFont(K);break;case"CA":this.setStrokeAlpha(K);break;case"ca":this.setFillAlpha(K);break;default:(0,i.warn)(`Unimplemented graphic state operator ${v}`)}}fill(){const b=this.current;b.element&&(b.element.setAttributeNS(null,"fill",b.fillColor),b.element.setAttributeNS(null,"fill-opacity",b.fillAlpha),this.endPath())}stroke(){const b=this.current;b.element&&(this._setStrokeAttributes(b.element),b.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(b,v=1){const K=this.current;let x=K.dashArray;1!==v&&x.length>0&&(x=x.map(function(B){return v*B})),b.setAttributeNS(null,"stroke",K.strokeColor),b.setAttributeNS(null,"stroke-opacity",K.strokeAlpha),b.setAttributeNS(null,"stroke-miterlimit",_(K.miterLimit)),b.setAttributeNS(null,"stroke-linecap",K.lineCap),b.setAttributeNS(null,"stroke-linejoin",K.lineJoin),b.setAttributeNS(null,"stroke-width",_(v*K.lineWidth)+"px"),b.setAttributeNS(null,"stroke-dasharray",x.map(_).join(" ")),b.setAttributeNS(null,"stroke-dashoffset",_(v*K.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width","1px"),b.setAttributeNS(null,"height","1px"),b.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(b)}paintImageXObject(b){const v=b.startsWith("g_")?this.commonObjs.get(b):this.objs.get(b);v?this.paintInlineImageXObject(v):(0,i.warn)(`Dependent image with object ID ${b} is not ready yet`)}paintInlineImageXObject(b,v){const K=b.width,x=b.height,B=E(b,this.forceDataSchema,!!v),V=this.svgFactory.createElement("svg:rect");V.setAttributeNS(null,"x","0"),V.setAttributeNS(null,"y","0"),V.setAttributeNS(null,"width",_(K)),V.setAttributeNS(null,"height",_(x)),this.current.element=V,this.clip("nonzero");const L=this.svgFactory.createElement("svg:image");L.setAttributeNS(d,"xlink:href",B),L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y",_(-x)),L.setAttributeNS(null,"width",_(K)+"px"),L.setAttributeNS(null,"height",_(x)+"px"),L.setAttributeNS(null,"transform",`scale(${_(1/K)} ${_(-1/x)})`),v?v.appendChild(L):this._ensureTransformGroup().appendChild(L)}paintImageMaskXObject(b){const v=this.current,K=b.width,x=b.height,B=v.fillColor;v.maskId="mask"+O++;const V=this.svgFactory.createElement("svg:mask");V.setAttributeNS(null,"id",v.maskId);const L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",_(K)),L.setAttributeNS(null,"height",_(x)),L.setAttributeNS(null,"fill",B),L.setAttributeNS(null,"mask",`url(#${v.maskId})`),this.defs.appendChild(V),this._ensureTransformGroup().appendChild(L),this.paintInlineImageXObject(b,V)}paintFormXObjectBegin(b,v){if(Array.isArray(b)&&6===b.length&&this.transform(b[0],b[1],b[2],b[3],b[4],b[5]),v){const K=v[2]-v[0],x=v[3]-v[1],B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x",v[0]),B.setAttributeNS(null,"y",v[1]),B.setAttributeNS(null,"width",_(K)),B.setAttributeNS(null,"height",_(x)),this.current.element=B,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(b){const v=this.svgFactory.create(b.width,b.height),K=this.svgFactory.createElement("svg:defs");v.appendChild(K),this.defs=K;const x=this.svgFactory.createElement("svg:g");return x.setAttributeNS(null,"transform",H(b.transform)),v.appendChild(x),this.svg=x,v}_ensureClipGroup(){if(!this.current.clipGroup){const b=this.svgFactory.createElement("svg:g");b.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(b),this.current.clipGroup=b}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",H(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.PDFNodeStream=void 0;var i=ce(1),xe=ce(24);const ie=__webpack_require__(172),M=__webpack_require__(2001),f=__webpack_require__(3779),I=__webpack_require__(6558),d=/^file:\/\/\/[a-zA-Z]:\//;de.PDFNodeStream=class g{constructor(q){this.source=q,this.url=function A(O){const q=I.parse(O);return"file:"===q.protocol||q.host?q:/^[a-z]:[/\\]/i.test(O)?I.parse(`file:///${O}`):(q.host||(q.protocol="file:"),q)}(q.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&q.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var q,b;return null!=(b=null==(q=this._fullRequestReader)?void 0:q._loaded)?b:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new H(this):new T(this),this._fullRequestReader}getRangeReader(q,b){if(b<=this._progressiveDataLength)return null;const v=this.isFsUrl?new oe(this,q,b):new _(this,q,b);return this._rangeRequestReaders.push(v),v}cancelAllRequests(q){this._fullRequestReader&&this._fullRequestReader.cancel(q);for(const b of this._rangeRequestReaders.slice(0))b.cancel(q)}};class C{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null;const b=q.source;this._contentLength=b.length,this._loaded=0,this._filename=null,this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var q=this;return _asyncToGenerator(function*(){if(yield q._readCapability.promise,q._done)return{value:void 0,done:!0};if(q._storedError)throw q._storedError;const b=q._readableStream.read();return null===b?(q._readCapability=(0,i.createPromiseCapability)(),q.read()):(q._loaded+=b.length,q.onProgress&&q.onProgress({loaded:q._loaded,total:q._contentLength}),{value:new Uint8Array(b).buffer,done:!1})})()}cancel(q){this._readableStream?this._readableStream.destroy(q):this._error(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",b=>{this._error(b)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class E{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!q.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var q=this;return _asyncToGenerator(function*(){if(yield q._readCapability.promise,q._done)return{value:void 0,done:!0};if(q._storedError)throw q._storedError;const b=q._readableStream.read();return null===b?(q._readCapability=(0,i.createPromiseCapability)(),q.read()):(q._loaded+=b.length,q.onProgress&&q.onProgress({loaded:q._loaded}),{value:new Uint8Array(b).buffer,done:!1})})()}cancel(q){this._readableStream?this._readableStream.destroy(q):this._error(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",b=>{this._error(b)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function l(O,q){return{protocol:O.protocol,auth:O.auth,host:O.hostname,port:O.port,path:O.path,method:"GET",headers:q}}class T extends C{constructor(q){super(q);const b=v=>{if(404===v.statusCode){const V=new i.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=V,void this._headersCapability.reject(V)}this._headersCapability.resolve(),this._setReadableStream(v);const K=V=>this._readableStream.headers[V.toLowerCase()],{allowRangeRequests:x,suggestedLength:B}=(0,xe.validateRangeRequestCapabilities)({getResponseHeader:K,isHttp:q.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=x,this._contentLength=B||this._contentLength,this._filename=(0,xe.extractFilenameFromHeader)(K)};this._request=null,this._request="http:"===this._url.protocol?M.request(l(this._url,q.httpHeaders),b):f.request(l(this._url,q.httpHeaders),b),this._request.on("error",v=>{this._storedError=v,this._headersCapability.reject(v)}),this._request.end()}}class _ extends E{constructor(q,b,v){super(q),this._httpHeaders={};for(const x in q.httpHeaders){const B=q.httpHeaders[x];void 0!==B&&(this._httpHeaders[x]=B)}this._httpHeaders.Range=`bytes=${b}-${v-1}`;const K=x=>{if(404!==x.statusCode)this._setReadableStream(x);else{const B=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=B}};this._request=null,this._request="http:"===this._url.protocol?M.request(l(this._url,this._httpHeaders),K):f.request(l(this._url,this._httpHeaders),K),this._request.on("error",x=>{this._storedError=x}),this._request.end()}}class H extends C{constructor(q){super(q);let b=decodeURIComponent(this._url.path);d.test(this._url.href)&&(b=b.replace(/^\//,"")),ie.lstat(b,(v,K)=>{if(v)return"ENOENT"===v.code&&(v=new i.MissingPDFException(`Missing PDF "${b}".`)),this._storedError=v,void this._headersCapability.reject(v);this._contentLength=K.size,this._setReadableStream(ie.createReadStream(b)),this._headersCapability.resolve()})}}class oe extends E{constructor(q,b,v){super(q);let K=decodeURIComponent(this._url.path);d.test(this._url.href)&&(K=K.replace(/^\//,"")),this._setReadableStream(ie.createReadStream(K,{start:b,end:v-1}))}}},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.createResponseStatusError=function I(A,g){return 404===A||0===A&&g.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+g+'".'):new i.UnexpectedResponseException(`Unexpected server response (${A}) while retrieving PDF "${g}".`,A)},de.extractFilenameFromHeader=function f(A){const g=A("Content-Disposition");if(g){let C=(0,xe.getFilenameFromContentDispositionHeader)(g);if(C.includes("%"))try{C=decodeURIComponent(C)}catch(E){}if((0,ie.isPdfFile)(C))return C}return null},de.validateRangeRequestCapabilities=function M({getResponseHeader:A,isHttp:g,rangeChunkSize:C,disableRange:E}){(0,i.assert)(C>0,"Range chunk size must be larger than zero");const l={allowRangeRequests:!1,suggestedLength:void 0},T=parseInt(A("Content-Length"),10);return!Number.isInteger(T)||(l.suggestedLength=T,T<=2*C)||E||!g||"bytes"!==A("Accept-Ranges")||"identity"!==(A("Content-Encoding")||"identity")||(l.allowRangeRequests=!0),l},de.validateResponseStatus=function d(A){return 200===A||206===A};var i=ce(1),xe=ce(25),ie=ce(5)},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.getFilenameFromContentDispositionHeader=function xe(ie){let M=!0,f=I("filename\\*","i").exec(ie);if(f){f=f[1];let T=C(f);return T=unescape(T),T=E(T),T=l(T),A(T)}if(f=function g(T){const _=[];let H;const oe=I("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(H=oe.exec(T));){let[,q,b,v]=H;if(q=parseInt(q,10),q in _){if(0===q)break}else _[q]=[b,v]}const O=[];for(let q=0;q<_.length&&q in _;++q){let[b,v]=_[q];v=C(v),b&&(v=unescape(v),0===q&&(v=E(v))),O.push(v)}return O.join("")}(ie),f)return A(l(f));if(f=I("filename","i").exec(ie),f){f=f[1];let T=C(f);return T=l(T),A(T)}function I(T,_){return new RegExp("(?:^|;)\\s*"+T+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',_)}function d(T,_){if(T){if(!/^[\x00-\xFF]+$/.test(_))return _;try{const H=new TextDecoder(T,{fatal:!0}),oe=(0,i.stringToBytes)(_);_=H.decode(oe),M=!1}catch(H){}}return _}function A(T){return M&&/[\x80-\xff]/.test(T)&&(T=d("utf-8",T),M&&(T=d("iso-8859-1",T))),T}function C(T){if(T.startsWith('"')){const _=T.slice(1).split('\\"');for(let H=0;H<_.length;++H){const oe=_[H].indexOf('"');-1!==oe&&(_[H]=_[H].slice(0,oe),_.length=H+1),_[H]=_[H].replace(/\\(.)/g,"$1")}T=_.join('"')}return T}function E(T){const _=T.indexOf("'");return-1===_?T:d(T.slice(0,_),T.slice(_+1).replace(/^[^']*'/,""))}function l(T){return!T.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(T)?T:T.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_,H,oe,O){if("q"===oe||"Q"===oe)return d(H,O=(O=O.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(q,b){return String.fromCharCode(parseInt(b,16))}));try{O=atob(O)}catch(q){}return d(H,O)})}return""};var i=ce(1)},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.PDFNetworkStream=void 0;var i=ce(1),xe=ce(24);class I{constructor(E,l={}){this.url=E,this.isHttp=/^https?:/i.test(E),this.httpHeaders=this.isHttp&&l.httpHeaders||Object.create(null),this.withCredentials=l.withCredentials||!1,this.getXhr=l.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(E,l,T){const _={begin:E,end:l};for(const H in T)_[H]=T[H];return this.request(_)}requestFull(E){return this.request(E)}request(E){const l=this.getXhr(),T=this.currXhrId++,_=this.pendingRequests[T]={xhr:l};l.open("GET",this.url),l.withCredentials=this.withCredentials;for(const H in this.httpHeaders){const oe=this.httpHeaders[H];void 0!==oe&&l.setRequestHeader(H,oe)}return this.isHttp&&"begin"in E&&"end"in E?(l.setRequestHeader("Range",`bytes=${E.begin}-${E.end-1}`),_.expectedStatus=206):_.expectedStatus=200,l.responseType="arraybuffer",E.onError&&(l.onerror=function(H){E.onError(l.status)}),l.onreadystatechange=this.onStateChange.bind(this,T),l.onprogress=this.onProgress.bind(this,T),_.onHeadersReceived=E.onHeadersReceived,_.onDone=E.onDone,_.onError=E.onError,_.onProgress=E.onProgress,l.send(null),T}onProgress(E,l){var _;const T=this.pendingRequests[E];!T||null==(_=T.onProgress)||_.call(T,l)}onStateChange(E,l){var q,b,v;const T=this.pendingRequests[E];if(!T)return;const _=T.xhr;if(_.readyState>=2&&T.onHeadersReceived&&(T.onHeadersReceived(),delete T.onHeadersReceived),4!==_.readyState||!(E in this.pendingRequests))return;if(delete this.pendingRequests[E],0===_.status&&this.isHttp)return void(null==(q=T.onError)||q.call(T,_.status));const H=_.status||200;if((200!==H||206!==T.expectedStatus)&&H!==T.expectedStatus)return void(null==(b=T.onError)||b.call(T,_.status));const O=function f(C){const E=C.response;return"string"!=typeof E?E:(0,i.stringToBytes)(E).buffer}(_);if(206===H){const K=_.getResponseHeader("Content-Range"),x=/bytes (\d+)-(\d+)\/(\d+)/.exec(K);T.onDone({begin:parseInt(x[1],10),chunk:O})}else O?T.onDone({begin:0,chunk:O}):null==(v=T.onError)||v.call(T,_.status)}getRequestXhr(E){return this.pendingRequests[E].xhr}isPendingRequest(E){return E in this.pendingRequests}abortRequest(E){const l=this.pendingRequests[E].xhr;delete this.pendingRequests[E],l.abort()}}de.PDFNetworkStream=class d{constructor(E){this._source=E,this._manager=new I(E.url,{httpHeaders:E.httpHeaders,withCredentials:E.withCredentials}),this._rangeChunkSize=E.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(E){const l=this._rangeRequestReaders.indexOf(E);l>=0&&this._rangeRequestReaders.splice(l,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new A(this._manager,this._source),this._fullRequestReader}getRangeReader(E,l){const T=new g(this._manager,E,l);return T.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(T),T}cancelAllRequests(E){var l;null==(l=this._fullRequestReader)||l.cancel(E);for(const T of this._rangeRequestReaders.slice(0))T.cancel(E)}};class A{constructor(E,l){this._manager=E;const T={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=l.url,this._fullRequestId=E.requestFull(T),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=l.disableRange||!1,this._contentLength=l.length,this._rangeChunkSize=l.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const E=this._fullRequestId,l=this._manager.getRequestXhr(E),T=oe=>l.getResponseHeader(oe),{allowRangeRequests:_,suggestedLength:H}=(0,xe.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});_&&(this._isRangeSupported=!0),this._contentLength=H||this._contentLength,this._filename=(0,xe.extractFilenameFromHeader)(T),this._isRangeSupported&&this._manager.abortRequest(E),this._headersReceivedCapability.resolve()}_onDone(E){if(E&&(this._requests.length>0?this._requests.shift().resolve({value:E.chunk,done:!1}):this._cachedChunks.push(E.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(E){this._storedError=(0,xe.createResponseStatusError)(E,this._url),this._headersReceivedCapability.reject(this._storedError);for(const l of this._requests)l.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(E){var l;null==(l=this.onProgress)||l.call(this,{loaded:E.loaded,total:E.lengthComputable?E.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var E=this;return _asyncToGenerator(function*(){if(E._storedError)throw E._storedError;if(E._cachedChunks.length>0)return{value:E._cachedChunks.shift(),done:!1};if(E._done)return{value:void 0,done:!0};const l=(0,i.createPromiseCapability)();return E._requests.push(l),l.promise})()}cancel(E){this._done=!0,this._headersReceivedCapability.reject(E);for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class g{constructor(E,l,T){this._manager=E;const _={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=E.url,this._requestId=E.requestRange(l,T,_),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var E;null==(E=this.onClosed)||E.call(this,this)}_onDone(E){const l=E.chunk;this._requests.length>0?this._requests.shift().resolve({value:l,done:!1}):this._queuedChunk=l,this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(E){this._storedError=(0,xe.createResponseStatusError)(E,this._url);for(const l of this._requests)l.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(E){var l;this.isStreamingSupported||null==(l=this.onProgress)||l.call(this,{loaded:E.loaded})}get isStreamingSupported(){return!1}read(){var E=this;return _asyncToGenerator(function*(){if(E._storedError)throw E._storedError;if(null!==E._queuedChunk){const T=E._queuedChunk;return E._queuedChunk=null,{value:T,done:!1}}if(E._done)return{value:void 0,done:!0};const l=(0,i.createPromiseCapability)();return E._requests.push(l),l.promise})()}cancel(E){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Xe,de,ce)=>{Object.defineProperty(de,"__esModule",{value:!0}),de.PDFFetchStream=void 0;var i=ce(1),xe=ce(24);function ie(A,g,C){return{method:"GET",headers:A,signal:null==C?void 0:C.signal,mode:"cors",credentials:g?"include":"same-origin",redirect:"follow"}}function M(A){const g=new Headers;for(const C in A){const E=A[C];void 0!==E&&g.append(C,E)}return g}de.PDFFetchStream=class f{constructor(g){this.source=g,this.isHttp=/^https?:/i.test(g.url),this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var g,C;return null!=(C=null==(g=this._fullRequestReader)?void 0:g._loaded)?C:0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new I(this),this._fullRequestReader}getRangeReader(g,C){if(C<=this._progressiveDataLength)return null;const E=new d(this,g,C);return this._rangeRequestReaders.push(E),E}cancelAllRequests(g){this._fullRequestReader&&this._fullRequestReader.cancel(g);for(const C of this._rangeRequestReaders.slice(0))C.cancel(g)}};class I{constructor(g){this._stream=g,this._reader=null,this._loaded=0,this._filename=null;const C=g.source;this._withCredentials=C.withCredentials||!1,this._contentLength=C.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=C.disableRange||!1,this._rangeChunkSize=C.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!C.disableStream,this._isRangeSupported=!C.disableRange,this._headers=M(this._stream.httpHeaders);const E=C.url;fetch(E,ie(this._headers,this._withCredentials,this._abortController)).then(l=>{if(!(0,xe.validateResponseStatus)(l.status))throw(0,xe.createResponseStatusError)(l.status,E);this._reader=l.body.getReader(),this._headersCapability.resolve();const T=oe=>l.headers.get(oe),{allowRangeRequests:_,suggestedLength:H}=(0,xe.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_,this._contentLength=H||this._contentLength,this._filename=(0,xe.extractFilenameFromHeader)(T),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){yield g._headersCapability.promise;const{value:C,done:E}=yield g._reader.read();return E?{value:C,done:E}:(g._loaded+=C.byteLength,g.onProgress&&g.onProgress({loaded:g._loaded,total:g._contentLength}),{value:new Uint8Array(C).buffer,done:!1})})()}cancel(g){this._reader&&this._reader.cancel(g),this._abortController&&this._abortController.abort()}}class d{constructor(g,C,E){this._stream=g,this._reader=null,this._loaded=0;const l=g.source;this._withCredentials=l.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!l.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=M(this._stream.httpHeaders),this._headers.append("Range",`bytes=${C}-${E-1}`);const T=l.url;fetch(T,ie(this._headers,this._withCredentials,this._abortController)).then(_=>{if(!(0,xe.validateResponseStatus)(_.status))throw(0,xe.createResponseStatusError)(_.status,T);this._readCapability.resolve(),this._reader=_.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){yield g._readCapability.promise;const{value:C,done:E}=yield g._reader.read();return E?{value:C,done:E}:(g._loaded+=C.byteLength,g.onProgress&&g.onProgress({loaded:g._loaded}),{value:new Uint8Array(C).buffer,done:!1})})()}cancel(g){this._reader&&this._reader.cancel(g),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(Xe){var de=__webpack_module_cache__[Xe];if(void 0!==de)return de.exports;var ce=__webpack_module_cache__[Xe]={exports:{}};return __webpack_modules__[Xe](ce,ce.exports,__w_pdfjs_require__),ce.exports}var __webpack_exports__={};return(()=>{var Xe=__webpack_exports__;Object.defineProperty(Xe,"__esModule",{value:!0}),Object.defineProperty(Xe,"AnnotationLayer",{enumerable:!0,get:function(){return xe.AnnotationLayer}}),Object.defineProperty(Xe,"AnnotationMode",{enumerable:!0,get:function(){return de.AnnotationMode}}),Object.defineProperty(Xe,"CMapCompressionType",{enumerable:!0,get:function(){return de.CMapCompressionType}}),Object.defineProperty(Xe,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ie.GlobalWorkerOptions}}),Object.defineProperty(Xe,"InvalidPDFException",{enumerable:!0,get:function(){return de.InvalidPDFException}}),Object.defineProperty(Xe,"LoopbackPort",{enumerable:!0,get:function(){return ce.LoopbackPort}}),Object.defineProperty(Xe,"MissingPDFException",{enumerable:!0,get:function(){return de.MissingPDFException}}),Object.defineProperty(Xe,"OPS",{enumerable:!0,get:function(){return de.OPS}}),Object.defineProperty(Xe,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ce.PDFDataRangeTransport}}),Object.defineProperty(Xe,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(Xe,"PDFWorker",{enumerable:!0,get:function(){return ce.PDFWorker}}),Object.defineProperty(Xe,"PasswordResponses",{enumerable:!0,get:function(){return de.PasswordResponses}}),Object.defineProperty(Xe,"PermissionFlag",{enumerable:!0,get:function(){return de.PermissionFlag}}),Object.defineProperty(Xe,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(Xe,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(Xe,"SVGGraphics",{enumerable:!0,get:function(){return I.SVGGraphics}}),Object.defineProperty(Xe,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return de.UNSUPPORTED_FEATURES}}),Object.defineProperty(Xe,"UnexpectedResponseException",{enumerable:!0,get:function(){return de.UnexpectedResponseException}}),Object.defineProperty(Xe,"Util",{enumerable:!0,get:function(){return de.Util}}),Object.defineProperty(Xe,"VerbosityLevel",{enumerable:!0,get:function(){return de.VerbosityLevel}}),Object.defineProperty(Xe,"XfaLayer",{enumerable:!0,get:function(){return d.XfaLayer}}),Object.defineProperty(Xe,"build",{enumerable:!0,get:function(){return ce.build}}),Object.defineProperty(Xe,"createPromiseCapability",{enumerable:!0,get:function(){return de.createPromiseCapability}}),Object.defineProperty(Xe,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return de.createValidAbsoluteUrl}}),Object.defineProperty(Xe,"getDocument",{enumerable:!0,get:function(){return ce.getDocument}}),Object.defineProperty(Xe,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(Xe,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(Xe,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(Xe,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(Xe,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(Xe,"renderTextLayer",{enumerable:!0,get:function(){return f.renderTextLayer}}),Object.defineProperty(Xe,"shadow",{enumerable:!0,get:function(){return de.shadow}}),Object.defineProperty(Xe,"version",{enumerable:!0,get:function(){return ce.version}});var de=__w_pdfjs_require__(1),ce=__w_pdfjs_require__(4),i=__w_pdfjs_require__(5),xe=__w_pdfjs_require__(18),ie=__w_pdfjs_require__(12),M=__w_pdfjs_require__(3),f=__w_pdfjs_require__(21),I=__w_pdfjs_require__(22),d=__w_pdfjs_require__(20);if(M.isNodeJS){const{PDFNodeStream:C}=__w_pdfjs_require__(23);(0,ce.setPDFNetworkStreamFactory)(E=>new C(E))}else{const{PDFNetworkStream:C}=__w_pdfjs_require__(26),{PDFFetchStream:E}=__w_pdfjs_require__(27);(0,ce.setPDFNetworkStreamFactory)(l=>(0,i.isValidFetchUrl)(l.url)?new E(l):new C(l))}})(),__webpack_exports__})()},module.exports=ce()},2813:function(Xe,de,ce){var i=ce(8926).default;Xe.exports=(()=>{"use strict";var xe=[,(I,d,A)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DefaultXfaLayerFactory=d.DefaultTextLayerFactory=d.DefaultStructTreeLayerFactory=d.DefaultAnnotationLayerFactory=void 0;var g=A(2),C=A(4),E=A(5),l=A(7),T=A(8),_=A(9);d.DefaultAnnotationLayerFactory=class H{createAnnotationLayerBuilder(v,K,x=null,B="",V=!0,L=C.NullL10n,G=!1,ne=null,le=null,ue=null,_e=null){return new g.AnnotationLayerBuilder({pageDiv:v,pdfPage:K,imageResourcesPath:B,renderForms:V,linkService:new E.SimpleLinkService,l10n:L,annotationStorage:x,enableScripting:G,hasJSActionsPromise:ne,fieldObjectsPromise:ue,mouseState:le,annotationCanvasMap:_e})}};d.DefaultStructTreeLayerFactory=class oe{createStructTreeLayerBuilder(v){return new l.StructTreeLayerBuilder({pdfPage:v})}};d.DefaultTextLayerFactory=class O{createTextLayerBuilder(v,K,x,B=!1,V,L){return new T.TextLayerBuilder({textLayerDiv:v,pageIndex:K,viewport:x,enhanceTextSelection:B,eventBus:V,highlighter:L})}};d.DefaultXfaLayerFactory=class q{createXfaLayerBuilder(v,K,x=null,B=null){return new _.XfaLayerBuilder({pageDiv:v,pdfPage:K,annotationStorage:x,linkService:new E.SimpleLinkService,xfaHtml:B})}}},(I,d,A)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationLayerBuilder=void 0;var g=A(3),C=A(4);d.AnnotationLayerBuilder=class E{constructor({pageDiv:T,pdfPage:_,linkService:H,downloadManager:oe,annotationStorage:O=null,imageResourcesPath:q="",renderForms:b=!0,l10n:v=C.NullL10n,enableScripting:K=!1,hasJSActionsPromise:x=null,fieldObjectsPromise:B=null,mouseState:V=null,annotationCanvasMap:L=null}){this.pageDiv=T,this.pdfPage=_,this.linkService=H,this.downloadManager=oe,this.imageResourcesPath=q,this.renderForms=b,this.l10n=v,this.annotationStorage=O,this.enableScripting=K,this._hasJSActionsPromise=x,this._fieldObjectsPromise=B,this._mouseState=V,this._annotationCanvasMap=L,this.div=null,this._cancelled=!1}render(T,_="display"){var H=this;return i(function*(){const[oe,O=!1,q=null]=yield Promise.all([H.pdfPage.getAnnotations({intent:_}),H._hasJSActionsPromise,H._fieldObjectsPromise]);if(H._cancelled||0===oe.length)return;const b={viewport:T.clone({dontFlip:!0}),div:H.div,annotations:oe,page:H.pdfPage,imageResourcesPath:H.imageResourcesPath,renderForms:H.renderForms,linkService:H.linkService,downloadManager:H.downloadManager,annotationStorage:H.annotationStorage,enableScripting:H.enableScripting,hasJSActions:O,fieldObjects:q,mouseState:H._mouseState,annotationCanvasMap:H._annotationCanvasMap};H.div?g.AnnotationLayer.update(b):(H.div=document.createElement("div"),H.div.className="annotationLayer",H.pageDiv.appendChild(H.div),b.div=H.div,g.AnnotationLayer.render(b),H.l10n.translate(H.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},I=>{let d;d="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:ce(6036),I.exports=d},(I,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NullL10n=void 0,d.fixupLangCode=function E(_){return C[null==_?void 0:_.toLowerCase()]||_},d.getL10nFallback=g;const A={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function g(_,H){switch(_){case"find_match_count":_=`find_match_count[${1===H.total?"one":"other"}]`;break;case"find_match_count_limit":_=`find_match_count_limit[${1===H.limit?"one":"other"}]`}return A[_]||""}const C={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};d.NullL10n={getLanguage:()=>i(function*(){return"en-us"})(),getDirection:()=>i(function*(){return"ltr"})(),get:(_,H=null,oe=g(_,H))=>i(function*(){return function l(_,H){return H?_.replace(/\{\{\s*(\w+)\s*\}\}/g,(oe,O)=>O in H?H[O]:"{{"+O+"}}"):_}(oe,H)})(),translate:_=>i(function*(){})()}},(I,d,A)=>{var H,oe,la,q,od;Object.defineProperty(d,"__esModule",{value:!0}),d.SimpleLinkService=d.PDFLinkService=d.LinkTarget=void 0;var g=A(6);const E={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function l(K,{url:x,target:B,rel:V,enabled:L=!0}={}){if(!x||"string"!=typeof x)throw new Error('A valid "url" parameter must provided.');const G=(0,g.removeNullCharacters)(x);L?K.href=K.title=G:(K.href="",K.title=`Disabled: ${G}`,K.onclick=()=>!1);let ne="";switch(B){case E.NONE:break;case E.SELF:ne="_self";break;case E.BLANK:ne="_blank";break;case E.PARENT:ne="_parent";break;case E.TOP:ne="_top"}K.target=ne,K.rel="string"==typeof V?V:"noopener noreferrer nofollow"}d.LinkTarget=E;const v=class{constructor({eventBus:x,externalLinkTarget:B=null,externalLinkRel:V=null,ignoreDestinationZoom:L=!1}={}){ii(this,oe),ii(this,H,new Map),this.eventBus=x,this.externalLinkTarget=B,this.externalLinkRel=V,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=L,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(x,B=null){this.baseUrl=B,this.pdfDocument=x,Ot(this,H).clear()}setViewer(x){this.pdfViewer=x}setHistory(x){this.pdfHistory=x}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(x){this.pdfViewer.currentPageNumber=x}get rotation(){return this.pdfViewer.pagesRotation}set rotation(x){this.pdfViewer.pagesRotation=x}goToDestination(x){var B=this;return i(function*(){var G;if(!B.pdfDocument)return;let V,L;"string"==typeof x?(V=x,L=yield B.pdfDocument.getDestination(x)):(V=null,L=yield x),Array.isArray(L)?Pi(G=B,oe,la).call(G,x,V,L):console.error(`PDFLinkService.goToDestination: "${L}" is not a valid destination array, for dest="${x}".`)})()}goToPage(x){if(!this.pdfDocument)return;const B="string"==typeof x&&this.pdfViewer.pageLabelToPageNumber(x)||0|x;Number.isInteger(B)&&B>0&&B<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(B)),this.pdfViewer.scrollPageIntoView({pageNumber:B})):console.error(`PDFLinkService.goToPage: "${x}" is not a valid page.`)}addLinkAttributes(x,B,V=!1){l(x,{url:B,target:V?E.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(x){if("string"==typeof x){if(x.length>0)return this.getAnchorUrl("#"+escape(x))}else if(Array.isArray(x)){const B=JSON.stringify(x);if(B.length>0)return this.getAnchorUrl("#"+escape(B))}return this.getAnchorUrl("")}getAnchorUrl(x){return(this.baseUrl||"")+x}setHash(x){var L;if(!this.pdfDocument)return;let B,V;if(x.includes("=")){const G=(0,g.parseQueryString)(x);if(G.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:G.get("search").replace(/"/g,""),phraseSearch:"true"===G.get("phrase")}),G.has("page")&&(B=0|G.get("page")||1),G.has("zoom")){const ne=G.get("zoom").split(","),le=ne[0],ue=parseFloat(le);le.includes("Fit")?"Fit"===le||"FitB"===le?V=[null,{name:le}]:"FitH"===le||"FitBH"===le||"FitV"===le||"FitBV"===le?V=[null,{name:le},ne.length>1?0|ne[1]:null]:"FitR"===le?5!==ne.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):V=[null,{name:le},0|ne[1],0|ne[2],0|ne[3],0|ne[4]]:console.error(`PDFLinkService.setHash: "${le}" is not a valid zoom value.`):V=[null,{name:"XYZ"},ne.length>1?0|ne[1]:null,ne.length>2?0|ne[2]:null,ue?ue/100:le]}V?this.pdfViewer.scrollPageIntoView({pageNumber:B||this.page,destArray:V,allowNegativeOffset:!0}):B&&(this.page=B),G.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:G.get("pagemode")}),G.has("nameddest")&&this.goToDestination(G.get("nameddest"))}else{V=unescape(x);try{V=JSON.parse(V),Array.isArray(V)||(V=V.toString())}catch(G){}if("string"==typeof V||Pi(L=v,q,od).call(L,V))return void this.goToDestination(V);console.error(`PDFLinkService.setHash: "${unescape(x)}" is not a valid destination.`)}}executeNamedAction(x){var B,V;switch(x){case"GoBack":null==(B=this.pdfHistory)||B.back();break;case"GoForward":null==(V=this.pdfHistory)||V.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:x})}cachePageRef(x,B){if(!B)return;const V=0===B.gen?`${B.num}R`:`${B.num}R${B.gen}`;Ot(this,H).set(V,x)}_cachedPageNumber(x){if(!x)return null;const B=0===x.gen?`${x.num}R`:`${x.num}R${x.gen}`;return Ot(this,H).get(B)||null}isPageVisible(x){return this.pdfViewer.isPageVisible(x)}isPageCached(x){return this.pdfViewer.isPageCached(x)}};let T=v;H=new WeakMap,oe=new WeakSet,la=function(x,B=null,V){const L=V[0];let G;if("object"==typeof L&&null!==L){if(G=this._cachedPageNumber(L),!G)return void this.pdfDocument.getPageIndex(L).then(ne=>{this.cachePageRef(ne+1,L),Pi(this,oe,la).call(this,x,B,V)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${L}" is not a valid page reference, for dest="${x}".`)})}else{if(!Number.isInteger(L))return void console.error(`PDFLinkService.#goToDestinationHelper: "${L}" is not a valid destination reference, for dest="${x}".`);G=L+1}!G||G<1||G>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${G}" is not a valid page number, for dest="${x}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:B,explicitDest:V,pageNumber:G})),this.pdfViewer.scrollPageIntoView({pageNumber:G,destArray:V,ignoreDestinationZoom:this._ignoreDestinationZoom}))},q=new WeakSet,od=function(x){if(!Array.isArray(x))return!1;const B=x.length;if(B<2)return!1;const V=x[0];if(!("object"==typeof V&&Number.isInteger(V.num)&&Number.isInteger(V.gen)||Number.isInteger(V)&&V>=0))return!1;const L=x[1];if("object"!=typeof L||"string"!=typeof L.name)return!1;let G=!0;switch(L.name){case"XYZ":if(5!==B)return!1;break;case"Fit":case"FitB":return 2===B;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==B)return!1;break;case"FitR":if(6!==B)return!1;G=!1;break;default:return!1}for(let ne=2;ne<B;ne++){const le=x[ne];if(!("number"==typeof le||G&&null===le))return!1}return!0},ii(T,q),d.PDFLinkService=T;d.SimpleLinkService=class _{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(x){}get rotation(){return 0}set rotation(x){}goToDestination(x){return i(function*(){})()}goToPage(x){}addLinkAttributes(x,B,V=!1){l(x,{url:B,enabled:this.externalLinkEnabled})}getDestinationHash(x){return"#"}getAnchorUrl(x){return"#"}setHash(x){}executeNamedAction(x){}cachePageRef(x,B){}isPageVisible(x){return!0}isPageCached(x){return!0}}},(I,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.animationStarted=d.VERTICAL_PADDING=d.UNKNOWN_SCALE=d.TextLayerMode=d.SpreadMode=d.SidebarView=d.ScrollMode=d.SCROLLBAR_PADDING=d.RenderingStates=d.RendererType=d.ProgressBar=d.PresentationModeState=d.OutputScale=d.MIN_SCALE=d.MAX_SCALE=d.MAX_AUTO_SCALE=d.DEFAULT_SCALE_VALUE=d.DEFAULT_SCALE_DELTA=d.DEFAULT_SCALE=d.AutoPrintRegExp=void 0,d.apiPageLayoutToViewerModes=function st(J){let ve=B.VERTICAL,Be=V.NONE;switch(J){case"SinglePage":ve=B.PAGE;break;case"OneColumn":break;case"TwoPageLeft":ve=B.PAGE;case"TwoColumnLeft":Be=V.ODD;break;case"TwoPageRight":ve=B.PAGE;case"TwoColumnRight":Be=V.EVEN}return{scrollMode:ve,spreadMode:Be}},d.apiPageModeToSidebarView=function pt(J){switch(J){case"UseNone":return v.NONE;case"UseThumbs":return v.THUMBS;case"UseOutlines":return v.OUTLINE;case"UseAttachments":return v.ATTACHMENTS;case"UseOC":return v.LAYERS}return v.NONE},d.approximateFraction=function F(J){if(Math.floor(J)===J)return[J,1];const ve=1/J;if(ve>8)return[1,8];if(Math.floor(ve)===ve)return[1,ve];const Me=J>1?ve:J;let At,Re=0,qe=1,et=1,at=1;for(;;){const gt=Re+et,Ze=qe+at;if(Ze>8)break;Me<=gt/Ze?(et=gt,at=Ze):(Re=gt,qe=Ze)}return At=Me-Re/qe<et/at-Me?Me===J?[Re,qe]:[qe,Re]:Me===J?[et,at]:[at,et],At},d.backtrackBeforeAllVisibleElements=Y,d.binarySearchFirstItem=ee,d.getActiveOrFocusedElement=function rt(){let J=document,ve=J.activeElement||J.querySelector(":focus");for(;null==ve?void 0:ve.shadowRoot;)J=ve.shadowRoot,ve=J.activeElement||J.querySelector(":focus");return ve},d.getPageSizeInches=function j({view:J,userUnit:ve,rotate:Be}){const[Me,Re,qe,et]=J,at=Be%180!=0,At=(qe-Me)/72*ve,gt=(et-Re)/72*ve;return{width:at?gt:At,height:at?At:gt}},d.getVisibleElements=function Q({scrollEl:J,views:ve,sortByVisibility:Be=!1,horizontal:Me=!1,rtl:Re=!1}){const qe=J.scrollTop,et=qe+J.clientHeight,at=J.scrollLeft,At=at+J.clientWidth;const ft=[],Vt=new Set,St=ve.length;let wt=ee(ve,Me?function Ze($){const X=$.div,be=X.offsetLeft+X.clientLeft;return Re?be<At:be+X.clientWidth>at}:function gt($){const X=$.div;return X.offsetTop+X.clientTop+X.clientHeight>qe});wt>0&&wt<St&&!Me&&(wt=Y(wt,ve,qe));let si=Me?At:-1;for(let $=wt;$<St;$++){const X=ve[$],be=X.div,Ee=be.offsetLeft+be.clientLeft,Ye=be.offsetTop+be.clientTop,Qe=be.clientWidth,lt=be.clientHeight,Tt=Ee+Qe,Ht=Ye+lt;if(-1===si)Ht>=et&&(si=Ht);else if((Me?Ee:Ye)>si)break;if(Ht<=qe||Ye>=et||Tt<=at||Ee>=At)continue;const Wt=Math.max(0,qe-Ye)+Math.max(0,Ht-et),Oi=(Qe-(Math.max(0,at-Ee)+Math.max(0,Tt-At)))/Qe;ft.push({id:X.id,x:Ee,y:Ye,view:X,percent:(lt-Wt)/lt*Oi*100|0,widthPercent:100*Oi|0}),Vt.add(X.id)}const Gt=ft[0],Ge=ft[ft.length-1];return Be&&ft.sort(function($,X){const be=$.percent-X.percent;return Math.abs(be)>.001?-be:$.id-X.id}),{first:Gt,last:Ge,views:ft,ids:Vt}},d.isPortraitOrientation=function ke(J){return J.width<=J.height},d.isValidRotation=function ye(J){return Number.isInteger(J)&&J%90==0},d.isValidScrollMode=function Z(J){return Number.isInteger(J)&&Object.values(B).includes(J)&&J!==B.UNKNOWN},d.isValidSpreadMode=function we(J){return Number.isInteger(J)&&Object.values(V).includes(J)&&J!==V.UNKNOWN},d.noContextMenuHandler=function m(J){J.preventDefault()},d.normalizeWheelEventDelta=function se(J){let ve=U(J);return 0===J.deltaMode?ve/=900:1===J.deltaMode&&(ve/=30),ve},d.normalizeWheelEventDirection=U,d.parseQueryString=function ue(J){const ve=new Map;for(const[Be,Me]of new URLSearchParams(J))ve.set(Be.toLowerCase(),Me);return ve},d.removeNullCharacters=function Ce(J,ve=!1){return"string"!=typeof J?(console.error("The argument must be a string."),J):(ve&&(J=J.replace(he," ")),J.replace(_e,""))},d.roundToDivide=function R(J,ve){const Be=J%ve;return 0===Be?J:Math.round(J-Be+ve)},d.scrollIntoView=function ne(J,ve,Be=!1){let Me=J.offsetParent;if(!Me)return void console.error("offsetParent is not set -- cannot scroll");let Re=J.offsetTop+J.clientTop,qe=J.offsetLeft+J.clientLeft;for(;Me.clientHeight===Me.scrollHeight&&Me.clientWidth===Me.scrollWidth||Be&&(Me.classList.contains("markedContent")||"hidden"===getComputedStyle(Me).overflow);)if(Re+=Me.offsetTop,qe+=Me.offsetLeft,Me=Me.offsetParent,!Me)return;ve&&(void 0!==ve.top&&(Re+=ve.top),void 0!==ve.left&&(qe+=ve.left,Me.scrollLeft=qe)),Me.scrollTop=Re},d.watchScroll=function le(J,ve){const Be=function(qe){Re||(Re=window.requestAnimationFrame(function(){Re=null;const at=J.scrollLeft,At=Me.lastX;at!==At&&(Me.right=at>At),Me.lastX=at;const gt=J.scrollTop,Ze=Me.lastY;gt!==Ze&&(Me.down=gt>Ze),Me.lastY=gt,ve(Me)}))},Me={right:!0,down:!0,lastX:J.scrollLeft,lastY:J.scrollTop,_eventHandler:Be};let Re=null;return J.addEventListener("scroll",Be,!0),Me},d.DEFAULT_SCALE_VALUE="auto",d.DEFAULT_SCALE=1,d.DEFAULT_SCALE_DELTA=1.1,d.MIN_SCALE=.1,d.MAX_SCALE=10,d.UNKNOWN_SCALE=0,d.MAX_AUTO_SCALE=1.25,d.SCROLLBAR_PADDING=40,d.VERTICAL_PADDING=5;d.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},d.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const v={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};d.SidebarView=v,d.RendererType={CANVAS:"canvas",SVG:"svg"},d.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const B={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};d.ScrollMode=B;const V={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};d.SpreadMode=V,d.AutoPrintRegExp=/\bprint\s*\(/;d.OutputScale=class G{constructor(){const ve=window.devicePixelRatio||1;this.sx=ve,this.sy=ve}get scaled(){return 1!==this.sx||1!==this.sy}};const _e=/\x00/g,he=/[\x01-\x1F]/g;function ee(J,ve,Be=0){let Me=Be,Re=J.length-1;if(Re<0||!ve(J[Re]))return J.length;if(ve(J[Me]))return Me;for(;Me<Re;){const qe=Me+Re>>1;ve(J[qe])?Re=qe:Me=qe+1}return Me}function Y(J,ve,Be){if(J<2)return J;let Me=ve[J].div,Re=Me.offsetTop+Me.clientTop;Re>=Be&&(Me=ve[J-1].div,Re=Me.offsetTop+Me.clientTop);for(let qe=J-2;qe>=0&&(Me=ve[qe].div,!(Me.offsetTop+Me.clientTop+Me.clientHeight<=Re));--qe)J=qe;return J}function U(J){let ve=Math.hypot(J.deltaX,J.deltaY);const Be=Math.atan2(J.deltaY,J.deltaX);return-.25*Math.PI<Be&&Be<.75*Math.PI&&(ve=-ve),ve}const Ne=new Promise(function(J){window.requestAnimationFrame(J)});d.animationStarted=Ne;d.ProgressBar=class Ue{constructor(ve,{height:Be,width:Me,units:Re}={}){this.visible=!0,this.div=document.querySelector(ve+" .progress"),this.bar=this.div.parentNode,this.height=Be||100,this.width=Me||100,this.units=Re||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(ve){this._indeterminate=isNaN(ve),this._percent=function Fe(J,ve,Be){return Math.min(Math.max(J,ve),Be)}(ve,0,100),this._updateBar()}setWidth(ve){if(!ve)return;const Me=ve.parentNode.offsetWidth-ve.offsetWidth;Me>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${Me}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(I,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StructTreeLayerBuilder=void 0;const A={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},g=/^H(\d+)$/;d.StructTreeLayerBuilder=class C{constructor({pdfPage:l}){this.pdfPage=l}render(l){return this._walk(l)}_setAttributes(l,T){void 0!==l.alt&&T.setAttribute("aria-label",l.alt),void 0!==l.id&&T.setAttribute("aria-owns",l.id),void 0!==l.lang&&T.setAttribute("lang",l.lang)}_walk(l){if(!l)return null;const T=document.createElement("span");if("role"in l){const{role:_}=l,H=_.match(g);H?(T.setAttribute("role","heading"),T.setAttribute("aria-level",H[1])):A[_]&&T.setAttribute("role",A[_])}if(this._setAttributes(l,T),l.children)if(1===l.children.length&&"id"in l.children[0])this._setAttributes(l.children[0],T);else for(const _ of l.children)T.appendChild(this._walk(_));return T}}},(I,d,A)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextLayerBuilder=void 0;var g=A(3);d.TextLayerBuilder=class E{constructor({textLayerDiv:T,eventBus:_,pageIndex:H,viewport:oe,highlighter:O=null,enhanceTextSelection:q=!1}){this.textLayerDiv=T,this.eventBus=_,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=H+1,this.viewport=oe,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=O,this.enhanceTextSelection=q,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const T=document.createElement("div");T.className="endOfContent",this.textLayerDiv.appendChild(T)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(T=0){var H;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(H=this.highlighter)||H.setTextMapping(this.textDivs,this.textContentItemsStr);const _=document.createDocumentFragment();this.textLayerRenderTask=(0,g.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:_,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:T,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var oe;this.textLayerDiv.appendChild(_),this._finishRendering(),null==(oe=this.highlighter)||oe.enable()},function(oe){})}cancel(){var T;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(T=this.highlighter)||T.disable()}setTextContentStream(T){this.cancel(),this.textContentStream=T}setTextContent(T){this.cancel(),this.textContent=T}_bindMouse(){const T=this.textLayerDiv;let _=null;T.addEventListener("mousedown",H=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(_&&(clearTimeout(_),_=null));const oe=T.querySelector(".endOfContent");if(!oe)return;let O=H.target!==T;if(O=O&&"none"!==window.getComputedStyle(oe).getPropertyValue("-moz-user-select"),O){const q=T.getBoundingClientRect(),b=Math.max(0,(H.pageY-q.top)/q.height);oe.style.top=(100*b).toFixed(2)+"%"}oe.classList.add("active")}),T.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(_=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),_=null},300));const H=T.querySelector(".endOfContent");!H||(H.style.top="",H.classList.remove("active"))})}}},(I,d,A)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaLayerBuilder=void 0;var g=A(3);d.XfaLayerBuilder=class C{constructor({pageDiv:l,pdfPage:T,annotationStorage:_=null,linkService:H,xfaHtml:oe=null}){this.pageDiv=l,this.pdfPage=T,this.annotationStorage=_,this.linkService=H,this.xfaHtml=oe,this.div=null,this._cancelled=!1}render(l,T="display"){if("print"===T){const _={viewport:l.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:T},H=document.createElement("div");this.pageDiv.appendChild(H),_.div=H;const oe=g.XfaLayer.render(_);return Promise.resolve(oe)}return this.pdfPage.getXfa().then(_=>{if(this._cancelled||!_)return{textDivs:[]};const H={viewport:l.clone({dontFlip:!0}),div:this.div,xfaHtml:_,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:T};return this.div?g.XfaLayer.update(H):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),H.div=this.div,g.XfaLayer.render(H))}).catch(_=>{console.error(_)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(I,d,A)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFViewer=d.PDFSinglePageViewer=void 0;var g=A(6),C=A(11);d.PDFViewer=class E extends C.BaseViewer{};d.PDFSinglePageViewer=class l extends C.BaseViewer{_resetView(){super._resetView(),this._scrollMode=g.ScrollMode.PAGE,this._spreadMode=g.SpreadMode.NONE}set scrollMode(_){}_updateScrollMode(){}set spreadMode(_){}_updateSpreadMode(){}}},(I,d,A)=>{var L,G,ne,ca,ue,_e,he,Ce,ee,F,R,j,ad,Q,ld,U,Cr,ye,cd,we,dd,Ne,ud,Ue,hd;Object.defineProperty(d,"__esModule",{value:!0}),d.PagesCountLimit=d.PDFPageViewBuffer=d.BaseViewer=void 0;var g=A(3),C=A(6),E=A(2),l=A(4),T=A(12),_=A(14),H=A(5),oe=A(7),O=A(15),q=A(8),b=A(9);const K="enablePermissions",x={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};d.PagesCountLimit=x;class B{constructor(J){ii(this,ne),ii(this,L,new Set),ii(this,G,0),vi(this,G,J)}push(J){const ve=Ot(this,L);ve.has(J)&&ve.delete(J),ve.add(J),ve.size>Ot(this,G)&&Pi(this,ne,ca).call(this)}resize(J,ve=null){vi(this,G,J);const Be=Ot(this,L);if(ve){const Me=Be.size;let Re=1;for(const qe of Be)if(ve.has(qe.id)&&(Be.delete(qe),Be.add(qe)),++Re>Me)break}for(;Be.size>Ot(this,G);)Pi(this,ne,ca).call(this)}has(J){return Ot(this,L).has(J)}[Symbol.iterator](){return Ot(this,L).keys()}}L=new WeakMap,G=new WeakMap,ne=new WeakSet,ca=function(){const J=Ot(this,L).keys().next().value;null==J||J.destroy(),Ot(this,L).delete(J)},d.PDFPageViewBuffer=B;const st=class{constructor(J){var Be,Me,Re,qe;if(ii(this,j),ii(this,Q),ii(this,U),ii(this,ye),ii(this,we),ii(this,Ne),ii(this,Ue),ii(this,ue,null),ii(this,_e,g.AnnotationMode.ENABLE_FORMS),ii(this,he,null),ii(this,Ce,!1),ii(this,ee,0),ii(this,F,null),ii(this,R,null),this.constructor===st)throw new Error("Cannot initialize BaseViewer.");const ve="2.13.216";if(g.version!==ve)throw new Error(`The API version "${g.version}" does not match the Viewer version "${ve}".`);if(this.container=J.container,this.viewer=J.viewer||J.container.firstElementChild,"DIV"!==(null==(Be=this.container)?void 0:Be.tagName.toUpperCase())||"DIV"!==(null==(Me=this.viewer)?void 0:Me.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=J.eventBus,this.linkService=J.linkService||new H.SimpleLinkService,this.downloadManager=J.downloadManager||null,this.findController=J.findController||null,this._scriptingManager=J.scriptingManager||null,this.removePageBorders=J.removePageBorders||!1,this.textLayerMode=null!=(Re=J.textLayerMode)?Re:C.TextLayerMode.ENABLE,vi(this,_e,null!=(qe=J.annotationMode)?qe:g.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=J.imageResourcesPath||"",this.enablePrintAutoRotate=J.enablePrintAutoRotate||!1,this.renderer=J.renderer||C.RendererType.CANVAS,this.useOnlyCssZoom=J.useOnlyCssZoom||!1,this.maxCanvasPixels=J.maxCanvasPixels,this.l10n=J.l10n||l.NullL10n,vi(this,Ce,J.enablePermissions||!1),this.defaultRenderingQueue=!J.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new _.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=J.renderingQueue,this._doc=document.documentElement,this.scroll=(0,C.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=C.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(J){return this._pages[J]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(J){return null==J?void 0:J.pdfPage})}get renderForms(){return Ot(this,_e)===g.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(J){if(!Number.isInteger(J))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(J,!0)||console.error(`currentPageNumber: "${J}" is not a valid page.`)}_setCurrentPageNumber(J,ve=!1){var Me,Re;if(this._currentPageNumber===J)return ve&&this._resetCurrentPageView(),!0;if(!(0<J&&J<=this.pagesCount))return!1;const Be=this._currentPageNumber;return this._currentPageNumber=J,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:J,pageLabel:null!=(Re=null==(Me=this._pageLabels)?void 0:Me[J-1])?Re:null,previous:Be}),ve&&this._resetCurrentPageView(),!0}get currentPageLabel(){var J,ve;return null!=(ve=null==(J=this._pageLabels)?void 0:J[this._currentPageNumber-1])?ve:null}set currentPageLabel(J){if(!this.pdfDocument)return;let ve=0|J;if(this._pageLabels){const Be=this._pageLabels.indexOf(J);Be>=0&&(ve=Be+1)}this._setCurrentPageNumber(ve,!0)||console.error(`currentPageLabel: "${J}" is not a valid page.`)}get currentScale(){return this._currentScale!==C.UNKNOWN_SCALE?this._currentScale:C.DEFAULT_SCALE}set currentScale(J){if(isNaN(J))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(J,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(J){!this.pdfDocument||this._setScale(J,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(J){if(!(0,C.isValidRotation)(J))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((J%=360)<0&&(J+=360),this._pagesRotation===J))return;this._pagesRotation=J;const ve=this._currentPageNumber,Be={rotation:J};for(const Me of this._pages)Me.update(Be);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:J,pageNumber:ve}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(J){var ve=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=J,!J)return;const Be=J.isPureXfa,Me=J.numPages,Re=J.getPage(1),qe=J.getOptionalContentConfig(),et=Ot(this,Ce)?J.getPermissions():Promise.resolve();if(Me>x.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const at=this._scrollMode=C.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:at})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Me})},()=>{}),this._onBeforeDraw=at=>{const At=this._pages[at.pageNumber-1];!At||Ot(this,ue).push(At)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=at=>{at.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:at.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Ot(this,R)&&(document.removeEventListener("visibilitychange",Ot(this,R)),vi(this,R,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Re,et]).then(([at,At])=>{if(J!==this.pdfDocument)return;this._firstPageCapability.resolve(at),this._optionalContentConfigPromise=qe,Pi(this,j,ad).call(this,At);const gt=this._scrollMode===C.ScrollMode.PAGE?null:this.viewer,Ze=this.currentScale,ft=at.getViewport({scale:Ze*g.PixelsPerInch.PDF_TO_CSS_UNITS}),Vt=this.textLayerMode===C.TextLayerMode.DISABLE||Be?null:this,St=Ot(this,_e)!==g.AnnotationMode.DISABLE?this:null,wt=Be?this:null;for(let Gt=1;Gt<=Me;++Gt){const Ge=new T.PDFPageView({container:gt,eventBus:this.eventBus,id:Gt,scale:Ze,defaultViewport:ft.clone(),optionalContentConfigPromise:qe,renderingQueue:this.renderingQueue,textLayerFactory:Vt,textLayerMode:this.textLayerMode,annotationLayerFactory:St,annotationMode:Ot(this,_e),xfaLayerFactory:wt,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(Ge)}const si=this._pages[0];si&&(si.setPdfPage(at),this.linkService.cachePageRef(1,at.ref)),this._scrollMode===C.ScrollMode.PAGE?Pi(this,U,Cr).call(this):this._spreadMode!==C.SpreadMode.NONE&&this._updateSpreadMode(),Pi(this,Q,ld).call(this).then(i(function*(){if(ve.findController&&ve.findController.setDocument(J),ve._scriptingManager&&ve._scriptingManager.setDocument(J),J.loadingParams.disableAutoFetch||Me>x.FORCE_LAZY_PAGE_INIT)return void ve._pagesCapability.resolve();let Gt=Me-1;if(Gt<=0)ve._pagesCapability.resolve();else for(let Ge=2;Ge<=Me;++Ge){const $=J.getPage(Ge).then(X=>{const be=ve._pages[Ge-1];be.pdfPage||be.setPdfPage(X),ve.linkService.cachePageRef(Ge,X.ref),0==--Gt&&ve._pagesCapability.resolve()},X=>{console.error(`Unable to get page ${Ge} to initialize viewer`,X),0==--Gt&&ve._pagesCapability.resolve()});Ge%x.PAUSE_EAGER_PAGE_INIT==0&&(yield $)}})),this.eventBus.dispatch("pagesinit",{source:this}),J.getMetadata().then(({info:Gt})=>{J===this.pdfDocument&&Gt.Language&&(this.viewer.lang=Gt.Language)}),this.defaultRenderingQueue&&this.update()}).catch(at=>{console.error("Unable to initialize viewer",at),this._pagesCapability.reject(at)})}setPageLabels(J){var ve,Be;if(this.pdfDocument){J?Array.isArray(J)&&this.pdfDocument.numPages===J.length?this._pageLabels=J:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Me=0,Re=this._pages.length;Me<Re;Me++)this._pages[Me].setPageLabel(null!=(Be=null==(ve=this._pageLabels)?void 0:ve[Me])?Be:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=C.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,vi(this,ue,new B(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,g.createPromiseCapability)(),this._onePageRenderedCapability=(0,g.createPromiseCapability)(),this._pagesCapability=(0,g.createPromiseCapability)(),this._scrollMode=C.ScrollMode.VERTICAL,this._previousScrollMode=C.ScrollMode.UNKNOWN,this._spreadMode=C.SpreadMode.NONE,vi(this,F,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Ot(this,R)&&(document.removeEventListener("visibilitychange",Ot(this,R)),vi(this,R,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(K),null!==Ot(this,he)&&(vi(this,_e,Ot(this,he)),vi(this,he,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:J,pageSpot:ve=null,pageNumber:Be=null}){if(this._scrollMode===C.ScrollMode.PAGE&&(Be&&this._setCurrentPageNumber(Be),Pi(this,U,Cr).call(this),this.update()),!ve&&!this.isInPresentationMode){const Me=J.offsetLeft+J.clientLeft,Re=Me+J.clientWidth,{scrollLeft:qe,clientWidth:et}=this.container;(this._scrollMode===C.ScrollMode.HORIZONTAL||Me<qe||Re>qe+et)&&(ve={left:0,top:0})}(0,C.scrollIntoView)(J,ve)}_setScaleUpdatePages(J,ve,Be=!1,Me=!1){if(this._currentScaleValue=ve.toString(),Pi(this,ye,cd).call(this,J))return void(Me&&this.eventBus.dispatch("scalechanging",{source:this,scale:J,presetValue:ve}));this._doc.style.setProperty("--zoom-factor",J),this._doc.style.setProperty("--viewport-scale-factor",J*g.PixelsPerInch.PDF_TO_CSS_UNITS);const Re={scale:J};for(const qe of this._pages)qe.update(Re);if(this._currentScale=J,!Be){let et,qe=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(qe=this._location.pageNumber,et=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:qe,destArray:et,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:J,presetValue:Me?ve:void 0}),this.defaultRenderingQueue&&this.update(),vi(this,ee,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==C.SpreadMode.NONE&&this._scrollMode!==C.ScrollMode.HORIZONTAL?2:1}_setScale(J,ve=!1){let Be=parseFloat(J);if(Be>0)this._setScaleUpdatePages(Be,J,ve,!1);else{const Me=this._pages[this._currentPageNumber-1];if(!Me)return;let Re=C.SCROLLBAR_PADDING,qe=C.VERTICAL_PADDING;this.isInPresentationMode?Re=qe=4:this.removePageBorders&&(Re=qe=0),this._scrollMode===C.ScrollMode.HORIZONTAL&&([Re,qe]=[qe,Re]);const et=(this.container.clientWidth-Re)/Me.width*Me.scale/this._pageWidthScaleFactor,at=(this.container.clientHeight-qe)/Me.height*Me.scale;switch(J){case"page-actual":Be=1;break;case"page-width":Be=et;break;case"page-height":Be=at;break;case"page-fit":Be=Math.min(et,at);break;case"auto":const At=(0,C.isPortraitOrientation)(Me)?et:Math.min(at,et);Be=Math.min(C.MAX_AUTO_SCALE,At);break;default:return void console.error(`_setScale: "${J}" is an unknown zoom value.`)}this._setScaleUpdatePages(Be,J,ve,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(J){if(!this._pageLabels)return null;const ve=this._pageLabels.indexOf(J);return ve<0?null:ve+1}scrollPageIntoView({pageNumber:J,destArray:ve=null,allowNegativeOffset:Be=!1,ignoreDestinationZoom:Me=!1}){if(!this.pdfDocument)return;const Re=Number.isInteger(J)&&this._pages[J-1];if(!Re)return void console.error(`scrollPageIntoView: "${J}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!ve)return void this._setCurrentPageNumber(J,!0);let gt,Ze,qe=0,et=0,at=0,At=0;const ft=Re.rotation%180!=0,Vt=(ft?Re.height:Re.width)/Re.scale/g.PixelsPerInch.PDF_TO_CSS_UNITS,St=(ft?Re.width:Re.height)/Re.scale/g.PixelsPerInch.PDF_TO_CSS_UNITS;let wt=0;switch(ve[1].name){case"XYZ":qe=ve[2],et=ve[3],wt=ve[4],qe=null!==qe?qe:0,et=null!==et?et:St;break;case"Fit":case"FitB":wt="page-fit";break;case"FitH":case"FitBH":et=ve[2],wt="page-width",null===et&&this._location?(qe=this._location.left,et=this._location.top):("number"!=typeof et||et<0)&&(et=St);break;case"FitV":case"FitBV":qe=ve[2],at=Vt,At=St,wt="page-height";break;case"FitR":qe=ve[2],et=ve[3],at=ve[4]-qe,At=ve[5]-et,gt=(this.container.clientWidth-(this.removePageBorders?0:C.SCROLLBAR_PADDING))/at/g.PixelsPerInch.PDF_TO_CSS_UNITS,Ze=(this.container.clientHeight-(this.removePageBorders?0:C.VERTICAL_PADDING))/At/g.PixelsPerInch.PDF_TO_CSS_UNITS,wt=Math.min(Math.abs(gt),Math.abs(Ze));break;default:return void console.error(`scrollPageIntoView: "${ve[1].name}" is not a valid destination type.`)}if(Me||(wt&&wt!==this._currentScale?this.currentScaleValue=wt:this._currentScale===C.UNKNOWN_SCALE&&(this.currentScaleValue=C.DEFAULT_SCALE_VALUE)),"page-fit"===wt&&!ve[4])return void this._scrollIntoView({pageDiv:Re.div,pageNumber:J});const si=[Re.viewport.convertToViewportPoint(qe,et),Re.viewport.convertToViewportPoint(qe+at,et+At)];let Gt=Math.min(si[0][0],si[1][0]),Ge=Math.min(si[0][1],si[1][1]);Be||(Gt=Math.max(Gt,0),Ge=Math.max(Ge,0)),this._scrollIntoView({pageDiv:Re.div,pageSpot:{left:Gt,top:Ge},pageNumber:J})}_updateLocation(J){const ve=this._currentScale,Be=this._currentScaleValue,Me=parseFloat(Be)===ve?Math.round(1e4*ve)/100:Be,Re=J.id;let qe="#page="+Re;qe+="&zoom="+Me;const at=this.container,At=this._pages[Re-1].getPagePoint(at.scrollLeft-J.x,at.scrollTop-J.y),gt=Math.round(At[0]),Ze=Math.round(At[1]);qe+=","+gt+","+Ze,this._location={pageNumber:Re,scale:Me,top:Ze,left:gt,rotation:this._pagesRotation,pdfOpenParams:qe}}update(){const J=this._getVisiblePages(),ve=J.views,Be=ve.length;if(0===Be)return;const Me=Math.max(10,2*Be+1);if(Ot(this,ue).resize(Me,J.ids),this.renderingQueue.renderHighestPriority(J),!this.isInPresentationMode){const Re=this._spreadMode===C.SpreadMode.NONE&&(this._scrollMode===C.ScrollMode.PAGE||this._scrollMode===C.ScrollMode.VERTICAL);let qe=this._currentPageNumber,et=!1;for(const at of ve){if(at.percent<100)break;if(at.id===qe&&Re){et=!0;break}}et||(qe=ve[0].id),this._setCurrentPageNumber(qe)}this._updateLocation(J.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(J){return this.container.contains(J)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===C.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===C.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const J=this._pages[this._currentPageNumber-1],ve=J.div,Be={id:J.id,x:ve.offsetLeft+ve.clientLeft,y:ve.offsetTop+ve.clientTop,view:J};return{first:Be,last:Be,views:[Be],ids:new Set([J.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const J=this._scrollMode===C.ScrollMode.PAGE?Ot(this,F).pages:this._pages,ve=this._scrollMode===C.ScrollMode.HORIZONTAL;return(0,C.getVisibleElements)({scrollEl:this.container,views:J,sortByVisibility:!0,horizontal:ve,rtl:ve&&this._isContainerRtl})}isPageVisible(J){return!!this.pdfDocument&&(Number.isInteger(J)&&J>0&&J<=this.pagesCount?this._getVisiblePages().ids.has(J):(console.error(`isPageVisible: "${J}" is not a valid page.`),!1))}isPageCached(J){if(!this.pdfDocument)return!1;if(!(Number.isInteger(J)&&J>0&&J<=this.pagesCount))return console.error(`isPageCached: "${J}" is not a valid page.`),!1;const ve=this._pages[J-1];return Ot(this,ue).has(ve)}cleanup(){for(let J=0,ve=this._pages.length;J<ve;J++)this._pages[J]&&this._pages[J].renderingState!==C.RenderingStates.FINISHED&&this._pages[J].reset()}_cancelRendering(){for(let J=0,ve=this._pages.length;J<ve;J++)this._pages[J]&&this._pages[J].cancelRendering()}forceRendering(J){const ve=J||this._getVisiblePages(),Be=Pi(this,Ne,ud).call(this,ve),Re=this.renderingQueue.getHighestPriority(ve,this._pages,Be,this._spreadMode!==C.SpreadMode.NONE&&this._scrollMode!==C.ScrollMode.HORIZONTAL);return Pi(this,Ue,hd).call(this,ve.ids),!!Re&&(Pi(this,we,dd).call(this,Re).then(()=>{this.renderingQueue.renderView(Re)}),!0)}createTextLayerBuilder(J,ve,Be,Me=!1,Re,qe){return new q.TextLayerBuilder({textLayerDiv:J,eventBus:Re,pageIndex:ve,viewport:Be,enhanceTextSelection:!this.isInPresentationMode&&Me,highlighter:qe})}createTextHighlighter(J,ve){return new O.TextHighlighter({eventBus:ve,pageIndex:J,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(J,ve,Be=null,Me="",Re=!0,qe=l.NullL10n,et=null,at=null,At=null,gt=null,Ze=null){var ft,Vt,St,wt;return new E.AnnotationLayerBuilder({pageDiv:J,pdfPage:ve,annotationStorage:Be||(null==(ft=this.pdfDocument)?void 0:ft.annotationStorage),imageResourcesPath:Me,renderForms:Re,linkService:this.linkService,downloadManager:this.downloadManager,l10n:qe,enableScripting:null!=et?et:this.enableScripting,hasJSActionsPromise:at||(null==(Vt=this.pdfDocument)?void 0:Vt.hasJSActions()),fieldObjectsPromise:gt||(null==(St=this.pdfDocument)?void 0:St.getFieldObjects()),mouseState:At||(null==(wt=this._scriptingManager)?void 0:wt.mouseState),annotationCanvasMap:Ze})}createXfaLayerBuilder(J,ve,Be=null){var Me;return new b.XfaLayerBuilder({pageDiv:J,pdfPage:ve,annotationStorage:Be||(null==(Me=this.pdfDocument)?void 0:Me.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(J){return new oe.StructTreeLayerBuilder({pdfPage:J})}get hasEqualPageSizes(){const J=this._pages[0];for(let ve=1,Be=this._pages.length;ve<Be;++ve){const Me=this._pages[ve];if(Me.width!==J.width||Me.height!==J.height)return!1}return!0}getPagesOverview(){return this._pages.map(J=>{const ve=J.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,C.isPortraitOrientation)(ve)?{width:ve.width,height:ve.height,rotation:ve.rotation}:{width:ve.height,height:ve.width,rotation:(ve.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(J){if(!(J instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${J}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=J;const ve={optionalContentConfigPromise:J};for(const Be of this._pages)Be.update(ve);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:J})}get scrollMode(){return this._scrollMode}set scrollMode(J){if(this._scrollMode!==J){if(!(0,C.isValidScrollMode)(J))throw new Error(`Invalid scroll mode: ${J}`);this.pagesCount>x.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=J,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:J}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(J=null){const ve=this._scrollMode,Be=this.viewer;Be.classList.toggle("scrollHorizontal",ve===C.ScrollMode.HORIZONTAL),Be.classList.toggle("scrollWrapped",ve===C.ScrollMode.WRAPPED),this.pdfDocument&&J&&(ve===C.ScrollMode.PAGE?Pi(this,U,Cr).call(this):this._previousScrollMode===C.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(J,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(J){if(this._spreadMode!==J){if(!(0,C.isValidSpreadMode)(J))throw new Error(`Invalid spread mode: ${J}`);this._spreadMode=J,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:J}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(J=null){if(!this.pdfDocument)return;const ve=this.viewer,Be=this._pages;if(this._scrollMode===C.ScrollMode.PAGE)Pi(this,U,Cr).call(this);else if(ve.textContent="",this._spreadMode===C.SpreadMode.NONE)for(let Me=0,Re=Be.length;Me<Re;++Me)ve.appendChild(Be[Me].div);else{const Me=this._spreadMode-1;let Re=null;for(let qe=0,et=Be.length;qe<et;++qe)null===Re?(Re=document.createElement("div"),Re.className="spread",ve.appendChild(Re)):qe%2===Me&&(Re=Re.cloneNode(!1),ve.appendChild(Re)),Re.appendChild(Be[qe].div)}!J||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(J,!0),this.update())}_getPageAdvance(J,ve=!1){switch(this._scrollMode){case C.ScrollMode.WRAPPED:{const{views:Be}=this._getVisiblePages(),Me=new Map;for(const{id:Re,y:qe,percent:et,widthPercent:at}of Be){if(0===et||at<100)continue;let At=Me.get(qe);At||Me.set(qe,At||(At=[])),At.push(Re)}for(const Re of Me.values()){const qe=Re.indexOf(J);if(-1===qe)continue;const et=Re.length;if(1===et)break;if(ve)for(let at=qe-1,At=0;at>=At;at--){const Ze=Re[at+1]-1;if(Re[at]<Ze)return J-Ze}else for(let at=qe+1,At=et;at<At;at++){const Ze=Re[at-1]+1;if(Re[at]>Ze)return Ze-J}if(ve){const at=Re[0];if(at<J)return J-at+1}else{const at=Re[et-1];if(at>J)return at-J+1}break}break}case C.ScrollMode.HORIZONTAL:break;case C.ScrollMode.PAGE:case C.ScrollMode.VERTICAL:{if(this._spreadMode===C.SpreadMode.NONE)break;const Be=this._spreadMode-1;if(ve&&J%2!==Be)break;if(!ve&&J%2===Be)break;const{views:Me}=this._getVisiblePages(),Re=ve?J-1:J+1;for(const{id:qe,percent:et,widthPercent:at}of Me)if(qe===Re){if(et>0&&100===at)return 2;break}break}}return 1}nextPage(){const J=this._currentPageNumber,ve=this.pagesCount;if(J>=ve)return!1;const Be=this._getPageAdvance(J,!1)||1;return this.currentPageNumber=Math.min(J+Be,ve),!0}previousPage(){const J=this._currentPageNumber;if(J<=1)return!1;const ve=this._getPageAdvance(J,!0)||1;return this.currentPageNumber=Math.max(J-ve,1),!0}increaseScale(J=1){let ve=this._currentScale;do{ve=(ve*C.DEFAULT_SCALE_DELTA).toFixed(2),ve=Math.ceil(10*ve)/10,ve=Math.min(C.MAX_SCALE,ve)}while(--J>0&&ve<C.MAX_SCALE);this.currentScaleValue=ve}decreaseScale(J=1){let ve=this._currentScale;do{ve=(ve/C.DEFAULT_SCALE_DELTA).toFixed(2),ve=Math.floor(10*ve)/10,ve=Math.max(C.MIN_SCALE,ve)}while(--J>0&&ve>C.MIN_SCALE);this.currentScaleValue=ve}};let V=st;ue=new WeakMap,_e=new WeakMap,he=new WeakMap,Ce=new WeakMap,ee=new WeakMap,F=new WeakMap,R=new WeakMap,j=new WeakSet,ad=function(J){!J||(J.includes(g.PermissionFlag.COPY)||this.viewer.classList.add(K),!J.includes(g.PermissionFlag.MODIFY_ANNOTATIONS)&&!J.includes(g.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Ot(this,_e)===g.AnnotationMode.ENABLE_FORMS&&(vi(this,he,Ot(this,_e)),vi(this,_e,g.AnnotationMode.ENABLE)))},Q=new WeakSet,ld=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const J=new Promise(ve=>{vi(this,R,()=>{"hidden"===document.visibilityState&&(ve(),document.removeEventListener("visibilitychange",Ot(this,R)),vi(this,R,null))}),document.addEventListener("visibilitychange",Ot(this,R))});return Promise.race([this._onePageRenderedCapability.promise,J])},U=new WeakSet,Cr=function(){if(this._scrollMode!==C.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const J=this._currentPageNumber,ve=Ot(this,F),Be=this.viewer;if(Be.textContent="",ve.pages.length=0,this._spreadMode===C.SpreadMode.NONE){const Me=this._pages[J-1];if(this.isInPresentationMode){const Re=document.createElement("div");Re.className="spread";const qe=document.createElement("div");qe.className="dummyPage",qe.style.height=`${this.container.clientHeight}px`,Re.appendChild(qe),Re.appendChild(Me.div),Be.appendChild(Re)}else Be.appendChild(Me.div);ve.pages.push(Me)}else{const Me=new Set,Re=this._spreadMode-1;J%2!==Re?(Me.add(J-1),Me.add(J)):(Me.add(J-2),Me.add(J-1));let qe=null;for(const et of Me){const at=this._pages[et];!at||(null===qe?(qe=document.createElement("div"),qe.className="spread",Be.appendChild(qe)):et%2===Re&&(qe=qe.cloneNode(!1),Be.appendChild(qe)),qe.appendChild(at.div),ve.pages.push(at))}}ve.scrollDown=J>=ve.previousPageNumber,ve.previousPageNumber=J},ye=new WeakSet,cd=function(J){return(!this.isInPresentationMode||this.container.clientHeight===Ot(this,ee))&&(J===this._currentScale||Math.abs(J-this._currentScale)<1e-15)},we=new WeakSet,dd=function(J){var ve=this;return i(function*(){var Be,Me;if(J.pdfPage)return J.pdfPage;try{const Re=yield ve.pdfDocument.getPage(J.id);return J.pdfPage||J.setPdfPage(Re),(null==(Me=(Be=ve.linkService)._cachedPageNumber)?void 0:Me.call(Be,Re.ref))||ve.linkService.cachePageRef(J.id,Re.ref),Re}catch(Re){return console.error("Unable to get page for page view",Re),null}})()},Ne=new WeakSet,ud=function(J){var ve,Be;if(1===(null==(ve=J.first)?void 0:ve.id))return!0;if((null==(Be=J.last)?void 0:Be.id)===this.pagesCount)return!1;switch(this._scrollMode){case C.ScrollMode.PAGE:return Ot(this,F).scrollDown;case C.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Ue=new WeakSet,hd=function(J){for(const ve of J){const Be=this._pages[ve-1];null==Be||Be.toggleLoadingIconSpinner(!0)}for(const ve of Ot(this,ue))J.has(ve.id)||ve.toggleLoadingIconSpinner(!1)},d.BaseViewer=V},(I,d,A)=>{var H;Object.defineProperty(d,"__esModule",{value:!0}),d.PDFPageView=void 0;var g=A(3),C=A(6),E=A(13),l=A(4);const T=E.compatibilityParams.maxCanvasPixels||16777216;H=new WeakMap,d.PDFPageView=class _{constructor(O){var K,x,B,V;ii(this,H,g.AnnotationMode.ENABLE_FORMS);const q=O.container,b=O.defaultViewport;this.id=O.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=O.scale||C.DEFAULT_SCALE,this.viewport=b,this.pdfPageRotate=b.rotation,this._optionalContentConfigPromise=O.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(K=O.textLayerMode)?K:C.TextLayerMode.ENABLE,vi(this,H,null!=(x=O.annotationMode)?x:g.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=O.imageResourcesPath||"",this.useOnlyCssZoom=O.useOnlyCssZoom||!1,this.maxCanvasPixels=O.maxCanvasPixels||T,this.eventBus=O.eventBus,this.renderingQueue=O.renderingQueue,this.textLayerFactory=O.textLayerFactory,this.annotationLayerFactory=O.annotationLayerFactory,this.xfaLayerFactory=O.xfaLayerFactory,this.textHighlighter=null==(B=O.textHighlighterFactory)?void 0:B.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=O.structTreeLayerFactory,this.renderer=O.renderer||C.RendererType.CANVAS,this.l10n=O.l10n||l.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=C.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(V=this.renderingQueue)?void 0:V.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const v=document.createElement("div");v.className="page",v.style.width=Math.floor(this.viewport.width)+"px",v.style.height=Math.floor(this.viewport.height)+"px",v.setAttribute("data-page-number",this.id),v.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(L=>{v.setAttribute("aria-label",L)}),this.div=v,null==q||q.appendChild(v)}setPdfPage(O){this.pdfPage=O,this.pdfPageRotate=O.rotate,this.viewport=O.getViewport({scale:this.scale*g.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var O=this;return i(function*(){let q=null;try{yield O.annotationLayer.render(O.viewport,"display")}catch(b){q=b}finally{O.eventBus.dispatch("annotationlayerrendered",{source:O,pageNumber:O.id,error:q})}})()}_renderXfaLayer(){var O=this;return i(function*(){let q=null;try{const b=yield O.xfaLayer.render(O.viewport,"display");O.textHighlighter&&O._buildXfaTextContentItems(b.textDivs)}catch(b){q=b}finally{O.eventBus.dispatch("xfalayerrendered",{source:O,pageNumber:O.id,error:q})}})()}_buildXfaTextContentItems(O){var q=this;return i(function*(){const b=yield q.pdfPage.getTextContent(),v=[];for(const K of b.items)v.push(K.str);q.textHighlighter.setTextMapping(O,v),q.textHighlighter.enable()})()}_resetZoomLayer(O=!1){if(!this.zoomLayer)return;const q=this.zoomLayer.firstChild;this.paintedViewportMap.delete(q),q.width=0,q.height=0,O&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:O=!1,keepAnnotationLayer:q=!1,keepXfaLayer:b=!1}={}){var L,G;this.cancelRendering({keepAnnotationLayer:q,keepXfaLayer:b}),this.renderingState=C.RenderingStates.INITIAL;const v=this.div;v.style.width=Math.floor(this.viewport.width)+"px",v.style.height=Math.floor(this.viewport.height)+"px";const K=v.childNodes,x=O&&this.zoomLayer||null,B=q&&(null==(L=this.annotationLayer)?void 0:L.div)||null,V=b&&(null==(G=this.xfaLayer)?void 0:G.div)||null;for(let ne=K.length-1;ne>=0;ne--){const le=K[ne];switch(le){case x:case B:case V:continue}le.remove()}v.removeAttribute("data-loaded"),B&&this.annotationLayer.hide(),V&&this.xfaLayer.hide(),x||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(ne=>{var le;null==(le=this.loadingIconDiv)||le.setAttribute("aria-label",ne)}),v.appendChild(this.loadingIconDiv)}update({scale:O=0,rotation:q=null,optionalContentConfigPromise:b=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=O||this.scale,"number"==typeof q&&(this.rotation=q),b instanceof Promise&&(this._optionalContentConfigPromise=b);const K=this.scale*g.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:K,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:B}=document.documentElement;B.setProperty("--zoom-factor",this.scale),B.setProperty("--viewport-scale-factor",K)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let x=!1;if(this.canvas&&this.maxCanvasPixels>0){const B=this.outputScale;(Math.floor(this.viewport.width)*B.sx|0)*(Math.floor(this.viewport.height)*B.sy|0)>this.maxCanvasPixels&&(x=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&x)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:O=!1,keepXfaLayer:q=!1}={}){var b;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!O||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!q||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(b=this.textHighlighter)||b.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:O,redrawAnnotationLayer:q=!1,redrawXfaLayer:b=!1}){const v=this.viewport.width,K=this.viewport.height,x=this.div;O.style.width=O.parentNode.style.width=x.style.width=Math.floor(v)+"px",O.style.height=O.parentNode.style.height=x.style.height=Math.floor(K)+"px";const B=this.viewport.rotation-this.paintedViewportMap.get(O).rotation,V=Math.abs(B);let L=1,G=1;if((90===V||270===V)&&(L=K/v,G=v/K),O.style.transform=`rotate(${B}deg) scale(${L}, ${G})`,this.textLayer){const ne=this.textLayer.viewport,ue=Math.abs(this.viewport.rotation-ne.rotation);let _e=v/ne.width;(90===ue||270===ue)&&(_e=v/ne.height);const he=this.textLayer.textLayerDiv;let Ce,ee;switch(ue){case 0:Ce=ee=0;break;case 90:Ce=0,ee="-"+he.style.height;break;case 180:Ce="-"+he.style.width,ee="-"+he.style.height;break;case 270:Ce="-"+he.style.width,ee=0;break;default:console.error("Bad rotation value.")}he.style.transform=`rotate(${ue}deg) scale(${_e}) translate(${Ce}, ${ee})`,he.style.transformOrigin="0% 0%"}q&&this.annotationLayer&&this._renderAnnotationLayer(),b&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(O,q){return this.viewport.convertToPdfPoint(O,q)}toggleLoadingIconSpinner(O=!1){var q;null==(q=this.loadingIconDiv)||q.classList.toggle("notVisible",!O)}draw(){var G,ne,le,O=this;this.renderingState!==C.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:q,pdfPage:b}=this;if(!b)return this.renderingState=C.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=C.RenderingStates.RUNNING;const v=document.createElement("div");v.style.width=q.style.width,v.style.height=q.style.height,v.classList.add("canvasWrapper"),(null==(G=this.annotationLayer)?void 0:G.div)?q.insertBefore(v,this.annotationLayer.div):q.appendChild(v);let K=null;if(this.textLayerMode!==C.TextLayerMode.DISABLE&&this.textLayerFactory){const ue=document.createElement("div");ue.className="textLayer",ue.style.width=v.style.width,ue.style.height=v.style.height,(null==(ne=this.annotationLayer)?void 0:ne.div)?q.insertBefore(ue,this.annotationLayer.div):q.appendChild(ue),K=this.textLayerFactory.createTextLayerBuilder(ue,this.id-1,this.viewport,this.textLayerMode===C.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=K,Ot(this,H)!==g.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(q,b,null,this.imageResourcesPath,Ot(this,H)===g.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(le=this.xfaLayer)?void 0:le.div)&&q.appendChild(this.xfaLayer.div);let x=null;this.renderingQueue&&(x=ue=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=C.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=C.RenderingStates.RUNNING,ue()});ue()});const B=function(){var ue=i(function*(_e=null){if(V===O.paintTask&&(O.paintTask=null),_e instanceof g.RenderingCancelledException)O._renderError=null;else if(O._renderError=_e,O.renderingState=C.RenderingStates.FINISHED,O.loadingIconDiv&&(O.loadingIconDiv.remove(),delete O.loadingIconDiv),O._resetZoomLayer(!0),O.eventBus.dispatch("pagerendered",{source:O,pageNumber:O.id,cssTransform:!1,timestamp:performance.now(),error:O._renderError}),_e)throw _e});return function(){return ue.apply(this,arguments)}}(),V=this.renderer===C.RendererType.SVG?this.paintOnSvg(v):this.paintOnCanvas(v);V.onRenderContinue=x,this.paintTask=V;const L=V.promise.then(()=>B(null).then(()=>{if(K){const ue=b.streamTextContent({includeMarkedContent:!0});K.setTextContentStream(ue),K.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(ue){return B(ue)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(q,b,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=ue=>{ue.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(_e=>{if(!_e||!this.canvas)return;const he=this.structTreeLayer.render(_e);he.classList.add("structTree"),this.canvas.appendChild(he)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(b)),q.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),L}paintOnCanvas(O){const q=(0,g.createPromiseCapability)(),b={promise:q.promise,onRenderContinue(he){he()},cancel(){_e.cancel()}},v=this.viewport,K=document.createElement("canvas");K.hidden=!0;let x=!0;const B=function(){x&&(K.hidden=!1,x=!1)};O.appendChild(K),this.canvas=K,K.mozOpaque=!0;const V=K.getContext("2d",{alpha:!1}),L=this.outputScale=new C.OutputScale;if(this.useOnlyCssZoom){const he=v.clone({scale:g.PixelsPerInch.PDF_TO_CSS_UNITS});L.sx*=he.width/v.width,L.sy*=he.height/v.height}if(this.maxCanvasPixels>0){const Ce=Math.sqrt(this.maxCanvasPixels/(v.width*v.height));L.sx>Ce||L.sy>Ce?(L.sx=Ce,L.sy=Ce,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const G=(0,C.approximateFraction)(L.sx),ne=(0,C.approximateFraction)(L.sy);K.width=(0,C.roundToDivide)(v.width*L.sx,G[0]),K.height=(0,C.roundToDivide)(v.height*L.sy,ne[0]),K.style.width=(0,C.roundToDivide)(v.width,G[1])+"px",K.style.height=(0,C.roundToDivide)(v.height,ne[1])+"px",this.paintedViewportMap.set(K,v);const ue={canvasContext:V,transform:L.scaled?[L.sx,0,0,L.sy,0,0]:null,viewport:this.viewport,annotationMode:Ot(this,H),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},_e=this.pdfPage.render(ue);return _e.onContinue=function(he){B(),b.onRenderContinue?b.onRenderContinue(he):he()},_e.promise.then(function(){B(),q.resolve()},function(he){B(),q.reject(he)}),b}paintOnSvg(O){let q=!1;const b=()=>{if(q)throw new g.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},v=this.pdfPage,K=this.viewport.clone({scale:g.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:v.getOperatorList({annotationMode:Ot(this,H)}).then(B=>(b(),new g.SVGGraphics(v.commonObjs,v.objs).getSVG(B,K).then(L=>{b(),this.svg=L,this.paintedViewportMap.set(L,K),L.style.width=O.style.width,L.style.height=O.style.height,this.renderingState=C.RenderingStates.FINISHED,O.appendChild(L)}))),onRenderContinue(B){B()},cancel(){q=!0}}}setPageLabel(O){this.pageLabel="string"==typeof O?O:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(I,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.compatibilityParams=d.OptionKind=d.AppOptions=void 0;const A=Object.create(null);d.compatibilityParams=A;{const T=navigator.userAgent||"",_=navigator.platform||"",H=navigator.maxTouchPoints||1,oe=/Android/.test(T);(/\b(iPad|iPhone|iPod)(?=;)/.test(T)||"MacIntel"===_&&H>1||oe)&&(A.maxCanvasPixels=5242880)}const g={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};d.OptionKind=g;const C={annotationMode:{value:2,kind:g.VIEWER+g.PREFERENCE},cursorToolOnLoad:{value:0,kind:g.VIEWER+g.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:g.VIEWER},defaultZoomValue:{value:"",kind:g.VIEWER+g.PREFERENCE},disableHistory:{value:!1,kind:g.VIEWER},disablePageLabels:{value:!1,kind:g.VIEWER+g.PREFERENCE},enablePermissions:{value:!1,kind:g.VIEWER+g.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:g.VIEWER+g.PREFERENCE},enableScripting:{value:!0,kind:g.VIEWER+g.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:g.VIEWER},externalLinkTarget:{value:0,kind:g.VIEWER+g.PREFERENCE},historyUpdateUrl:{value:!1,kind:g.VIEWER+g.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:g.VIEWER+g.PREFERENCE},imageResourcesPath:{value:"./images/",kind:g.VIEWER},maxCanvasPixels:{value:16777216,compatibility:A.maxCanvasPixels,kind:g.VIEWER},pdfBugEnabled:{value:!1,kind:g.VIEWER+g.PREFERENCE},printResolution:{value:150,kind:g.VIEWER},renderer:{value:"canvas",kind:g.VIEWER},sidebarViewOnLoad:{value:-1,kind:g.VIEWER+g.PREFERENCE},scrollModeOnLoad:{value:-1,kind:g.VIEWER+g.PREFERENCE},spreadModeOnLoad:{value:-1,kind:g.VIEWER+g.PREFERENCE},textLayerMode:{value:1,kind:g.VIEWER+g.PREFERENCE},useOnlyCssZoom:{value:!1,kind:g.VIEWER+g.PREFERENCE},viewerCssTheme:{value:0,kind:g.VIEWER+g.PREFERENCE},viewOnLoad:{value:0,kind:g.VIEWER+g.PREFERENCE},cMapPacked:{value:!0,kind:g.API},cMapUrl:{value:"../web/cmaps/",kind:g.API},disableAutoFetch:{value:!1,kind:g.API+g.PREFERENCE},disableFontFace:{value:!1,kind:g.API+g.PREFERENCE},disableRange:{value:!1,kind:g.API+g.PREFERENCE},disableStream:{value:!1,kind:g.API+g.PREFERENCE},docBaseUrl:{value:"",kind:g.API},enableXfa:{value:!0,kind:g.API+g.PREFERENCE},fontExtraProperties:{value:!1,kind:g.API},isEvalSupported:{value:!0,kind:g.API},maxImageSize:{value:-1,kind:g.API},pdfBug:{value:!1,kind:g.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:g.API},verbosity:{value:1,kind:g.API},workerPort:{value:null,kind:g.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:g.WORKER}};C.disablePreferences={value:!1,kind:g.VIEWER},C.locale={value:navigator.language||"en-US",kind:g.VIEWER},C.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:g.VIEWER},C.renderer.kind+=g.PREFERENCE;const E=Object.create(null);d.AppOptions=class l{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(_){var O;const H=E[_];if(void 0!==H)return H;const oe=C[_];return void 0!==oe?null!=(O=oe.compatibility)?O:oe.value:void 0}static getAll(_=null){var oe;const H=Object.create(null);for(const O in C){const q=C[O];if(_){if(0==(_&q.kind))continue;if(_===g.PREFERENCE){const v=q.value,K=typeof v;if("boolean"===K||"string"===K||"number"===K&&Number.isInteger(v)){H[O]=v;continue}throw new Error(`Invalid type for preference: ${O}`)}}const b=E[O];H[O]=void 0!==b?b:null!=(oe=q.compatibility)?oe:q.value}return H}static set(_,H){E[_]=H}static setAll(_){for(const H in _)E[H]=_[H]}static remove(_){delete E[_]}static _hasUserOptions(){return Object.keys(E).length>0}}},(I,d,A)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFRenderingQueue=void 0;var g=A(3),C=A(6);d.PDFRenderingQueue=class l{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(_){this.pdfViewer=_}setThumbnailViewer(_){this.pdfThumbnailViewer=_}isHighestPriority(_){return this.highestPriorityPage===_.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(_){var H;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(_)&&(this.isThumbnailViewEnabled&&(null==(H=this.pdfThumbnailViewer)?void 0:H.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(_,H,oe,O=!1){const q=_.views,b=q.length;if(0===b)return null;for(let V=0;V<b;V++){const L=q[V].view;if(!this.isViewFinished(L))return L}const v=_.first.id,K=_.last.id;if(K-v+1>b){const V=_.ids;for(let L=1,G=K-v;L<G;L++){const ne=oe?v+L:K-L;if(V.has(ne))continue;const le=H[ne-1];if(!this.isViewFinished(le))return le}}let x=oe?K:v-2,B=H[x];return B&&!this.isViewFinished(B)||O&&(x+=oe?1:-1,B=H[x],B&&!this.isViewFinished(B))?B:null}isViewFinished(_){return _.renderingState===C.RenderingStates.FINISHED}renderView(_){switch(_.renderingState){case C.RenderingStates.FINISHED:return!1;case C.RenderingStates.PAUSED:this.highestPriorityPage=_.renderingId,_.resume();break;case C.RenderingStates.RUNNING:this.highestPriorityPage=_.renderingId;break;case C.RenderingStates.INITIAL:this.highestPriorityPage=_.renderingId,_.draw().finally(()=>{this.renderHighestPriority()}).catch(H=>{H instanceof g.RenderingCancelledException||console.error(`renderView: "${H}"`)})}return!0}}},(I,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextHighlighter=void 0;d.TextHighlighter=class A{constructor({findController:C,eventBus:E,pageIndex:l}){this.findController=C,this.matches=[],this.eventBus=E,this.pageIdx=l,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(C,E){this.textDivs=C,this.textContentItemsStr=E}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=C=>{(C.pageIndex===this.pageIdx||-1===C.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(C,E){if(!C)return[];const{textContentItemsStr:l}=this;let T=0,_=0;const H=l.length-1,oe=[];for(let O=0,q=C.length;O<q;O++){let b=C[O];for(;T!==H&&b>=_+l[T].length;)_+=l[T].length,T++;T===l.length&&console.error("Could not find a matching mapping");const v={begin:{divIdx:T,offset:b-_}};for(b+=E[O];T!==H&&b>_+l[T].length;)_+=l[T].length,T++;v.end={divIdx:T,offset:b-_},oe.push(v)}return oe}_renderMatches(C){if(0===C.length)return;const{findController:E,pageIdx:l}=this,{textContentItemsStr:T,textDivs:_}=this,H=l===E.selected.pageIdx,oe=E.selected.matchIdx;let q=null;const b_offset=void 0;function v(V,L){const G=V.divIdx;return _[G].textContent="",K(G,0,V.offset,L)}function K(V,L,G,ne){let le=_[V];if(le.nodeType===Node.TEXT_NODE){const he=document.createElement("span");le.parentNode.insertBefore(he,le),he.appendChild(le),_[V]=he,le=he}const ue=T[V].substring(L,G),_e=document.createTextNode(ue);if(ne){const he=document.createElement("span");return he.className=`${ne} appended`,he.appendChild(_e),le.appendChild(he),ne.includes("selected")?he.offsetLeft:0}return le.appendChild(_e),0}let x=oe,B=x+1;if(E.state.highlightAll)x=0,B=C.length;else if(!H)return;for(let V=x;V<B;V++){const L=C[V],G=L.begin,ne=L.end,le=H&&V===oe,ue=le?" selected":"";let _e=0;if(q&&G.divIdx===q.divIdx?K(q.divIdx,q.offset,G.offset):(null!==q&&K(q.divIdx,q.offset,b_offset),v(G)),G.divIdx===ne.divIdx)_e=K(G.divIdx,G.offset,ne.offset,"highlight"+ue);else{_e=K(G.divIdx,G.offset,b_offset,"highlight begin"+ue);for(let he=G.divIdx+1,Ce=ne.divIdx;he<Ce;he++)_[he].className="highlight middle"+ue;v(ne,"highlight end"+ue)}q=ne,le&&E.scrollMatchIntoView({element:_[G.divIdx],selectedLeft:_e,pageIndex:l,matchIndex:oe})}q&&K(q.divIdx,q.offset,b_offset)}_updateMatches(){if(!this.enabled)return;const{findController:C,matches:E,pageIdx:l}=this,{textContentItemsStr:T,textDivs:_}=this;let H=-1;for(let q=0,b=E.length;q<b;q++){const v=E[q];for(let x=Math.max(H,v.begin.divIdx),B=v.end.divIdx;x<=B;x++){const V=_[x];V.textContent=T[x],V.className=""}H=v.end.divIdx+1}(null==C?void 0:C.highlightMatches)&&(this.matches=this._convertMatches(C.pageMatches[l]||null,C.pageMatchesLength[l]||null),this._renderMatches(this.matches))}}},(I,d,A)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DownloadManager=void 0;var g=A(3);function C(l,T){const _=document.createElement("a");if(!_.click)throw new Error('DownloadManager: "a.click()" is not supported.');_.href=l,_.target="_parent","download"in _&&(_.download=T),(document.body||document.documentElement).appendChild(_),_.click(),_.remove()}d.DownloadManager=class E{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(T,_){(0,g.createValidAbsoluteUrl)(T,"http://example.com")?C(T+"#pdfjs.action=download",_):console.error(`downloadUrl - not a valid URL: ${T}`)}downloadData(T,_,H){C(URL.createObjectURL(new Blob([T],{type:H})),_)}openOrDownloadData(T,_,H){const oe=(0,g.isPdfFile)(H),O=oe?"application/pdf":"";if(oe){let b,q=this._openBlobUrls.get(T);q||(q=URL.createObjectURL(new Blob([_],{type:O})),this._openBlobUrls.set(T,q)),b="?file="+encodeURIComponent(q+"#"+H);try{return window.open(b),!0}catch(v){console.error(`openOrDownloadData: ${v}`),URL.revokeObjectURL(q),this._openBlobUrls.delete(T)}}return this.downloadData(_,H,O),!1}download(T,_,H,oe="download"){C(URL.createObjectURL(T),H)}}},(I,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WaitOnType=d.EventBus=d.AutomationEventBus=void 0,d.waitOnEventOrTimeout=function g({target:l,name:T,delay:_=0}){return new Promise(function(H,oe){if("object"!=typeof l||!T||"string"!=typeof T||!(Number.isInteger(_)&&_>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function O(K){l instanceof C?l._off(T,q):l.removeEventListener(T,q),v&&clearTimeout(v),H(K)}const q=O.bind(null,A.EVENT);l instanceof C?l._on(T,q):l.addEventListener(T,q);const b=O.bind(null,A.TIMEOUT),v=setTimeout(b,_)})};const A={EVENT:"event",TIMEOUT:"timeout"};d.WaitOnType=A;class C{constructor(){this._listeners=Object.create(null)}on(T,_,H=null){this._on(T,_,{external:!0,once:null==H?void 0:H.once})}off(T,_,H=null){this._off(T,_,{external:!0,once:null==H?void 0:H.once})}dispatch(T,_){const H=this._listeners[T];if(!H||0===H.length)return;let oe;for(const{listener:O,external:q,once:b}of H.slice(0))b&&this._off(T,O),q?(oe||(oe=[])).push(O):O(_);if(oe){for(const O of oe)O(_);oe=null}}_on(T,_,H=null){var O;((O=this._listeners)[T]||(O[T]=[])).push({listener:_,external:!0===(null==H?void 0:H.external),once:!0===(null==H?void 0:H.once)})}_off(T,_,H=null){const oe=this._listeners[T];if(oe)for(let O=0,q=oe.length;O<q;O++)if(oe[O].listener===_)return void oe.splice(O,1)}}d.EventBus=C;d.AutomationEventBus=class E extends C{dispatch(T,_){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(I,d,A)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GenericL10n=void 0,A(19);var g=A(4);const C=document.webL10n;d.GenericL10n=class E{constructor(T){this._lang=T,this._ready=new Promise((_,H)=>{C.setLanguage((0,g.fixupLangCode)(T),()=>{_(C)})})}getLanguage(){var T=this;return i(function*(){return(yield T._ready).getLanguage()})()}getDirection(){var T=this;return i(function*(){return(yield T._ready).getDirection()})()}get(T,_=null,H=(0,g.getL10nFallback)(T,_)){var oe=this;return i(function*(){return(yield oe._ready).get(T,_,H)})()}translate(T){var _=this;return i(function*(){return(yield _._ready).translate(T)})()}}},()=>{document.webL10n=function(I,d,A){var g={},C="",E="textContent",l="",T={},_="loading";function v(he,Ce,ee){Ce=Ce||function(j){},ee=ee||function(){};var F=new XMLHttpRequest;F.open("GET",he,true),F.overrideMimeType&&F.overrideMimeType("text/plain; charset=utf-8"),F.onreadystatechange=function(){4==F.readyState&&(200==F.status||0===F.status?Ce(F.responseText):ee())},F.onerror=ee,F.ontimeout=ee;try{F.send(null)}catch(R){ee()}}function K(he,Ce,ee,F){var R=he.replace(/[^\/]*$/,"")||"./";function j(Q){return Q.lastIndexOf("\\")<0?Q:Q.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}v(he,function(Q){C+=Q,function Y(Q,m){var U={},se=/^\s*|\s*$/,ye=/^\s*#|^\s*$/,Z=/^\s*\[(.*)\]\s*$/,we=/^\s*@import\s+url\((.*)\)\s*$/i,ke=/^([^=\s]*)\s*=\s*(.+)$/;function Ne(Ue,rt,st){var pt=Ue.replace(se,"").split(/[\r\n]+/),J="*",ve=Ce.split("-",1)[0],Be=!1,Me="";!function Re(){for(;;){if(!pt.length)return void st();var qe=pt.shift();if(!ye.test(qe)){if(rt){if(Me=Z.exec(qe)){J=Me[1].toLowerCase(),Be="*"!==J&&J!==Ce&&J!==ve;continue}if(Be)continue;if(Me=we.exec(qe))return void Fe(R+Me[1],Re)}var et=qe.match(ke);et&&3==et.length&&(U[et[1]]=j(et[2]))}}}()}function Fe(Ue,rt){v(Ue,function(st){Ne(st,!1,rt)},function(){console.warn(Ue+" not found."),rt()})}Ne(Q,!0,function(){m(U)})}(Q,function(m){for(var U in m){var se,ye,Z=U.lastIndexOf(".");Z>0?(se=U.substring(0,Z),ye=U.substring(Z+1)):(se=U,ye=E),g[se]||(g[se]={}),g[se][ye]=m[U]}ee&&ee()})},F)}function x(he,Ce){he&&(he=he.toLowerCase()),Ce=Ce||function(){},function B(){g={},C="",l=""}(),l=he;var ee=function oe(){return d.querySelectorAll('link[type="application/l10n"]')}(),F=ee.length;if(0!==F){var Q,m=0;Q=function(){++m>=F&&(Ce(),_="complete")};for(var se=0;se<F;se++)new U(ee[se]).load(he,Q)}else{var R=function O(){var he=d.querySelector('script[type="application/l10n"]');return he?JSON.parse(he.innerHTML):null}();if(R&&R.locales&&R.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(g=R.locales[he])){var j=R.default_locale.toLowerCase();for(var Y in R.locales){if((Y=Y.toLowerCase())===he){g=R.locales[he];break}Y===j&&(g=R.locales[j])}}Ce()}else console.log("no resource to load, early way out");_="complete"}function U(Z){var we=Z.href;this.load=function(ke,Ne){K(we,ke,Ne,function(){console.warn(we+" not found."),console.warn('"'+ke+'" resource not found'),l="",Ne()})}}}function L(he,Ce,ee){var F=g[he];if(!F){if(console.warn("#"+he+" is undefined."),!ee)return null;F=ee}var R={};for(var j in F){var Y=F[j];Y=ne(Y=G(Y,Ce,he,j),Ce,he),R[j]=Y}return R}function G(he,Ce,ee,F){var j=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(he);if(!j||!j.length)return he;var m,Y=j[1],Q=j[2];return Ce&&Q in Ce?m=Ce[Q]:Q in g&&(m=g[Q]),Y in T&&(he=(0,T[Y])(he,m,ee,F)),he}function ne(he,Ce,ee){return he.replace(/\{\{\s*(.+?)\s*\}\}/g,function(R,j){return Ce&&j in Ce?Ce[j]:j in g?g[j]:(console.log("argument {{"+j+"}} for #"+ee+" is undefined."),R)})}function le(he){var Ce=function b(he){if(!he)return{};var Ce=he.getAttribute("data-l10n-id"),ee=he.getAttribute("data-l10n-args"),F={};if(ee)try{F=JSON.parse(ee)}catch(R){console.warn("could not parse arguments for #"+Ce)}return{id:Ce,args:F}}(he);if(Ce.id){var ee=L(Ce.id,Ce.args);if(!ee)return void console.warn("#"+Ce.id+" is undefined.");if(ee[E]){if(0===function ue(he){if(he.children)return he.children.length;if(void 0!==he.childElementCount)return he.childElementCount;for(var Ce=0,ee=0;ee<he.childNodes.length;ee++)Ce+=1===he.nodeType?1:0;return Ce}(he))he[E]=ee[E];else{for(var F=he.childNodes,R=!1,j=0,Y=F.length;j<Y;j++)3===F[j].nodeType&&/\S/.test(F[j].nodeValue)&&(R?F[j].nodeValue="":(F[j].nodeValue=ee[E],R=!0));if(!R){var Q=d.createTextNode(ee[E]);he.insertBefore(Q,he.firstChild)}}delete ee[E]}for(var m in ee)he[m]=ee[m]}}return T.plural=function(he,Ce,ee,F){var R=parseFloat(Ce);if(isNaN(R)||F!=E)return he;T._pluralRules||(T._pluralRules=function V(he){function ee(Y,Q){return-1!==Q.indexOf(Y)}function F(Y,Q,m){return Q<=Y&&Y<=m}var R={0:function(Y){return"other"},1:function(Y){return F(Y%100,3,10)?"few":0===Y?"zero":F(Y%100,11,99)?"many":2==Y?"two":1==Y?"one":"other"},2:function(Y){return 0!==Y&&Y%10==0?"many":2==Y?"two":1==Y?"one":"other"},3:function(Y){return 1==Y?"one":"other"},4:function(Y){return F(Y,0,1)?"one":"other"},5:function(Y){return F(Y,0,2)&&2!=Y?"one":"other"},6:function(Y){return 0===Y?"zero":Y%10==1&&Y%100!=11?"one":"other"},7:function(Y){return 2==Y?"two":1==Y?"one":"other"},8:function(Y){return F(Y,3,6)?"few":F(Y,7,10)?"many":2==Y?"two":1==Y?"one":"other"},9:function(Y){return 0===Y||1!=Y&&F(Y%100,1,19)?"few":1==Y?"one":"other"},10:function(Y){return F(Y%10,2,9)&&!F(Y%100,11,19)?"few":Y%10!=1||F(Y%100,11,19)?"other":"one"},11:function(Y){return F(Y%10,2,4)&&!F(Y%100,12,14)?"few":Y%10==0||F(Y%10,5,9)||F(Y%100,11,14)?"many":Y%10==1&&Y%100!=11?"one":"other"},12:function(Y){return F(Y,2,4)?"few":1==Y?"one":"other"},13:function(Y){return F(Y%10,2,4)&&!F(Y%100,12,14)?"few":1!=Y&&F(Y%10,0,1)||F(Y%10,5,9)||F(Y%100,12,14)?"many":1==Y?"one":"other"},14:function(Y){return F(Y%100,3,4)?"few":Y%100==2?"two":Y%100==1?"one":"other"},15:function(Y){return 0===Y||F(Y%100,2,10)?"few":F(Y%100,11,19)?"many":1==Y?"one":"other"},16:function(Y){return Y%10==1&&11!=Y?"one":"other"},17:function(Y){return 3==Y?"few":0===Y?"zero":6==Y?"many":2==Y?"two":1==Y?"one":"other"},18:function(Y){return 0===Y?"zero":F(Y,0,2)&&0!==Y&&2!=Y?"one":"other"},19:function(Y){return F(Y,2,10)?"few":F(Y,0,1)?"one":"other"},20:function(Y){return!F(Y%10,3,4)&&Y%10!=9||F(Y%100,10,19)||F(Y%100,70,79)||F(Y%100,90,99)?Y%1e6==0&&0!==Y?"many":Y%10!=2||ee(Y%100,[12,72,92])?Y%10!=1||ee(Y%100,[11,71,91])?"other":"one":"two":"few"},21:function(Y){return 0===Y?"zero":1==Y?"one":"other"},22:function(Y){return F(Y,0,1)||F(Y,11,99)?"one":"other"},23:function(Y){return F(Y%10,1,2)||Y%20==0?"one":"other"},24:function(Y){return F(Y,3,10)||F(Y,13,19)?"few":ee(Y,[2,12])?"two":ee(Y,[1,11])?"one":"other"}},j={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[he.replace(/-.*$/,"")];return j in R?R[j]:(console.warn("plural form unknown for ["+he+"]"),function(){return"other"})}(l));var j="["+T._pluralRules(R)+"]";return 0===R&&ee+"[zero]"in g?he=g[ee+"[zero]"][F]:1==R&&ee+"[one]"in g?he=g[ee+"[one]"][F]:2==R&&ee+"[two]"in g?he=g[ee+"[two]"][F]:ee+j in g?he=g[ee+j][F]:ee+"[other]"in g&&(he=g[ee+"[other]"][F]),he},{get:function(he,Ce,ee){var j,F=he.lastIndexOf("."),R=E;F>0&&(R=he.substring(F+1),he=he.substring(0,F)),ee&&((j={})[R]=ee);var Y=L(he,Ce,j);return Y&&R in Y?Y[R]:"{{"+he+"}}"},getData:function(){return g},getText:function(){return C},getLanguage:function(){return l},setLanguage:function(he,Ce){x(he,function(){Ce&&Ce()})},getDirection:function(){var Ce=l.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(Ce)>=0?"rtl":"ltr"},translate:function _e(he){for(var Ce=function q(he){return he?he.querySelectorAll("*[data-l10n-id]"):[]}(he=he||d.documentElement),ee=Ce.length,F=0;F<ee;F++)le(Ce[F]);le(he)},getReadyState:function(){return _},ready:function(he){he&&("complete"==_||"interactive"==_?I.setTimeout(function(){he()}):d.addEventListener&&d.addEventListener("localized",function Ce(){d.removeEventListener("localized",Ce),he()}))}}}(window,document)},(I,d,A)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFFindController=d.FindState=void 0;var g=A(6),C=A(3),E=A(21);const l={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};d.FindState=l;const oe={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},O=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),q=[...O.values()].map(ne=>String.fromCharCode(ne)).join(""),b=/\p{M}+/gu,v=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,K=/([^\p{M}])\p{M}*$/u,x=/^\p{M}*([^\p{M}])/u;let B=null;function V(ne){if(!B){const Y=Object.keys(oe).join("");B=new RegExp(`([${Y}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const le=[];let ue;for(;null!==(ue=b.exec(ne));)le.push([ue[0].length,ue.index]);let _e=ne.normalize("NFD");const he=[[0,0]];let Ce=0,ee=0,F=0,R=0,j=!1;return _e=_e.replace(B,(Y,Q,m,U,se,ye)=>{var Z;if(ye-=F,Q){const we=oe[Y],ke=we.length;for(let Ne=1;Ne<ke;Ne++)he.push([ye-ee+Ne,ee-Ne]);return ee-=ke-1,we}if(m){const we=m.endsWith("\n"),ke=we?m.length-2:m.length;j=!0;let Ne=ke;ye+R===(null==(Z=le[Ce])?void 0:Z[1])&&(Ne-=le[Ce][0],++Ce);for(let Fe=1;Fe<Ne+1;Fe++)he.push([ye-1-ee+Fe,ee-Fe]);return ee-=Ne,F+=Ne,we?(he.push([(ye+=ke-1)-ee+1,1+ee]),ee+=1,F+=1,R+=1,m.slice(0,ke)):m}return U?(he.push([ye-ee+1,1+ee]),ee+=1,F+=1,R+=1,U.charAt(0)):(he.push([ye-ee+1,ee-1]),ee-=1,F+=1,R+=1," ")}),he.push([_e.length,ee]),[_e,he,j]}function L(ne,le,ue){if(!ne)return[le,ue];const _e=le,he=le+ue;let Ce=(0,g.binarySearchFirstItem)(ne,F=>F[0]>=_e);ne[Ce][0]>_e&&--Ce;let ee=(0,g.binarySearchFirstItem)(ne,F=>F[0]>=he,Ce);return ne[ee][0]>he&&--ee,[_e+ne[Ce][1],ue+ne[ee][1]-ne[Ce][1]]}d.PDFFindController=class G{constructor({linkService:le,eventBus:ue}){this._linkService=le,this._eventBus=ue,this._reset(),ue._on("find",this._onFind.bind(this)),ue._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(_e,he)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const Ce=Object.assign(Object.create(null),he,{type:_e.substring(4)});this._onFind(Ce)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(le){this._pdfDocument&&this._reset(),le&&(this._pdfDocument=le,this._firstPageCapability.resolve())}_onFind(le){if(!le)return;const ue=this._pdfDocument,{type:_e}=le;(null===this._state||this._shouldDirtyMatch(le))&&(this._dirtyMatch=!0),this._state=le,"highlightallchange"!==_e&&this._updateUIState(l.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||ue&&this._pdfDocument!==ue)return;this._extractText();const he=!this._highlightMatches,Ce=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),_e?this._dirtyMatch?this._nextMatch():"again"===_e?(this._nextMatch(),he&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===_e?(Ce?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:le=null,selectedLeft:ue=0,pageIndex:_e=-1,matchIndex:he=-1}){this._scrollMatches&&le&&-1!==he&&he===this._selected.matchIdx&&-1!==_e&&_e===this._selected.pageIdx&&(this._scrollMatches=!1,(0,g.scrollIntoView)(le,{top:-50,left:ue+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,C.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=V(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(le){if(le.query!==this._state.query)return!0;switch(le.type){case"again":const ue=this._selected.pageIdx+1,_e=this._linkService;return ue>=1&&ue<=_e.pagesCount&&ue!==_e.page&&!_e.isPageVisible(ue);case"highlightallchange":return!1}return!0}_isEntireWord(le,ue,_e){let he=le.slice(0,ue).match(K);if(he){const Ce=le.charCodeAt(ue),ee=he[1].charCodeAt(0);if((0,E.getCharacterType)(Ce)===(0,E.getCharacterType)(ee))return!1}if(he=le.slice(ue+_e).match(x),he){const Ce=le.charCodeAt(ue+_e-1),ee=he[1].charCodeAt(0);if((0,E.getCharacterType)(Ce)===(0,E.getCharacterType)(ee))return!1}return!0}_calculateRegExpMatch(le,ue,_e,he){const Ce=[],ee=[],F=this._pageDiffs[_e];let R;for(;null!==(R=le.exec(he));){if(ue&&!this._isEntireWord(he,R.index,R[0].length))continue;const[j,Y]=L(F,R.index,R[0].length);Y&&(Ce.push(j),ee.push(Y))}this._pageMatches[_e]=Ce,this._pageMatchesLength[_e]=ee}_convertToRegExpString(le,ue){const{matchDiacritics:_e}=this._state;let he=!1;return(le=le.replace(v,(ee,F,R,j,Y,Q)=>F?`[ ]*\\${F}[ ]*`:R?`[ ]*${R}[ ]*`:j?"[ ]+":_e?Y||Q:Y?O.has(Y.charCodeAt(0))?Y:"":ue?(he=!0,`${Q}\\p{M}*`):Q)).endsWith("[ ]*")&&(le=le.slice(0,le.length-"[ ]*".length)),_e&&ue&&(he=!0,le=`${le}(?=[${q}]|[^\\p{M}]|$)`),[he,le]}_calculateMatch(le){let ue=this._query;if(0===ue.length)return;const{caseSensitive:_e,entireWord:he,phraseSearch:Ce}=this._state,ee=this._pageContents[le],F=this._hasDiacritics[le];let R=!1;if(Ce)[R,ue]=this._convertToRegExpString(ue,F);else{const Q=ue.match(/\S+/g);Q&&(ue=Q.sort().reverse().map(m=>{const[U,se]=this._convertToRegExpString(m,F);return R||(R=U),`(${se})`}).join("|"))}ue=new RegExp(ue,`g${R?"u":""}${_e?"":"i"}`),this._calculateRegExpMatch(ue,he,le,ee),this._state.highlightAll&&this._updatePage(le),this._resumePageIdx===le&&(this._resumePageIdx=null,this._nextPageMatch());const Y=this._pageMatches[le].length;Y>0&&(this._matchesCountTotal+=Y,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let le=Promise.resolve();for(let ue=0,_e=this._linkService.pagesCount;ue<_e;ue++){const he=(0,C.createPromiseCapability)();this._extractTextPromises[ue]=he.promise,le=le.then(()=>this._pdfDocument.getPage(ue+1).then(Ce=>Ce.getTextContent()).then(Ce=>{const ee=Ce.items,F=[];for(let R=0,j=ee.length;R<j;R++)F.push(ee[R].str),ee[R].hasEOL&&F.push("\n");[this._pageContents[ue],this._pageDiffs[ue],this._hasDiacritics[ue]]=V(F.join("")),he.resolve(ue)},Ce=>{console.error(`Unable to get text content for page ${ue+1}`,Ce),this._pageContents[ue]="",this._pageDiffs[ue]=null,this._hasDiacritics[ue]=!1,he.resolve(ue)}))}}_updatePage(le){this._scrollMatches&&this._selected.pageIdx===le&&(this._linkService.page=le+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:le})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const le=this._state.findPrevious,ue=this._linkService.page-1,_e=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=ue,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let Ce=0;Ce<_e;Ce++)this._pendingFindMatches.has(Ce)||(this._pendingFindMatches.add(Ce),this._extractTextPromises[Ce].then(ee=>{this._pendingFindMatches.delete(ee),this._calculateMatch(ee)}))}if(""===this._query)return void this._updateUIState(l.FOUND);if(this._resumePageIdx)return;const he=this._offset;if(this._pagesToSearch=_e,null!==he.matchIdx){const Ce=this._pageMatches[he.pageIdx].length;if(!le&&he.matchIdx+1<Ce||le&&he.matchIdx>0)return he.matchIdx=le?he.matchIdx-1:he.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(le)}this._nextPageMatch()}_matchesReady(le){const ue=this._offset,_e=le.length,he=this._state.findPrevious;return _e?(ue.matchIdx=he?_e-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(he),!!(ue.wrapped&&(ue.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let le=null;do{const ue=this._offset.pageIdx;if(le=this._pageMatches[ue],!le){this._resumePageIdx=ue;break}}while(!this._matchesReady(le))}_advanceOffsetPage(le){const ue=this._offset,_e=this._linkService.pagesCount;ue.pageIdx=le?ue.pageIdx-1:ue.pageIdx+1,ue.matchIdx=null,this._pagesToSearch--,(ue.pageIdx>=_e||ue.pageIdx<0)&&(ue.pageIdx=le?_e-1:0,ue.wrapped=!0)}_updateMatch(le=!1){let ue=l.NOT_FOUND;const _e=this._offset.wrapped;if(this._offset.wrapped=!1,le){const he=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,ue=_e?l.WRAPPED:l.FOUND,-1!==he&&he!==this._selected.pageIdx&&this._updatePage(he)}this._updateUIState(ue,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(le){const ue=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||ue&&this._pdfDocument!==ue||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(l.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){var Ce;const{pageIdx:le,matchIdx:ue}=this._selected;let _e=0,he=this._matchesCountTotal;if(-1!==ue){for(let ee=0;ee<le;ee++)_e+=(null==(Ce=this._pageMatches[ee])?void 0:Ce.length)||0;_e+=ue+1}return(_e<1||_e>he)&&(_e=he=0),{current:_e,total:he}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(le,ue=!1){var _e,he;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:le,previous:ue,matchesCount:this._requestMatchesCount(),rawQuery:null!=(he=null==(_e=this._state)?void 0:_e.query)?he:null})}}},(I,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CharacterType=void 0,d.getCharacterType=function b(v){return function g(v){return v<11904}(v)?function C(v){return 0==(65408&v)}(v)?function T(v){return 32===v||9===v||13===v||10===v}(v)?A.SPACE:function E(v){return v>=97&&v<=122||v>=65&&v<=90}(v)||function l(v){return v>=48&&v<=57}(v)||95===v?A.ALPHA_LETTER:A.PUNCT:function q(v){return 3584==(65408&v)}(v)?A.THAI_LETTER:160===v?A.SPACE:A.ALPHA_LETTER:function _(v){return v>=13312&&v<=40959||v>=63744&&v<=64255}(v)?A.HAN_LETTER:function H(v){return v>=12448&&v<=12543}(v)?A.KATAKANA_LETTER:function oe(v){return v>=12352&&v<=12447}(v)?A.HIRAGANA_LETTER:function O(v){return v>=65376&&v<=65439}(v)?A.HALFWIDTH_KATAKANA_LETTER:A.ALPHA_LETTER};const A={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};d.CharacterType=A},(I,d,A)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFHistory=void 0,d.isDestArraysEqual=O,d.isDestHashesEqual=oe;var g=A(6),C=A(17);function _(){return document.location.hash}function oe(q,b){return"string"==typeof q&&"string"==typeof b&&(q===b||(0,g.parseQueryString)(q).get("nameddest")===b)}function O(q,b){function v(K,x){if(typeof K!=typeof x||Array.isArray(K)||Array.isArray(x))return!1;if(null!==K&&"object"==typeof K&&null!==x){if(Object.keys(K).length!==Object.keys(x).length)return!1;for(const B in K)if(!v(K[B],x[B]))return!1;return!0}return K===x||Number.isNaN(K)&&Number.isNaN(x)}if(!Array.isArray(q)||!Array.isArray(b)||q.length!==b.length)return!1;for(let K=0,x=q.length;K<x;K++)if(!v(q[K],b[K]))return!1;return!0}d.PDFHistory=class H{constructor({linkService:b,eventBus:v}){this.linkService=b,this.eventBus=v,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",K=>{this._isViewerInPresentationMode=K.state!==g.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",K=>{this._isPagesLoaded=!!K.pagesCount},{once:!0})})}initialize({fingerprint:b,resetHistory:v=!1,updateUrl:K=!1}){if(!b||"string"!=typeof b)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const x=""!==this._fingerprint&&this._fingerprint!==b;this._fingerprint=b,this._updateUrl=!0===K,this._initialized=!0,this._bindEvents();const B=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=_(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(B,!0)||v){const{hash:L,page:G,rotation:ne}=this._parseCurrentHash(!0);return!L||x||v?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:L,page:G,rotation:ne},!0)}const V=B.destination;this._updateInternalState(V,B.uid,!0),void 0!==V.rotation&&(this._initialRotation=V.rotation),V.dest?(this._initialBookmark=JSON.stringify(V.dest),this._destination.page=null):V.hash?this._initialBookmark=V.hash:V.page&&(this._initialBookmark=`page=${V.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:b=null,explicitDest:v,pageNumber:K}){if(!this._initialized)return;if(b&&"string"!=typeof b)return void console.error(`PDFHistory.push: "${b}" is not a valid namedDest parameter.`);if(!Array.isArray(v))return void console.error(`PDFHistory.push: "${v}" is not a valid explicitDest parameter.`);if(!this._isValidPage(K)&&(null!==K||this._destination))return void console.error(`PDFHistory.push: "${K}" is not a valid pageNumber parameter.`);const x=b||JSON.stringify(v);if(!x)return;let B=!1;if(this._destination&&(oe(this._destination.hash,x)||O(this._destination.dest,v))){if(this._destination.page)return;B=!0}this._popStateInProgress&&!B||(this._pushOrReplaceState({dest:v,hash:x,page:K,rotation:this.linkService.rotation},B),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(b){var v;if(this._initialized){if(!this._isValidPage(b))return void console.error(`PDFHistory.pushPage: "${b}" is not a valid page number.`);(null==(v=this._destination)?void 0:v.page)!==b&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${b}`,page:b,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const b=window.history.state;this._isValidState(b)&&b.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const b=window.history.state;this._isValidState(b)&&b.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(b,v=!1){const K=v||!this._destination,x={fingerprint:this._fingerprint,uid:K?this._uid:this._uid+1,destination:b};let B;if(this._updateInternalState(b,x.uid),this._updateUrl&&(null==b?void 0:b.hash)){const V=document.location.href.split("#")[0];V.startsWith("file://")||(B=`${V}#${b.hash}`)}K?window.history.replaceState(x,"",B):window.history.pushState(x,"",B)}_tryPushCurrentPosition(b=!1){if(!this._position)return;let v=this._position;if(b&&(v=Object.assign(Object.create(null),this._position),v.temporary=!0),!this._destination)return void this._pushOrReplaceState(v);if(this._destination.temporary)return void this._pushOrReplaceState(v,!0);if(this._destination.hash===v.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let K=!1;if(this._destination.page>=v.first&&this._destination.page<=v.page){if(void 0!==this._destination.dest||!this._destination.first)return;K=!0}this._pushOrReplaceState(v,K)}_isValidPage(b){return Number.isInteger(b)&&b>0&&b<=this.linkService.pagesCount}_isValidState(b,v=!1){if(!b)return!1;if(b.fingerprint!==this._fingerprint){if(!v)return!1;{if("string"!=typeof b.fingerprint||b.fingerprint.length!==this._fingerprint.length)return!1;const[K]=performance.getEntriesByType("navigation");if("reload"!==(null==K?void 0:K.type))return!1}}return!(!Number.isInteger(b.uid)||b.uid<0||null===b.destination||"object"!=typeof b.destination)}_updateInternalState(b,v,K=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),K&&(null==b?void 0:b.temporary)&&delete b.temporary,this._destination=b,this._uid=v,this._maxUid=Math.max(this._maxUid,v),this._numPositionUpdates=0}_parseCurrentHash(b=!1){const v=unescape(_()).substring(1),K=(0,g.parseQueryString)(v),x=K.get("nameddest")||"";let B=0|K.get("page");return(!this._isValidPage(B)||b&&x.length>0)&&(B=null),{hash:v,page:B,rotation:this.linkService.rotation}}_updateViewarea({location:b}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${b.pageNumber}`:b.pdfOpenParams.substring(1),page:this.linkService.page,first:b.pageNumber,rotation:b.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:b}){const v=_(),K=this._currentHash!==v;if(this._currentHash=v,!b){this._uid++;const{hash:B,page:V,rotation:L}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:B,page:V,rotation:L},!0)}if(!this._isValidState(b))return;this._popStateInProgress=!0,K&&(this._blockHashChange++,(0,C.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const x=b.destination;this._updateInternalState(x,b.uid,!0),(0,g.isValidRotation)(x.rotation)&&(this.linkService.rotation=x.rotation),x.dest?this.linkService.goToDestination(x.dest):x.hash?this.linkService.setHash(x.hash):x.page&&(this.linkService.page=x.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(I,d,A)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFScriptingManager=void 0;var g=A(6),C=A(3);d.PDFScriptingManager=class E{constructor({eventBus:T,sandboxBundleSrc:_=null,scriptingFactory:H=null,docPropertiesLookup:oe=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=T,this._sandboxBundleSrc=_,this._scriptingFactory=H,this._docPropertiesLookup=oe,this._scriptingFactory||window.addEventListener("updatefromsandbox",O=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:O.detail})})}setViewer(T){this._pdfViewer=T}setDocument(T){var _=this;return i(function*(){var q;if(_._pdfDocument&&(yield _._destroyScripting()),_._pdfDocument=T,!T)return;const[H,oe,O]=yield Promise.all([T.getFieldObjects(),T.getCalculationOrderIds(),T.getJSActions()]);if(H||O){if(T===_._pdfDocument){try{_._scripting=_._createScripting()}catch(b){return console.error(`PDFScriptingManager.setDocument: "${null==b?void 0:b.message}".`),void(yield _._destroyScripting())}_._internalEvents.set("updatefromsandbox",b=>{(null==b?void 0:b.source)===window&&_._updateFromSandbox(b.detail)}),_._internalEvents.set("dispatcheventinsandbox",b=>{var v;null==(v=_._scripting)||v.dispatchEventInSandbox(b.detail)}),_._internalEvents.set("pagechanging",({pageNumber:b,previous:v})=>{b!==v&&(_._dispatchPageClose(v),_._dispatchPageOpen(b))}),_._internalEvents.set("pagerendered",({pageNumber:b})=>{!_._pageOpenPending.has(b)||b===_._pdfViewer.currentPageNumber&&_._dispatchPageOpen(b)}),_._internalEvents.set("pagesdestroy",function(){var b=i(function*(v){var K,x;yield _._dispatchPageClose(_._pdfViewer.currentPageNumber),yield null==(K=_._scripting)?void 0:K.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(x=_._closeCapability)||x.resolve()});return function(v){return b.apply(this,arguments)}}()),_._domEvents.set("mousedown",b=>{_._mouseState.isDown=!0}),_._domEvents.set("mouseup",b=>{_._mouseState.isDown=!1});for(const[b,v]of _._internalEvents)_._eventBus._on(b,v);for(const[b,v]of _._domEvents)window.addEventListener(b,v);try{const b=yield _._getDocProperties();if(T!==_._pdfDocument)return;yield _._scripting.createSandbox({objects:H,calculationOrder:oe,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Hs(Vs({},b),{actions:O})}),_._eventBus.dispatch("sandboxcreated",{source:_})}catch(b){return console.error(`PDFScriptingManager.setDocument: "${null==b?void 0:b.message}".`),void(yield _._destroyScripting())}yield null==(q=_._scripting)?void 0:q.dispatchEventInSandbox({id:"doc",name:"Open"}),yield _._dispatchPageOpen(_._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{T===_._pdfDocument&&(_._ready=!0)})}}else yield _._destroyScripting()})()}dispatchWillSave(T){var _=this;return i(function*(){var H;return null==(H=_._scripting)?void 0:H.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(T){var _=this;return i(function*(){var H;return null==(H=_._scripting)?void 0:H.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(T){var _=this;return i(function*(){var H;return null==(H=_._scripting)?void 0:H.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(T){var _=this;return i(function*(){var H;return null==(H=_._scripting)?void 0:H.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var T;return(null==(T=this._destroyCapability)?void 0:T.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,C.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,C.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,C.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,C.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(T){var _=this;return i(function*(){var K;const H=_._pdfViewer.isInPresentationMode||_._pdfViewer.isChangingPresentationMode,{id:oe,siblings:O,command:q,value:b}=T;if(!oe){switch(q){case"clear":console.clear();break;case"error":console.error(b);break;case"layout":if(H)return;const x=(0,g.apiPageLayoutToViewerModes)(b);_._pdfViewer.spreadMode=x.spreadMode;break;case"page-num":_._pdfViewer.currentPageNumber=b+1;break;case"print":yield _._pdfViewer.pagesPromise,_._eventBus.dispatch("print",{source:_});break;case"println":console.log(b);break;case"zoom":if(H)return;_._pdfViewer.currentScaleValue=b;break;case"SaveAs":_._eventBus.dispatch("save",{source:_});break;case"FirstPage":_._pdfViewer.currentPageNumber=1;break;case"LastPage":_._pdfViewer.currentPageNumber=_._pdfViewer.pagesCount;break;case"NextPage":_._pdfViewer.nextPage();break;case"PrevPage":_._pdfViewer.previousPage();break;case"ZoomViewIn":if(H)return;_._pdfViewer.increaseScale();break;case"ZoomViewOut":if(H)return;_._pdfViewer.decreaseScale()}return}if(H&&T.focus)return;delete T.id,delete T.siblings;const v=O?[oe,...O]:[oe];for(const x of v){const B=document.getElementById(x);B?B.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:T})):null==(K=_._pdfDocument)||K.annotationStorage.setValue(x,T)}})()}_dispatchPageOpen(T,_=!1){var H=this;return i(function*(){const oe=H._pdfDocument,O=H._visitedPages;if(_&&(H._closeCapability=(0,C.createPromiseCapability)()),!H._closeCapability)return;const q=H._pdfViewer.getPageView(T-1);if((null==q?void 0:q.renderingState)!==g.RenderingStates.FINISHED)return void H._pageOpenPending.add(T);H._pageOpenPending.delete(T);const b=i(function*(){var K,x;const v=yield O.has(T)?null:null==(K=q.pdfPage)?void 0:K.getJSActions();oe===H._pdfDocument&&(yield null==(x=H._scripting)?void 0:x.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:T,actions:v}))})();O.set(T,b)})()}_dispatchPageClose(T){var _=this;return i(function*(){var q;const H=_._pdfDocument,oe=_._visitedPages;if(!_._closeCapability||_._pageOpenPending.has(T))return;const O=oe.get(T);!O||(oe.set(T,null),yield O,H===_._pdfDocument&&(yield null==(q=_._scripting)?void 0:q.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:T})))})()}_getDocProperties(){var T=this;return i(function*(){if(T._docPropertiesLookup)return T._docPropertiesLookup(T._pdfDocument);const{docPropertiesLookup:_}=A(24);return _(T._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,C.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:T}=A(24);return new T(this._sandboxBundleSrc)}_destroyScripting(){var T=this;return i(function*(){var _,H;if(!T._scripting)return T._pdfDocument=null,void(null==(_=T._destroyCapability)||_.resolve());T._closeCapability&&(yield Promise.race([T._closeCapability.promise,new Promise(oe=>{setTimeout(oe,1e3)})]).catch(oe=>{}),T._closeCapability=null),T._pdfDocument=null;try{yield T._scripting.destroySandbox()}catch(oe){}for(const[oe,O]of T._internalEvents)T._eventBus._off(oe,O);T._internalEvents.clear();for(const[oe,O]of T._domEvents)window.removeEventListener(oe,O);T._domEvents.clear(),T._pageOpenPending.clear(),T._visitedPages.clear(),T._scripting=null,delete T._mouseState.isDown,T._ready=!1,null==(H=T._destroyCapability)||H.resolve()})()}}},(I,d,A)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GenericScripting=void 0,d.docPropertiesLookup=function C(T){return E.apply(this,arguments)};var g=A(3);function E(){return(E=i(function*(T){const H="".split("#")[0];let{info:oe,metadata:O,contentDispositionFilename:q,contentLength:b}=yield T.getMetadata();if(!b){const{length:v}=yield T.getDownloadInfo();b=v}return Hs(Vs({},oe),{baseURL:H,filesize:b,filename:q||(0,g.getPdfFilenameFromUrl)(""),metadata:null==O?void 0:O.getRaw(),authors:null==O?void 0:O.get("dc:creator"),numPages:T.numPages,URL:""})})).apply(this,arguments)}d.GenericScripting=class l{constructor(_){this._ready=(0,g.loadScript)(_,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(_){var H=this;return i(function*(){(yield H._ready).create(_)})()}dispatchEventInSandbox(_){var H=this;return i(function*(){const oe=yield H._ready;setTimeout(()=>oe.dispatchEvent(_),0)})()}destroySandbox(){var _=this;return i(function*(){(yield _._ready).nukeSandbox()})()}}}],ie={};function M(I){var d=ie[I];if(void 0!==d)return d.exports;var A=ie[I]={exports:{}};return xe[I](A,A.exports,M),A.exports}var f={};return(()=>{var I=f;Object.defineProperty(I,"__esModule",{value:!0}),Object.defineProperty(I,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return E.AnnotationLayerBuilder}}),Object.defineProperty(I,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return d.DefaultAnnotationLayerFactory}}),Object.defineProperty(I,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return d.DefaultStructTreeLayerFactory}}),Object.defineProperty(I,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return d.DefaultTextLayerFactory}}),Object.defineProperty(I,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return d.DefaultXfaLayerFactory}}),Object.defineProperty(I,"DownloadManager",{enumerable:!0,get:function(){return l.DownloadManager}}),Object.defineProperty(I,"EventBus",{enumerable:!0,get:function(){return T.EventBus}}),Object.defineProperty(I,"GenericL10n",{enumerable:!0,get:function(){return _.GenericL10n}}),Object.defineProperty(I,"LinkTarget",{enumerable:!0,get:function(){return A.LinkTarget}}),Object.defineProperty(I,"NullL10n",{enumerable:!0,get:function(){return H.NullL10n}}),Object.defineProperty(I,"PDFFindController",{enumerable:!0,get:function(){return oe.PDFFindController}}),Object.defineProperty(I,"PDFHistory",{enumerable:!0,get:function(){return O.PDFHistory}}),Object.defineProperty(I,"PDFLinkService",{enumerable:!0,get:function(){return A.PDFLinkService}}),Object.defineProperty(I,"PDFPageView",{enumerable:!0,get:function(){return q.PDFPageView}}),Object.defineProperty(I,"PDFScriptingManager",{enumerable:!0,get:function(){return b.PDFScriptingManager}}),Object.defineProperty(I,"PDFSinglePageViewer",{enumerable:!0,get:function(){return C.PDFSinglePageViewer}}),Object.defineProperty(I,"PDFViewer",{enumerable:!0,get:function(){return C.PDFViewer}}),Object.defineProperty(I,"ProgressBar",{enumerable:!0,get:function(){return g.ProgressBar}}),Object.defineProperty(I,"SimpleLinkService",{enumerable:!0,get:function(){return A.SimpleLinkService}}),Object.defineProperty(I,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return v.StructTreeLayerBuilder}}),Object.defineProperty(I,"TextLayerBuilder",{enumerable:!0,get:function(){return K.TextLayerBuilder}}),Object.defineProperty(I,"XfaLayerBuilder",{enumerable:!0,get:function(){return x.XfaLayerBuilder}}),Object.defineProperty(I,"parseQueryString",{enumerable:!0,get:function(){return g.parseQueryString}});var d=M(1),A=M(5),g=M(6),C=M(10),E=M(2),l=M(16),T=M(17),_=M(18),H=M(4),oe=M(20),O=M(22),q=M(12),b=M(23),v=M(7),K=M(8),x=M(9)})(),f})()},8926:Xe=>{function de(i,xe,ie,M,f,I,d){try{var A=i[I](d),g=A.value}catch(C){return void ie(C)}A.done?xe(g):Promise.resolve(g).then(M,f)}Xe.exports=function ce(i){return function(){var xe=this,ie=arguments;return new Promise(function(M,f){var I=i.apply(xe,ie);function d(g){de(I,M,f,d,A,"next",g)}function A(g){de(I,M,f,d,A,"throw",g)}d(void 0)})}},Xe.exports.__esModule=!0,Xe.exports.default=Xe.exports},341:(Xe,de,ce)=>{"use strict";function f(L,G,ne,le){var he,ue=arguments.length,_e=ue<3?G:null===le?le=Object.getOwnPropertyDescriptor(G,ne):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_e=Reflect.decorate(L,G,ne,le);else for(var Ce=L.length-1;Ce>=0;Ce--)(he=L[Ce])&&(_e=(ue<3?he(_e):ue>3?he(G,ne,_e):he(G,ne))||_e);return ue>3&&_e&&Object.defineProperty(G,ne,_e),_e}function d(L,G){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(L,G)}ce.d(de,{gn:()=>f,w6:()=>d})},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},9814:(Xe,de,ce)=>{"use strict";ce.d(de,{Fk:()=>B,U0:()=>x,VQ:()=>q});var i=ce(5e3),xe=ce(508),ie=ce(3191),M=ce(3075),f=ce(6360),I=ce(5664),d=ce(449);const A=["input"],g=function(V){return{enterDuration:V}},C=["*"],E=new i.OlP("mat-radio-default-options",{providedIn:"root",factory:function l(){return{color:"accent"}}});let T=0;const _={provide:M.JU,useExisting:(0,i.Gpc)(()=>q),multi:!0};class H{constructor(L,G){this.source=L,this.value=G}}const oe=new i.OlP("MatRadioGroup");let O=(()=>{class V{constructor(G){this._changeDetector=G,this._value=null,this._name="mat-radio-group-"+T++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new i.vpe}get name(){return this._name}set name(G){this._name=G,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(G){this._labelPosition="before"===G?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(G){this._value!==G&&(this._value=G,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(G){this._selected=G,this.value=G?G.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(G){this._disabled=(0,ie.Ig)(G),this._markRadiosForCheck()}get required(){return this._required}set required(G){this._required=(0,ie.Ig)(G),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(G=>{G.name=this.name,G._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(ne=>{ne.checked=this.value===ne.value,ne.checked&&(this._selected=ne)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new H(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(G=>G._markForCheck())}writeValue(G){this.value=G,this._changeDetector.markForCheck()}registerOnChange(G){this._controlValueAccessorChangeFn=G}registerOnTouched(G){this.onTouched=G}setDisabledState(G){this.disabled=G,this._changeDetector.markForCheck()}}return V.\u0275fac=function(G){return new(G||V)(i.Y36(i.sBO))},V.\u0275dir=i.lG2({type:V,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),V})(),q=(()=>{class V extends O{}return V.\u0275fac=function(){let L;return function(ne){return(L||(L=i.n5z(V)))(ne||V)}}(),V.\u0275dir=i.lG2({type:V,selectors:[["mat-radio-group"]],contentQueries:function(G,ne,le){if(1&G&&i.Suo(le,x,5),2&G){let ue;i.iGM(ue=i.CRH())&&(ne._radios=ue)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[i._Bn([_,{provide:oe,useExisting:V}]),i.qOj]}),V})();class b{constructor(L){this._elementRef=L}}const v=(0,xe.Kr)((0,xe.sb)(b));let K=(()=>{class V extends v{constructor(G,ne,le,ue,_e,he,Ce,ee){super(ne),this._changeDetector=le,this._focusMonitor=ue,this._radioDispatcher=_e,this._providerOverride=Ce,this._uniqueId="mat-radio-"+ ++T,this.id=this._uniqueId,this.change=new i.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=G,this._noopAnimations="NoopAnimations"===he,ee&&(this.tabIndex=(0,ie.su)(ee,0)),this._removeUniqueSelectionListener=_e.listen((F,R)=>{F!==this.id&&R===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(G){const ne=(0,ie.Ig)(G);this._checked!==ne&&(this._checked=ne,ne&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!ne&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),ne&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(G){this._value!==G&&(this._value=G,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===G),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(G){this._labelPosition=G}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(G){this._setDisabled((0,ie.Ig)(G))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(G){this._required=(0,ie.Ig)(G)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(G){this._color=G}get inputId(){return`${this.id||this._uniqueId}-input`}focus(G,ne){ne?this._focusMonitor.focusVia(this._inputElement,ne,G):this._inputElement.nativeElement.focus(G)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(G=>{!G&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new H(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(G){G.stopPropagation()}_onInputInteraction(G){if(G.stopPropagation(),!this.checked&&!this.disabled){const ne=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),ne&&this.radioGroup._emitChangeEvent())}}_setDisabled(G){this._disabled!==G&&(this._disabled=G,this._changeDetector.markForCheck())}_updateTabIndex(){var G;const ne=this.radioGroup;let le;if(le=ne&&ne.selected&&!this.disabled?ne.selected===this?this.tabIndex:-1:this.tabIndex,le!==this._previousTabIndex){const ue=null===(G=this._inputElement)||void 0===G?void 0:G.nativeElement;ue&&(ue.setAttribute("tabindex",le+""),this._previousTabIndex=le)}}}return V.\u0275fac=function(G){i.$Z()},V.\u0275dir=i.lG2({type:V,viewQuery:function(G,ne){if(1&G&&i.Gf(A,5),2&G){let le;i.iGM(le=i.CRH())&&(ne._inputElement=le.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[i.qOj]}),V})(),x=(()=>{class V extends K{constructor(G,ne,le,ue,_e,he,Ce,ee){super(G,ne,le,ue,_e,he,Ce,ee)}}return V.\u0275fac=function(G){return new(G||V)(i.Y36(oe,8),i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(I.tE),i.Y36(d.A8),i.Y36(f.Qb,8),i.Y36(E,8),i.$8M("tabindex"))},V.\u0275cmp=i.Xpm({type:V,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(G,ne){1&G&&i.NdJ("focus",function(){return ne._inputElement.nativeElement.focus()}),2&G&&(i.uIk("tabindex",null)("id",ne.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),i.ekj("mat-radio-checked",ne.checked)("mat-radio-disabled",ne.disabled)("_mat-animation-noopable",ne._noopAnimations)("mat-primary","primary"===ne.color)("mat-accent","accent"===ne.color)("mat-warn","warn"===ne.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[i.qOj],ngContentSelectors:C,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(G,ne){if(1&G&&(i.F$t(),i.TgZ(0,"label",0,1)(2,"span",2),i._UZ(3,"span",3)(4,"span",4),i.TgZ(5,"input",5,6),i.NdJ("change",function(ue){return ne._onInputInteraction(ue)})("click",function(ue){return ne._onInputClick(ue)}),i.qZA(),i.TgZ(7,"span",7),i._UZ(8,"span",8),i.qZA()(),i.TgZ(9,"span",9)(10,"span",10),i._uU(11,"\xa0"),i.qZA(),i.Hsn(12),i.qZA()()),2&G){const le=i.MAs(1);i.uIk("for",ne.inputId),i.xp6(5),i.Q6J("id",ne.inputId)("checked",ne.checked)("disabled",ne.disabled)("required",ne.required),i.uIk("name",ne.name)("value",ne.value)("aria-label",ne.ariaLabel)("aria-labelledby",ne.ariaLabelledby)("aria-describedby",ne.ariaDescribedby),i.xp6(2),i.Q6J("matRippleTrigger",le)("matRippleDisabled",ne._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",i.VKq(17,g,ne._noopAnimations?0:150)),i.xp6(2),i.ekj("mat-radio-label-before","before"==ne.labelPosition)}},directives:[xe.wG],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),V})(),B=(()=>{class V{}return V.\u0275fac=function(G){return new(G||V)},V.\u0275mod=i.oAB({type:V}),V.\u0275inj=i.cJS({imports:[[xe.si,xe.BQ],xe.BQ]}),V})()},2490:(Xe,de,ce)=>{"use strict";var i,xe;ce.d(de,{rQ:()=>q,xC:()=>b});var ie=ce(5e3),M=ce(4968),f=ce(7579),I=ce(2076),d=ce(2722),A=ce(8372),g=ce(9300),C=ce(6036),E=ce(2813);const l=["pdfViewerContainer"];function T(v,K){const x=new v.EventBus;return function _(v,K){(0,M.R)(v,"documentload").pipe((0,d.R)(K)).subscribe(()=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(x)}),(0,M.R)(v,"pagerendered").pipe((0,d.R)(K)).subscribe(({pageNumber:x,cssTransform:B,source:V})=>{const L=document.createEvent("CustomEvent");L.initCustomEvent("pagerendered",!0,!0,{pageNumber:x,cssTransform:B}),V.div.dispatchEvent(L)}),(0,M.R)(v,"textlayerrendered").pipe((0,d.R)(K)).subscribe(({pageNumber:x,source:B})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:x}),B.textLayerDiv.dispatchEvent(V)}),(0,M.R)(v,"pagechanging").pipe((0,d.R)(K)).subscribe(({pageNumber:x,source:B})=>{const V=document.createEvent("UIEvents");V.initEvent("pagechanging",!0,!0),V.pageNumber=x,B.container.dispatchEvent(V)}),(0,M.R)(v,"pagesinit").pipe((0,d.R)(K)).subscribe(({source:x})=>{const B=document.createEvent("CustomEvent");B.initCustomEvent("pagesinit",!0,!0,null),x.container.dispatchEvent(B)}),(0,M.R)(v,"pagesloaded").pipe((0,d.R)(K)).subscribe(({pagesCount:x,source:B})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("pagesloaded",!0,!0,{pagesCount:x}),B.container.dispatchEvent(V)}),(0,M.R)(v,"scalechange").pipe((0,d.R)(K)).subscribe(({scale:x,presetValue:B,source:V})=>{const L=document.createEvent("UIEvents");L.initEvent("scalechange",!0,!0),L.scale=x,L.presetValue=B,V.container.dispatchEvent(L)}),(0,M.R)(v,"updateviewarea").pipe((0,d.R)(K)).subscribe(({location:x,source:B})=>{const V=document.createEvent("UIEvents");V.initEvent("updateviewarea",!0,!0),V.location=x,B.container.dispatchEvent(V)}),(0,M.R)(v,"find").pipe((0,d.R)(K)).subscribe(({source:x,type:B,query:V,phraseSearch:L,caseSensitive:G,highlightAll:ne,findPrevious:le})=>{if(x===window)return;const ue=document.createEvent("CustomEvent");ue.initCustomEvent("find"+B,!0,!0,{query:V,phraseSearch:L,caseSensitive:G,highlightAll:ne,findPrevious:le}),window.dispatchEvent(ue)}),(0,M.R)(v,"attachmentsloaded").pipe((0,d.R)(K)).subscribe(({attachmentsCount:x,source:B})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:x}),B.container.dispatchEvent(V)}),(0,M.R)(v,"sidebarviewchanged").pipe((0,d.R)(K)).subscribe(({view:x,source:B})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("sidebarviewchanged",!0,!0,{view:x}),B.outerContainer.dispatchEvent(V)}),(0,M.R)(v,"pagemode").pipe((0,d.R)(K)).subscribe(({mode:x,source:B})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("pagemode",!0,!0,{mode:x}),B.pdfViewer.container.dispatchEvent(V)}),(0,M.R)(v,"namedaction").pipe((0,d.R)(K)).subscribe(({action:x,source:B})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("namedaction",!0,!0,{action:x}),B.pdfViewer.container.dispatchEvent(V)}),(0,M.R)(v,"presentationmodechanged").pipe((0,d.R)(K)).subscribe(({active:x,switchInProgress:B})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("presentationmodechanged",!0,!0,{active:x,switchInProgress:B}),window.dispatchEvent(V)}),(0,M.R)(v,"outlineloaded").pipe((0,d.R)(K)).subscribe(({outlineCount:x,source:B})=>{const V=document.createEvent("CustomEvent");V.initCustomEvent("outlineloaded",!0,!0,{outlineCount:x}),B.container.dispatchEvent(V)})}(x,K),x}function H(v,K,x){v[K]=x}function oe(){return"undefined"==typeof window}oe()||H(i||(i=ce.t(C,2)),"verbosity",C.VerbosityLevel.INFOS);var O=(()=>{return(v=O||(O={}))[v.DISABLED=0]="DISABLED",v[v.ENABLED=1]="ENABLED",v[v.ENHANCED=2]="ENHANCED",O;var v})();let q=(()=>{class v{constructor(x,B){if(this.element=x,this.ngZone=B,this.isVisible=!1,this._cMapsUrl=void 0!==(i||(i=ce.t(C,2)))?`https://unpkg.com/pdfjs-dist@${C.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=O.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new f.x,this.afterLoadComplete=new ie.vpe,this.pageRendered=new ie.vpe,this.pageInitialized=new ie.vpe,this.textLayerRendered=new ie.vpe,this.onError=new ie.vpe,this.onProgress=new ie.vpe,this.pageChange=new ie.vpe(!0),oe())return;let V;V=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${C.version}/legacy/build/pdf.worker.min.js`,H(C.GlobalWorkerOptions,"workerSrc",V)}set cMapsUrl(x){this._cMapsUrl=x}set page(x){const B=x=parseInt(x,10)||1;this._pdf&&(x=this.getValidPageNumber(x)),this._page=x,B!==x&&this.pageChange.emit(x)}set renderText(x){this._renderText=x}set renderTextMode(x){this._renderTextMode=x}set originalSize(x){this._originalSize=x}set showAll(x){this._showAll=x}set stickToPage(x){this._stickToPage=x}set zoom(x){x<=0||(this._zoom=x)}get zoom(){return this._zoom}set zoomScale(x){this._zoomScale=x}get zoomScale(){return this._zoomScale}set rotation(x){"number"==typeof x&&x%90==0?this._rotation=x:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(x){this._externalLinkTarget=x}set autoresize(x){this._canAutoResize=Boolean(x)}set fitToPage(x){this._fitToPage=Boolean(x)}set showBorders(x){this._showBorders=Boolean(x)}static getLinkTarget(x){switch(x){case"blank":return E.LinkTarget.BLANK;case"none":return E.LinkTarget.NONE;case"self":return E.LinkTarget.SELF;case"parent":return E.LinkTarget.PARENT;case"top":return E.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const x=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=x?!1===this.isVisible&&null!=x&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(x){if(!oe()&&this.isVisible)if("src"in x)this.loadPDF();else if(this._pdf){if("renderText"in x?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:O.DISABLED,this.resetPdfDocument()):"showAll"in x&&this.resetPdfDocument(),"page"in x){const{page:B}=x;if(B.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const x=this.getCurrentViewer();(0,I.D)(this._pdf.getPage(x.currentPageNumber)).pipe((0,d.R)(this.destroy$)).subscribe({next:B=>{const V=this._rotation||B.rotate,L=B.getViewport({scale:this._zoom,rotation:V}).width*v.CSS_UNITS;let G=this._zoom,ne=!0;if(!this._originalSize||this._fitToPage&&L>this.pdfViewerContainer.nativeElement.clientWidth){const le=B.getViewport({scale:1,rotation:V});G=this.getScale(le.width,le.height),ne=!this._stickToPage}x._setScale(G,ne)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const x={},B=v.getLinkTarget(this._externalLinkTarget);return B&&(x.externalLinkTarget=B),x}setupMultiPageViewer(){H(i||(i=ce.t(C,2)),"disableTextLayer",!this._renderText);const x=T(xe||(xe=ce.t(E,2)),this.destroy$);(0,M.R)(x,"pagerendered").pipe((0,d.R)(this.destroy$)).subscribe(V=>{this.pageRendered.emit(V)}),(0,M.R)(x,"pagesinit").pipe((0,d.R)(this.destroy$)).subscribe(V=>{this.pageInitialized.emit(V)}),(0,M.R)(x,"pagechanging").pipe((0,d.R)(this.destroy$)).subscribe(({pageNumber:V})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=V,this.pageChange.emit(V)},100)}),(0,M.R)(x,"textlayerrendered").pipe((0,d.R)(this.destroy$)).subscribe(V=>{this.textLayerRendered.emit(V)}),this.pdfMultiPageLinkService=new E.PDFLinkService(Object.assign({eventBus:x},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new E.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:x});const B={eventBus:x,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:O.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new E.PDFViewer(B),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){H(i||(i=ce.t(C,2)),"disableTextLayer",!this._renderText);const x=T(xe||(xe=ce.t(E,2)),this.destroy$);(0,M.R)(x,"pagechanging").pipe((0,d.R)(this.destroy$)).subscribe(({pageNumber:V})=>{V!==this._page&&(this.page=V)}),(0,M.R)(x,"pagerendered").pipe((0,d.R)(this.destroy$)).subscribe(V=>{this.pageRendered.emit(V)}),(0,M.R)(x,"pagesinit").pipe((0,d.R)(this.destroy$)).subscribe(V=>{this.pageInitialized.emit(V)}),(0,M.R)(x,"textlayerrendered").pipe((0,d.R)(this.destroy$)).subscribe(V=>{this.textLayerRendered.emit(V)}),this.pdfSinglePageLinkService=new E.PDFLinkService(Object.assign({eventBus:x},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new E.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:x});const B={eventBus:x,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:O.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new E.PDFSinglePageViewer(B),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(x){return x<1?1:x>this._pdf.numPages?this._pdf.numPages:x}getDocumentParams(){const x=typeof this.src;if(!this._cMapsUrl)return this.src;const B={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===x?B.url=this.src:"object"===x&&(void 0!==this.src.byteLength?B.data=this.src:Object.assign(B,this.src)),B}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=C.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=B=>{this.onProgress.emit(B)};const x=this.src;(0,I.D)(this.loadingTask.promise).pipe((0,d.R)(this.destroy$)).subscribe({next:B=>{this._pdf=B,this.lastLoaded=x,this.afterLoadComplete.emit(B),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:B=>{this.lastLoaded=null,this.onError.emit(B)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const x=this.getCurrentViewer();(0!==this._rotation||x.pagesRotation!==this._rotation)&&setTimeout(()=>{x.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{x.currentPageNumber=this._page}),this.updateSize()}getScale(x,B){const V=this._showBorders?2*v.BORDER_WIDTH:0,L=this.pdfViewerContainer.nativeElement.clientWidth-V,G=this.pdfViewerContainer.nativeElement.clientHeight-V;if(0===G||0===B||0===L||0===x)return 1;let ne=1;switch(this._zoomScale){case"page-fit":ne=Math.min(G/B,L/x);break;case"page-height":ne=G/B;break;default:ne=L/x}return this._zoom*ne/v.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){oe()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){oe()||this.ngZone.runOutsideAngular(()=>{(0,M.R)(window,"resize").pipe((0,A.b)(100),(0,g.h)(()=>this._canAutoResize&&!!this._pdf),(0,d.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return v.CSS_UNITS=96/72,v.BORDER_WIDTH=9,v.\u0275fac=function(x){return new(x||v)(ie.Y36(ie.SBq),ie.Y36(ie.R0b))},v.\u0275cmp=ie.Xpm({type:v,selectors:[["pdf-viewer"]],viewQuery:function(x,B){if(1&x&&ie.Gf(l,5),2&x){let V;ie.iGM(V=ie.CRH())&&(B.pdfViewerContainer=V.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[ie.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(x,B){1&x&&(ie.TgZ(0,"div",0,1),ie._UZ(2,"div",2),ie.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),v})(),b=(()=>{class v{}return v.\u0275fac=function(x){return new(x||v)},v.\u0275mod=ie.oAB({type:v}),v.\u0275inj=ie.cJS({}),v})()},9783:(Xe,de,ce)=>{"use strict";ce.d(de,{F0:()=>_,Lk:()=>l,a6:()=>I,b4:()=>d,iZ:()=>E,jx:()=>b,m8:()=>v,pg:()=>oe,ws:()=>A});var i=ce(5e3),xe=ce(7579),ie=ce(5921),M=ce(9808);let I=(()=>{class x{}return x.STARTS_WITH="startsWith",x.CONTAINS="contains",x.NOT_CONTAINS="notContains",x.ENDS_WITH="endsWith",x.EQUALS="equals",x.NOT_EQUALS="notEquals",x.IN="in",x.LESS_THAN="lt",x.LESS_THAN_OR_EQUAL_TO="lte",x.GREATER_THAN="gt",x.GREATER_THAN_OR_EQUAL_TO="gte",x.BETWEEN="between",x.IS="is",x.IS_NOT="isNot",x.BEFORE="before",x.AFTER="after",x.DATE_IS="dateIs",x.DATE_IS_NOT="dateIsNot",x.DATE_BEFORE="dateBefore",x.DATE_AFTER="dateAfter",x})(),d=(()=>{class x{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[I.STARTS_WITH,I.CONTAINS,I.NOT_CONTAINS,I.ENDS_WITH,I.EQUALS,I.NOT_EQUALS],numeric:[I.EQUALS,I.NOT_EQUALS,I.LESS_THAN,I.LESS_THAN_OR_EQUAL_TO,I.GREATER_THAN,I.GREATER_THAN_OR_EQUAL_TO],date:[I.DATE_IS,I.DATE_IS_NOT,I.DATE_BEFORE,I.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new xe.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(V){return this.translation[V]}setTranslation(V){this.translation=Object.assign(Object.assign({},this.translation),V),this.translationSource.next(this.translation)}}return x.\u0275fac=function(V){return new(V||x)},x.\u0275prov=i.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),A=(()=>{class x{}return x.STARTS_WITH="startsWith",x.CONTAINS="contains",x.NOT_CONTAINS="notContains",x.ENDS_WITH="endsWith",x.EQUALS="equals",x.NOT_EQUALS="notEquals",x.NO_FILTER="noFilter",x.LT="lt",x.LTE="lte",x.GT="gt",x.GTE="gte",x.IS="is",x.IS_NOT="isNot",x.BEFORE="before",x.AFTER="after",x.CLEAR="clear",x.APPLY="apply",x.MATCH_ALL="matchAll",x.MATCH_ANY="matchAny",x.ADD_RULE="addRule",x.REMOVE_RULE="removeRule",x.ACCEPT="accept",x.REJECT="reject",x.CHOOSE="choose",x.UPLOAD="upload",x.CANCEL="cancel",x.DAY_NAMES="dayNames",x.DAY_NAMES_SHORT="dayNamesShort",x.DAY_NAMES_MIN="dayNamesMin",x.MONTH_NAMES="monthNames",x.MONTH_NAMES_SHORT="monthNamesShort",x.FIRST_DAY_OF_WEEK="firstDayOfWeek",x.TODAY="today",x.WEEK_HEADER="weekHeader",x.WEAK="weak",x.MEDIUM="medium",x.STRONG="strong",x.PASSWORD_PROMPT="passwordPrompt",x.EMPTY_MESSAGE="emptyMessage",x.EMPTY_FILTER_MESSAGE="emptyFilterMessage",x})(),E=(()=>{class x{constructor(){this.filters={startsWith:(V,L,G)=>{if(null==L||""===L.trim())return!0;if(null==V)return!1;let ne=ie.gb.removeAccents(L.toString()).toLocaleLowerCase(G);return ie.gb.removeAccents(V.toString()).toLocaleLowerCase(G).slice(0,ne.length)===ne},contains:(V,L,G)=>{if(null==L||"string"==typeof L&&""===L.trim())return!0;if(null==V)return!1;let ne=ie.gb.removeAccents(L.toString()).toLocaleLowerCase(G);return-1!==ie.gb.removeAccents(V.toString()).toLocaleLowerCase(G).indexOf(ne)},notContains:(V,L,G)=>{if(null==L||"string"==typeof L&&""===L.trim())return!0;if(null==V)return!1;let ne=ie.gb.removeAccents(L.toString()).toLocaleLowerCase(G);return-1===ie.gb.removeAccents(V.toString()).toLocaleLowerCase(G).indexOf(ne)},endsWith:(V,L,G)=>{if(null==L||""===L.trim())return!0;if(null==V)return!1;let ne=ie.gb.removeAccents(L.toString()).toLocaleLowerCase(G),le=ie.gb.removeAccents(V.toString()).toLocaleLowerCase(G);return-1!==le.indexOf(ne,le.length-ne.length)},equals:(V,L,G)=>null==L||"string"==typeof L&&""===L.trim()||null!=V&&(V.getTime&&L.getTime?V.getTime()===L.getTime():ie.gb.removeAccents(V.toString()).toLocaleLowerCase(G)==ie.gb.removeAccents(L.toString()).toLocaleLowerCase(G)),notEquals:(V,L,G)=>!(null==L||"string"==typeof L&&""===L.trim()||null!=V&&(V.getTime&&L.getTime?V.getTime()===L.getTime():ie.gb.removeAccents(V.toString()).toLocaleLowerCase(G)==ie.gb.removeAccents(L.toString()).toLocaleLowerCase(G))),in:(V,L)=>{if(null==L||0===L.length)return!0;for(let G=0;G<L.length;G++)if(ie.gb.equals(V,L[G]))return!0;return!1},between:(V,L)=>null==L||null==L[0]||null==L[1]||null!=V&&(V.getTime?L[0].getTime()<=V.getTime()&&V.getTime()<=L[1].getTime():L[0]<=V&&V<=L[1]),lt:(V,L,G)=>null==L||null!=V&&(V.getTime&&L.getTime?V.getTime()<L.getTime():V<L),lte:(V,L,G)=>null==L||null!=V&&(V.getTime&&L.getTime?V.getTime()<=L.getTime():V<=L),gt:(V,L,G)=>null==L||null!=V&&(V.getTime&&L.getTime?V.getTime()>L.getTime():V>L),gte:(V,L,G)=>null==L||null!=V&&(V.getTime&&L.getTime?V.getTime()>=L.getTime():V>=L),is:(V,L,G)=>this.filters.equals(V,L,G),isNot:(V,L,G)=>this.filters.notEquals(V,L,G),before:(V,L,G)=>this.filters.lt(V,L,G),after:(V,L,G)=>this.filters.gt(V,L,G),dateIs:(V,L)=>null==L||null!=V&&V.toDateString()===L.toDateString(),dateIsNot:(V,L)=>null==L||null!=V&&V.toDateString()!==L.toDateString(),dateBefore:(V,L)=>null==L||null!=V&&V.getTime()<L.getTime(),dateAfter:(V,L)=>null==L||null!=V&&V.getTime()>L.getTime()}}filter(V,L,G,ne,le){let ue=[];if(V)for(let _e of V)for(let he of L){let Ce=ie.gb.resolveFieldData(_e,he);if(this.filters[ne](Ce,G,le)){ue.push(_e);break}}return ue}register(V,L){this.filters[V]=L}}return x.\u0275fac=function(V){return new(V||x)},x.\u0275prov=i.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),l=(()=>{class x{constructor(){this.activeItemKeyChange=new xe.x,this.activeItemKeyChange$=this.activeItemKeyChange.asObservable()}changeKey(V){this.activeItemKey=V,this.activeItemKeyChange.next(this.activeItemKey)}reset(){this.activeItemKey=null,this.activeItemKeyChange.next(this.activeItemKey)}}return x.\u0275fac=function(V){return new(V||x)},x.\u0275prov=i.Yz7({token:x,factory:x.\u0275fac}),x})(),_=(()=>{class x{constructor(){this.clickSource=new xe.x,this.clickObservable=this.clickSource.asObservable()}add(V){V&&this.clickSource.next(V)}}return x.\u0275fac=function(V){return new(V||x)},x.\u0275prov=i.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),oe=(()=>{class x{}return x.AND="and",x.OR="or",x})(),b=(()=>{class x{constructor(V){this.template=V}getType(){return this.name}}return x.\u0275fac=function(V){return new(V||x)(i.Y36(i.Rgc))},x.\u0275dir=i.lG2({type:x,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),x})(),v=(()=>{class x{}return x.\u0275fac=function(V){return new(V||x)},x.\u0275mod=i.oAB({type:x}),x.\u0275inj=i.cJS({imports:[[M.ez]]}),x})()},845:(Xe,de,ce)=>{"use strict";ce.d(de,{Hq:()=>l,hJ:()=>_});var i=ce(5e3),xe=ce(5730),ie=ce(9808),M=ce(5787);let l=(()=>{class H{constructor(O){this.el=O,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,xe.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let O=document.createElement("span");this.icon&&!this.label&&O.setAttribute("aria-hidden","true"),O.className="p-button-label",this.label?O.appendChild(document.createTextNode(this.label)):O.innerHTML="&nbsp;",this.el.nativeElement.appendChild(O),this.initialized=!0}getStyleClass(){let O="p-button p-component";return this.icon&&!this.label&&(O+=" p-button-icon-only"),this.loading&&(O+=" p-disabled p-button-loading",!this.icon&&this.label&&(O+=" p-button-loading-label-only")),O}setStyleClass(){let O=this.getStyleClass();this.el.nativeElement.className=O+" "+this._initialStyleClass}createIconEl(){let O=document.createElement("span");O.className="p-button-icon",O.setAttribute("aria-hidden","true");let q=this.label?"p-button-icon-"+this.iconPos:null;q&&xe.p.addClass(O,q);let b=this.getIconClass();b&&xe.p.addMultipleClasses(O,b);let v=xe.p.findSingle(this.el.nativeElement,".p-button-label");v?this.el.nativeElement.insertBefore(O,v):this.el.nativeElement.appendChild(O)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let O=xe.p.findSingle(this.el.nativeElement,".p-button-icon");O?O.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let O=xe.p.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(O)}get label(){return this._label}set label(O){this._label=O,this.initialized&&(xe.p.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(O){this._icon=O,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(O){this._loading=O,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return H.\u0275fac=function(O){return new(O||H)(i.Y36(i.SBq))},H.\u0275dir=i.lG2({type:H,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),H})(),_=(()=>{class H{}return H.\u0275fac=function(O){return new(O||H)},H.\u0275mod=i.oAB({type:H}),H.\u0275inj=i.cJS({imports:[[ie.ez,M.T]]}),H})()},1822:(Xe,de,ce)=>{"use strict";ce.d(de,{S:()=>ed,C:()=>Xc});var i=ce(5e3),xe=ce(9808);const M="undefined"==typeof window?function(n){return n()}:window.requestAnimationFrame;function f(n,t,e){const s=e||(a=>Array.prototype.slice.call(a));let r=!1,o=[];return function(...a){o=s(a),r||(r=!0,M.call(window,()=>{r=!1,n.apply(t,o)}))}}const d=n=>"start"===n?"left":"end"===n?"right":"center",A=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function C(){}const E=function(){let n=0;return function(){return n++}}();function l(n){return null==n}function T(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)}function _(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const H=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function oe(n,t){return H(n)?n:t}function O(n,t){return void 0===n?t:n}const b=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function v(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function K(n,t,e,s){let r,o,a;if(T(n))if(o=n.length,s)for(r=o-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<o;r++)t.call(e,n[r],r);else if(_(n))for(a=Object.keys(n),o=a.length,r=0;r<o;r++)t.call(e,n[a[r]],a[r])}function x(n,t){let e,s,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,s=n.length;e<s;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function B(n){if(T(n))return n.map(B);if(_(n)){const t=Object.create(null),e=Object.keys(n),s=e.length;let r=0;for(;r<s;++r)t[e[r]]=B(n[e[r]]);return t}return n}function V(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function L(n,t,e,s){if(!V(n))return;const r=t[n],o=e[n];_(r)&&_(o)?G(r,o,s):t[n]=B(o)}function G(n,t,e){const s=T(t)?t:[t],r=s.length;if(!_(n))return n;const o=(e=e||{}).merger||L;for(let a=0;a<r;++a){if(!_(t=s[a]))continue;const c=Object.keys(t);for(let h=0,w=c.length;h<w;++h)o(c[h],n,t,e)}return n}function ne(n,t){return G(n,t,{merger:le})}function le(n,t,e){if(!V(n))return;const s=t[n],r=e[n];_(s)&&_(r)?ne(s,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=B(r))}function Ce(n,t){const e=n.indexOf(".",t);return-1===e?n.length:e}function ee(n,t){if(""===t)return n;let e=0,s=Ce(t,e);for(;n&&s>e;)n=n[t.substr(e,s-e)],e=s+1,s=Ce(t,e);return n}function F(n){return n.charAt(0).toUpperCase()+n.slice(1)}const R=n=>void 0!==n,j=n=>"function"==typeof n,Y=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},m=Math.PI,U=2*m,se=U+m,ye=Number.POSITIVE_INFINITY,Z=m/180,we=m/2,ke=m/4,Ne=2*m/3,Fe=Math.log10,Ue=Math.sign;function rt(n){const t=Math.round(n);n=J(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Fe(n))),s=n/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function pt(n){return!isNaN(parseFloat(n))&&isFinite(n)}function J(n,t,e){return Math.abs(n-t)<e}function Be(n,t,e){let s,r,o;for(s=0,r=n.length;s<r;s++)o=n[s][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Me(n){return n*(m/180)}function Re(n){return n*(180/m)}function qe(n){if(!H(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function et(n,t){const e=t.x-n.x,s=t.y-n.y,r=Math.sqrt(e*e+s*s);let o=Math.atan2(s,e);return o<-.5*m&&(o+=U),{angle:o,distance:r}}function at(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function At(n,t){return(n-t+se)%U-m}function gt(n){return(n%U+U)%U}function Ze(n,t,e,s){const r=gt(n),o=gt(t),a=gt(e),c=gt(o-r),h=gt(a-r),w=gt(r-o),z=gt(r-a);return r===o||r===a||s&&o===a||c>h&&w<z}function ft(n,t,e){return Math.max(t,Math.min(e,n))}function St(n,t,e,s=1e-6){return n>=Math.min(t,e)-s&&n<=Math.max(t,e)+s}const wt=n=>0===n||1===n,si=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*U/e),Gt=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*U/e)+1,Ge={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*we),easeOutSine:n=>Math.sin(n*we),easeInOutSine:n=>-.5*(Math.cos(m*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>wt(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>wt(n)?n:si(n,.075,.3),easeOutElastic:n=>wt(n)?n:Gt(n,.075,.3),easeInOutElastic:n=>wt(n)?n:n<.5?.5*si(2*n,.1125,.45):.5+.5*Gt(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-Ge.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Ge.easeInBounce(2*n):.5*Ge.easeOutBounce(2*n-1)+.5},$={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},X="0123456789ABCDEF",be=n=>X[15&n],Ee=n=>X[(240&n)>>4]+X[15&n],Ye=n=>(240&n)>>4==(15&n);function Ht(n){return n+.5|0}const Wt=(n,t,e)=>Math.max(Math.min(n,e),t);function ui(n){return Wt(Ht(2.55*n),0,255)}function ai(n){return Wt(Ht(255*n),0,255)}function Oi(n){return Wt(Ht(n/2.55)/100,0,1)}function $t(n){return Wt(Ht(100*n),0,100)}const $i=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Si=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xi(n,t,e){const s=t*Math.min(e,1-e),r=(o,a=(o+n/30)%12)=>e-s*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function ti(n,t,e){const s=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function Ii(n,t,e){const s=xi(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)s[r]*=1-t-e,s[r]+=t;return s}function Ti(n){const e=n.r/255,s=n.g/255,r=n.b/255,o=Math.max(e,s,r),a=Math.min(e,s,r),c=(o+a)/2;let h,w,z;return o!==a&&(z=o-a,w=c>.5?z/(2-o-a):z/(o+a),h=o===e?(s-r)/z+(s<r?6:0):o===s?(r-e)/z+2:(e-s)/z+4,h=60*h+.5),[0|h,w||0,c]}function rn(n,t,e,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,s)).map(ai)}function on(n,t,e){return rn(xi,n,t,e)}function bn(n){return(n%360+360)%360}const P={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},fe={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let $e;function Dt(n,t,e){if(n){let s=Ti(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,0===t?360:1)),s=on(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function Ut(n,t){return n&&Object.assign(t||{},n)}function Hi(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ai(n[3]))):(t=Ut(n,{r:0,g:0,b:0,a:1})).a=ai(t.a),t}function Ui(n){return"r"===n.charAt(0)?function Di(n){const t=$i.exec(n);let s,r,o,e=255;if(t){if(t[7]!==s){const a=+t[7];e=255&(t[8]?ui(a):255*a)}return s=+t[1],r=+t[3],o=+t[5],s=255&(t[2]?ui(s):s),r=255&(t[4]?ui(r):r),o=255&(t[6]?ui(o):o),{r:s,g:r,b:o,a:e}}}(n):function In(n){const t=Si.exec(n);let s,e=255;if(!t)return;t[5]!==s&&(e=t[6]?ui(+t[5]):ai(+t[5]));const r=bn(+t[2]),o=+t[3]/100,a=+t[4]/100;return s="hwb"===t[1]?function Tn(n,t,e){return rn(Ii,n,t,e)}(r,o,a):"hsv"===t[1]?function Li(n,t,e){return rn(ti,n,t,e)}(r,o,a):on(r,o,a),{r:s[0],g:s[1],b:s[2],a:e}}(n)}class Fi{constructor(t){if(t instanceof Fi)return t;const e=typeof t;let s;"object"===e?s=Hi(t):"string"===e&&(s=function lt(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*$[n[1]],g:255&17*$[n[2]],b:255&17*$[n[3]],a:5===t?17*$[n[4]]:255}:(7===t||9===t)&&(e={r:$[n[1]]<<4|$[n[2]],g:$[n[3]]<<4|$[n[4]],b:$[n[5]]<<4|$[n[6]],a:9===t?$[n[7]]<<4|$[n[8]]:255})),e}(t)||function Pt(n){$e||($e=function ze(){const n={},t=Object.keys(fe),e=Object.keys(P);let s,r,o,a,c;for(s=0;s<t.length;s++){for(a=c=t[s],r=0;r<e.length;r++)o=e[r],c=c.replace(o,P[o]);o=parseInt(fe[a],16),n[c]=[o>>16&255,o>>8&255,255&o]}return n}(),$e.transparent=[0,0,0,0]);const t=$e[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||Ui(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=Ut(this._rgb);return t&&(t.a=Oi(t.a)),t}set rgb(t){this._rgb=Hi(t)}rgbString(){return this._valid?function yi(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Oi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):this._rgb}hexString(){return this._valid?function Tt(n){var t=function Qe(n){return Ye(n.r)&&Ye(n.g)&&Ye(n.b)&&Ye(n.a)}(n)?be:Ee;return n&&"#"+t(n.r)+t(n.g)+t(n.b)+(n.a<255?t(n.a):"")}(this._rgb):this._rgb}hslString(){return this._valid?function He(n){if(!n)return;const t=Ti(n),e=t[0],s=$t(t[1]),r=$t(t[2]);return n.a<255?`hsla(${e}, ${s}%, ${r}%, ${Oi(n.a)})`:`hsl(${e}, ${s}%, ${r}%)`}(this._rgb):this._rgb}mix(t,e){const s=this;if(t){const r=s.rgb,o=t.rgb;let a;const c=e===a?.5:e,h=2*c-1,w=r.a-o.a,z=((h*w==-1?h:(h+w)/(1+h*w))+1)/2;a=1-z,r.r=255&z*r.r+a*o.r+.5,r.g=255&z*r.g+a*o.g+.5,r.b=255&z*r.b+a*o.b+.5,r.a=c*r.a+(1-c)*o.a,s.rgb=r}return s}clone(){return new Fi(this.rgb)}alpha(t){return this._rgb.a=ai(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Ht(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Dt(this._rgb,2,t),this}darken(t){return Dt(this._rgb,2,-t),this}saturate(t){return Dt(this._rgb,1,t),this}desaturate(t){return Dt(this._rgb,1,-t),this}rotate(t){return function Se(n,t){var e=Ti(n);e[0]=bn(e[0]+t),e=on(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function an(n){return new Fi(n)}const _t=n=>n instanceof CanvasGradient||n instanceof CanvasPattern;function Ni(n){return _t(n)?n:an(n)}function ln(n){return _t(n)?n:an(n).saturate(.5).darken(.1).hexString()}const Ei=Object.create(null),cn=Object.create(null);function Zi(n,t){if(!t)return n;const e=t.split(".");for(let s=0,r=e.length;s<r;++s){const o=e[s];n=n[o]||(n[o]=Object.create(null))}return n}function Wi(n,t,e){return"string"==typeof t?G(Zi(n,t),e):G(Zi(n,""),t)}var It=new class gn{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,s)=>ln(s.backgroundColor),this.hoverBorderColor=(e,s)=>ln(s.borderColor),this.hoverColor=(e,s)=>ln(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return Wi(this,t,e)}get(t){return Zi(this,t)}describe(t,e){return Wi(cn,t,e)}override(t,e){return Wi(Ei,t,e)}route(t,e,s,r){const o=Zi(this,t),a=Zi(this,s),c="_"+e;Object.defineProperties(o,{[c]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[c],w=a[r];return _(h)?Object.assign({},w,h):O(h,w)},set(h){this[c]=h}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function pe(n,t,e,s,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>s&&(s=o),s}function Je(n,t,e,s){let r=(s=s||{}).data=s.data||{},o=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(r=s.data={},o=s.garbageCollect=[],s.font=t),n.save(),n.font=t;let a=0;const c=e.length;let h,w,z,re,ge;for(h=0;h<c;h++)if(re=e[h],null!=re&&!0!==T(re))a=pe(n,r,o,a,re);else if(T(re))for(w=0,z=re.length;w<z;w++)ge=re[w],null!=ge&&!T(ge)&&(a=pe(n,r,o,a,ge));n.restore();const Oe=o.length/2;if(Oe>e.length){for(h=0;h<Oe;h++)delete r[o[h]];o.splice(0,Oe)}return a}function S(n,t,e){const s=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*s)/s+r}function k(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function Ae(n,t,e,s){let r,o,a,c,h;const w=t.pointStyle,z=t.rotation,re=t.radius;let ge=(z||0)*Z;if(w&&"object"==typeof w&&(r=w.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return n.save(),n.translate(e,s),n.rotate(ge),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),void n.restore();if(!(isNaN(re)||re<=0)){switch(n.beginPath(),w){default:n.arc(e,s,re,0,U),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(ge)*re,s-Math.cos(ge)*re),ge+=Ne,n.lineTo(e+Math.sin(ge)*re,s-Math.cos(ge)*re),ge+=Ne,n.lineTo(e+Math.sin(ge)*re,s-Math.cos(ge)*re),n.closePath();break;case"rectRounded":h=.516*re,c=re-h,o=Math.cos(ge+ke)*c,a=Math.sin(ge+ke)*c,n.arc(e-o,s-a,h,ge-m,ge-we),n.arc(e+a,s-o,h,ge-we,ge),n.arc(e+o,s+a,h,ge,ge+we),n.arc(e-a,s+o,h,ge+we,ge+m),n.closePath();break;case"rect":if(!z){c=Math.SQRT1_2*re,n.rect(e-c,s-c,2*c,2*c);break}ge+=ke;case"rectRot":o=Math.cos(ge)*re,a=Math.sin(ge)*re,n.moveTo(e-o,s-a),n.lineTo(e+a,s-o),n.lineTo(e+o,s+a),n.lineTo(e-a,s+o),n.closePath();break;case"crossRot":ge+=ke;case"cross":o=Math.cos(ge)*re,a=Math.sin(ge)*re,n.moveTo(e-o,s-a),n.lineTo(e+o,s+a),n.moveTo(e+a,s-o),n.lineTo(e-a,s+o);break;case"star":o=Math.cos(ge)*re,a=Math.sin(ge)*re,n.moveTo(e-o,s-a),n.lineTo(e+o,s+a),n.moveTo(e+a,s-o),n.lineTo(e-a,s+o),ge+=ke,o=Math.cos(ge)*re,a=Math.sin(ge)*re,n.moveTo(e-o,s-a),n.lineTo(e+o,s+a),n.moveTo(e+a,s-o),n.lineTo(e-a,s+o);break;case"line":o=Math.cos(ge)*re,a=Math.sin(ge)*re,n.moveTo(e-o,s-a),n.lineTo(e+o,s+a);break;case"dash":n.moveTo(e,s),n.lineTo(e+Math.cos(ge)*re,s+Math.sin(ge)*re)}n.fill(),t.borderWidth>0&&n.stroke()}}function De(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function ct(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function nt(n){n.restore()}function bt(n,t,e,s,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else"after"===r!=!!s?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Nt(n,t,e,s){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function kt(n,t,e,s,r,o={}){const a=T(t)?t:[t],c=o.strokeWidth>0&&""!==o.strokeColor;let h,w;for(n.save(),n.font=r.string,function pi(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),l(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,o),h=0;h<a.length;++h)w=a[h],c&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),l(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(w,e,s,o.maxWidth)),n.fillText(w,e,s,o.maxWidth),li(n,e,s,w,o),s+=r.lineHeight;n.restore()}function li(n,t,e,s,r){if(r.strikethrough||r.underline){const o=n.measureText(s),a=t-o.actualBoundingBoxLeft,c=t+o.actualBoundingBoxRight,h=e-o.actualBoundingBoxAscent,w=e+o.actualBoundingBoxDescent,z=r.strikethrough?(h+w)/2:w;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,z),n.lineTo(c,z),n.stroke()}}function di(n,t){const{x:e,y:s,w:r,h:o,radius:a}=t;n.arc(e+a.topLeft,s+a.topLeft,a.topLeft,-we,m,!0),n.lineTo(e,s+o-a.bottomLeft),n.arc(e+a.bottomLeft,s+o-a.bottomLeft,a.bottomLeft,m,we,!0),n.lineTo(e+r-a.bottomRight,s+o),n.arc(e+r-a.bottomRight,s+o-a.bottomRight,a.bottomRight,we,0,!0),n.lineTo(e+r,s+a.topRight),n.arc(e+r-a.topRight,s+a.topRight,a.topRight,0,-we,!0),n.lineTo(e+a.topLeft,s)}const bi=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Qt=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function fi(n,t){const e=(""+n).match(bi);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const gi=n=>+n||0;function yn(n,t){const e={},s=_(t),r=s?Object.keys(t):t,o=_(n)?s?a=>O(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of r)e[a]=gi(o(a));return e}function Zt(n){return yn(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Xt(n){return yn(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Yt(n){const t=Zt(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Bt(n,t){let e=O((n=n||{}).size,(t=t||It.font).size);"string"==typeof e&&(e=parseInt(e,10));let s=O(n.style,t.style);s&&!(""+s).match(Qt)&&(console.warn('Invalid font style specified: "'+s+'"'),s="");const r={family:O(n.family,t.family),lineHeight:fi(O(n.lineHeight,t.lineHeight),e),size:e,style:s,weight:O(n.weight,t.weight),string:""};return r.string=function hi(n){return!n||l(n.size)||l(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function wi(n,t,e,s){let o,a,c,r=!0;for(o=0,a=n.length;o<a;++o)if(c=n[o],void 0!==c&&(void 0!==t&&"function"==typeof c&&(c=c(t),r=!1),void 0!==e&&T(c)&&(c=c[e%c.length],r=!1),void 0!==c))return s&&!r&&(s.cacheable=!1),c}function ni(n,t){return Object.assign(Object.create(n),t)}function xn(n,t,e){e=e||(a=>n[a]<t);let o,s=n.length-1,r=0;for(;s-r>1;)o=r+s>>1,e(o)?r=o:s=o;return{lo:r,hi:s}}const Ci=(n,t,e)=>xn(n,e,s=>n[s][t]<e),Xi=(n,t,e)=>xn(n,e,s=>n[s][t]>=e),mn=["push","pop","shift","splice","unshift"];function Sn(n,t){const e=n._chartjs;if(!e)return;const s=e.listeners,r=s.indexOf(t);-1!==r&&s.splice(r,1),!(s.length>0)&&(mn.forEach(o=>{delete n[o]}),delete n._chartjs)}function Mi(n){const t=new Set;let e,s;for(e=0,s=n.length;e<s;++e)t.add(n[e]);return t.size===s?n:Array.from(t)}function ji(n,t=[""],e=n,s,r=(()=>n[0])){R(s)||(s=es("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:s,_getTarget:r,override:a=>ji([a,...n],t,e,s)};return new Proxy(o,{deleteProperty:(a,c)=>(delete a[c],delete a._keys,delete n[0][c],!0),get:(a,c)=>Us(a,c,()=>function Gs(n,t,e,s){let r;for(const o of t)if(r=es(Qn(o,n),e),R(r))return Rn(n,r)?us(e,s,n,r):r}(c,t,n,a)),getOwnPropertyDescriptor:(a,c)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(a,c)=>hs(a).includes(c),ownKeys:a=>hs(a),set(a,c,h){const w=a._storage||(a._storage=r());return a[c]=w[c]=h,delete a._keys,!0}})}function dn(n,t,e,s){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:En(n,s),setContext:o=>dn(n,o,e,s),override:o=>dn(n.override(o),t,e,s)};return new Proxy(r,{deleteProperty:(o,a)=>(delete o[a],delete n[a],!0),get:(o,a,c)=>Us(o,a,()=>function ls(n,t,e){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;let c=s[t];return j(c)&&a.isScriptable(t)&&(c=function Ws(n,t,e,s){const{_proxy:r,_context:o,_subProxy:a,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);return c.add(n),t=t(o,a||s),c.delete(n),Rn(n,t)&&(t=us(r._scopes,r,n,t)),t}(t,c,n,e)),T(c)&&c.length&&(c=function cs(n,t,e,s){const{_proxy:r,_context:o,_subProxy:a,_descriptors:c}=e;if(R(o.index)&&s(n))t=t[o.index%t.length];else if(_(t[0])){const h=t,w=r._scopes.filter(z=>z!==h);t=[];for(const z of h){const re=us(w,r,n,z);t.push(dn(re,o,a&&a[n],c))}}return t}(t,c,n,a.isIndexable)),Rn(t,c)&&(c=dn(c,r,o&&o[t],a)),c}(o,a,c)),getOwnPropertyDescriptor:(o,a)=>o._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(o,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(o,a,c)=>(n[a]=c,delete o[a],!0)})}function En(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:s,isScriptable:j(e)?e:()=>e,isIndexable:j(s)?s:()=>s}}const Qn=(n,t)=>n?n+F(t):t,Rn=(n,t)=>_(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Us(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const s=e();return n[t]=s,s}function zs(n,t,e){return j(n)?n(t,e):n}const ds=(n,t)=>!0===n?t:"string"==typeof n?ee(t,n):void 0;function js(n,t,e,s,r){for(const o of t){const a=ds(e,o);if(a){n.add(a);const c=zs(a._fallback,e,r);if(R(c)&&c!==e&&c!==s)return c}else if(!1===a&&R(s)&&e!==s)return null}return!1}function us(n,t,e,s){const r=t._rootScopes,o=zs(t._fallback,e,s),a=[...n,...r],c=new Set;c.add(s);let h=Vn(c,a,e,o||e,s);return!(null===h||R(o)&&o!==e&&(h=Vn(c,a,o,h,s),null===h))&&ji(Array.from(c),[""],r,o,()=>function Sr(n,t,e){const s=n._getTarget();t in s||(s[t]={});const r=s[t];return T(r)&&_(e)?e:r}(t,e,s))}function Vn(n,t,e,s,r){for(;e;)e=js(n,t,e,s,r);return e}function es(n,t){for(const e of t){if(!e)continue;const s=e[n];if(R(s))return s}}function hs(n){let t=n._keys;return t||(t=n._keys=function ps(n){const t=new Set;for(const e of n)for(const s of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(s);return Array.from(t)}(n._scopes)),t}const Qs=Number.EPSILON||1e-14,kn=(n,t)=>t<n.length&&!n[t].skip&&n[t],qn=n=>"x"===n?"y":"x";function Hn(n,t,e,s){const r=n.skip?t:n,o=t,a=e.skip?t:e,c=at(o,r),h=at(a,o);let w=c/(c+h),z=h/(c+h);w=isNaN(w)?0:w,z=isNaN(z)?0:z;const re=s*w,ge=s*z;return{previous:{x:o.x-re*(a.x-r.x),y:o.y-re*(a.y-r.y)},next:{x:o.x+ge*(a.x-r.x),y:o.y+ge*(a.y-r.y)}}}function Yn(n,t,e){return Math.max(Math.min(n,e),t)}function Ar(n,t,e,s,r){let o,a,c,h;if(t.spanGaps&&(n=n.filter(w=>!w.skip)),"monotone"===t.cubicInterpolationMode)!function qs(n,t="x"){const e=qn(t),s=n.length,r=Array(s).fill(0),o=Array(s);let a,c,h,w=kn(n,0);for(a=0;a<s;++a)if(c=h,h=w,w=kn(n,a+1),h){if(w){const z=w[t]-h[t];r[a]=0!==z?(w[e]-h[e])/z:0}o[a]=c?w?Ue(r[a-1])!==Ue(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}(function wr(n,t,e){const s=n.length;let r,o,a,c,h,w=kn(n,0);for(let z=0;z<s-1;++z)if(h=w,w=kn(n,z+1),h&&w){if(J(t[z],0,Qs)){e[z]=e[z+1]=0;continue}r=e[z]/t[z],o=e[z+1]/t[z],c=Math.pow(r,2)+Math.pow(o,2),!(c<=9)&&(a=3/Math.sqrt(c),e[z]=r*a*t[z],e[z+1]=o*a*t[z])}})(n,r,o),function Ln(n,t,e="x"){const s=qn(e),r=n.length;let o,a,c,h=kn(n,0);for(let w=0;w<r;++w){if(a=c,c=h,h=kn(n,w+1),!c)continue;const z=c[e],re=c[s];a&&(o=(z-a[e])/3,c[`cp1${e}`]=z-o,c[`cp1${s}`]=re-o*t[w]),h&&(o=(h[e]-z)/3,c[`cp2${e}`]=z+o,c[`cp2${s}`]=re+o*t[w])}}(n,o,t)}(n,r);else{let w=s?n[n.length-1]:n[0];for(o=0,a=n.length;o<a;++o)c=n[o],h=Hn(w,c,n[Math.min(o+1,a-(s?0:1))%a],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,w=c}t.capBezierPoints&&function fs(n,t){let e,s,r,o,a,c=De(n[0],t);for(e=0,s=n.length;e<s;++e)a=o,o=c,c=e<s-1&&De(n[e+1],t),o&&(r=n[e],a&&(r.cp1x=Yn(r.cp1x,t.left,t.right),r.cp1y=Yn(r.cp1y,t.top,t.bottom)),c&&(r.cp2x=Yn(r.cp2x,t.left,t.right),r.cp2y=Yn(r.cp2y,t.top,t.bottom)))}(n,e)}function gs(){return"undefined"!=typeof window&&"undefined"!=typeof document}function _s(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Un(n,t,e){let s;return"string"==typeof n?(s=parseInt(n,10),-1!==n.indexOf("%")&&(s=s/100*t.parentNode[e])):s=n,s}const Mn=n=>window.getComputedStyle(n,null),is=["top","right","bottom","left"];function Bi(n,t,e){const s={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=is[r];s[o]=parseFloat(n[t+"-"+o+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function Jn(n,t){const{canvas:e,currentDevicePixelRatio:s}=t,r=Mn(e),o="border-box"===r.boxSizing,a=Bi(r,"padding"),c=Bi(r,"border","width"),{x:h,y:w,box:z}=function ns(n,t){const e=n.native||n,s=e.touches,r=s&&s.length?s[0]:e,{offsetX:o,offsetY:a}=r;let h,w,c=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(o,a,e.target))h=o,w=a;else{const z=t.getBoundingClientRect();h=r.clientX-z.left,w=r.clientY-z.top,c=!0}return{x:h,y:w,box:c}}(n,e),re=a.left+(z&&c.left),ge=a.top+(z&&c.top);let{width:Oe,height:Ie}=t;return o&&(Oe-=a.width+c.width,Ie-=a.height+c.height),{x:Math.round((h-re)/Oe*e.width/s),y:Math.round((w-ge)/Ie*e.height/s)}}const Gi=n=>Math.round(10*n)/10;function Wn(n,t,e){const s=t||1,r=Math.floor(n.height*s),o=Math.floor(n.width*s);n.height=r/s,n.width=o/s;const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==s||a.height!==r||a.width!==o)&&(n.currentDevicePixelRatio=s,a.height=r,a.width=o,n.ctx.setTransform(s,0,0,s,0,0),!0)}const vs=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return n}();function en(n,t){const e=function ts(n,t){return Mn(n).getPropertyValue(t)}(n,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function hn(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function tn(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:"middle"===s?e<.5?n.y:t.y:"after"===s?e<1?n.y:t.y:e>0?t.y:n.y}}function Qi(n,t,e,s){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},a=hn(n,r,e),c=hn(r,o,e),h=hn(o,t,e),w=hn(a,c,e),z=hn(c,h,e);return hn(w,z,e)}const On=new Map;function W(n,t,e){return function nn(n,t){t=t||{};const e=n+JSON.stringify(t);let s=On.get(e);return s||(s=new Intl.NumberFormat(n,t),On.set(e,s)),s}(t,e).format(n)}function te(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,s)=>e-s,leftForLtr:(e,s)=>e-s}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function me(n,t){let e,s;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=s)}function Te(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function We(n){return"angle"===n?{between:Ze,compare:At,normalize:gt}:{between:St,compare:(t,e)=>t-e,normalize:t=>t}}function it({start:n,end:t,count:e,loop:s,style:r}){return{start:n%e,end:t%e,loop:s&&(t-n+1)%e==0,style:r}}function mt(n,t,e){if(!e)return[n];const{property:s,start:r,end:o}=e,a=t.length,{compare:c,between:h,normalize:w}=We(s),{start:z,end:re,loop:ge,style:Oe}=function yt(n,t,e){const{property:s,start:r,end:o}=e,{between:a,normalize:c}=We(s),h=t.length;let ge,Oe,{start:w,end:z,loop:re}=n;if(re){for(w+=h,z+=h,ge=0,Oe=h;ge<Oe&&a(c(t[w%h][s]),r,o);++ge)w--,z--;w%=h,z%=h}return z<w&&(z+=h),{start:w,end:z,loop:re,style:n.style}}(n,t,e),Ie=[];let Ke,dt,vt,Le=!1,je=null;for(let Et=z,Mt=z;Et<=re;++Et)dt=t[Et%a],!dt.skip&&(Ke=w(dt[s]),Ke!==vt&&(Le=h(Ke,r,o),null===je&&(Le||h(r,vt,Ke)&&0!==c(r,vt))&&(je=0===c(Ke,r)?Et:Mt),null!==je&&(!Le||0===c(o,Ke)||h(o,vt,Ke))&&(Ie.push(it({start:je,end:Et,loop:ge,count:a,style:Oe})),je=null),Mt=Et,vt=Ke));return null!==je&&Ie.push(it({start:je,end:re,loop:ge,count:a,style:Oe})),Ie}function Lt(n,t){const e=[],s=n.segments;for(let r=0;r<s.length;r++){const o=mt(s[r],n.points,t);o.length&&e.push(...o)}return e}function ei(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function bs(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}var oi=new class Fn{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,r){const a=e.duration;e.listeners[r].forEach(c=>c({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(s-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=M.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const o=s.items;let h,a=o.length-1,c=!1;for(;a>=0;--a)h=o[a],h._active?(h._total>s.duration&&(s.duration=h._total),h.tick(t),c=!0):(o[a]=o[o.length-1],o.pop());c&&(r.draw(),this._notify(r,s,t,"progress")),o.length||(s.running=!1,this._notify(r,s,t,"complete"),s.initial=!1),e+=o.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const zn="transparent",ys={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const s=Ni(n||zn),r=s.valid&&Ni(t||zn);return r&&r.valid?r.mix(s,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class Ys{constructor(t,e,s,r){const o=e[s];r=wi([t.to,r,o,t.from]);const a=wi([t.from,o,r]);this._active=!0,this._fn=t.fn||ys[t.type||typeof a],this._easing=Ge[t.easing]||Ge.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const r=this._target[this._prop],o=s-this._start,a=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=wi([t.to,e,r,t.from]),this._from=wi([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,r=this._prop,o=this._from,a=this._loop,c=this._to;let h;if(this._active=o!==c&&(a||e<s),!this._active)return this._target[r]=c,void this._notify(!0);e<0?this._target[r]=o:(h=e/s%2,h=a&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(o,c,h))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][e]()}}It.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Ks=Object.keys(It.animation);It.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),It.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),It.describe("animations",{_fallback:"animation"}),It.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class $s{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!_(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!_(r))return;const o={};for(const a of Ks)o[a]=r[a];(T(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!e.has(a))&&e.set(a,o)})})}_animateOptions(t,e){const s=e.options,r=function Tr(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,s);if(!r)return[];const o=this._createAnimations(r,s);return s.$shared&&function Zs(n,t){const e=[],s=Object.keys(t);for(let r=0;r<s.length;r++){const o=n[s[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,e){const s=this._properties,r=[],o=t.$animations||(t.$animations={}),a=Object.keys(e),c=Date.now();let h;for(h=a.length-1;h>=0;--h){const w=a[h];if("$"===w.charAt(0))continue;if("options"===w){r.push(...this._animateOptions(t,e));continue}const z=e[w];let re=o[w];const ge=s.get(w);if(re){if(ge&&re.active()){re.update(ge,z,c);continue}re.cancel()}ge&&ge.duration?(o[w]=re=new Ys(ge,t,w,z),r.push(re)):t[w]=z}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const s=this._createAnimations(t,e);return s.length?(oi.add(this._chart,s),!0):void 0}}function Xs(n,t){const e=n&&n.options||{},s=e.reverse,r=void 0===e.min?t:0,o=void 0===e.max?t:0;return{start:s?o:r,end:s?r:o}}function pn(n,t){const e=[],s=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=s.length;r<o;++r)e.push(s[r].index);return e}function Cn(n,t,e,s={}){const r=n.keys,o="single"===s.mode;let a,c,h,w;if(null!==t){for(a=0,c=r.length;a<c;++a){if(h=+r[a],h===e){if(s.all)continue;break}w=n.values[h],H(w)&&(o||0===t||Ue(t)===Ue(w))&&(t+=w)}return t}}function xs(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function er(n,t,e){const s=n[t]||(n[t]={});return s[e]||(s[e]={})}function tr(n,t,e,s){for(const r of t.getMatchingVisibleMetas(s).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function ws(n,t){const{chart:e,_cachedMeta:s}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:a,index:c}=s,h=o.axis,w=a.axis,z=function Cs(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(o,a,s),re=t.length;let ge;for(let Oe=0;Oe<re;++Oe){const Ie=t[Oe],{[h]:Le,[w]:je}=Ie;ge=(Ie._stacks||(Ie._stacks={}))[w]=er(r,z,Le),ge[c]=je,ge._top=tr(ge,a,!0,s.type),ge._bottom=tr(ge,a,!1,s.type)}}function As(n,t){const e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function p(n,t){const e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||void 0===o[s]||void 0===o[s][e])return;delete o[s][e]}}}const D=n=>"reset"===n||"none"===n,ae=(n,t)=>t?n:Object.assign({},n);let Ve=(()=>{class n{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=xs(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&p(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,r=this.getDataset(),o=(ge,Oe,Ie,Le)=>"x"===ge?Oe:"r"===ge?Le:Ie,a=s.xAxisID=O(r.xAxisID,As(e,"x")),c=s.yAxisID=O(r.yAxisID,As(e,"y")),h=s.rAxisID=O(r.rAxisID,As(e,"r")),w=s.indexAxis,z=s.iAxisID=o(w,a,c,h),re=s.vAxisID=o(w,c,a,h);s.xScale=this.getScaleForId(a),s.yScale=this.getScaleForId(c),s.rScale=this.getScaleForId(h),s.iScale=this.getScaleForId(z),s.vScale=this.getScaleForId(re)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Sn(this._data,this),e._stacked&&p(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),r=this._data;if(_(s))this._data=function Mr(n){const t=Object.keys(n),e=new Array(t.length);let s,r,o;for(s=0,r=t.length;s<r;++s)o=t[s],e[s]={x:o,y:n[o]};return e}(s);else if(r!==s){if(r){Sn(r,this);const o=this._cachedMeta;p(o),o._parsed=[]}s&&Object.isExtensible(s)&&function vn(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),mn.forEach(e=>{const s="_onData"+F(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const a=r.apply(this,o);return n._chartjs.listeners.forEach(c=>{"function"==typeof c[s]&&c[s](...o)}),a}})}))}(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const a=s._stacked;s._stacked=xs(s.vScale,s),s.stack!==r.stack&&(o=!0,p(s),s.stack=r.stack),this._resyncElements(e),(o||a!==s._stacked)&&ws(this,s._parsed)}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:r,_data:o}=this,{iScale:a,_stacked:c}=r,h=a.axis;let re,ge,Oe,w=0===e&&s===o.length||r._sorted,z=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=o,r._sorted=!0,Oe=o;else{Oe=T(o[e])?this.parseArrayData(r,o,e,s):_(o[e])?this.parseObjectData(r,o,e,s):this.parsePrimitiveData(r,o,e,s);const Ie=()=>null===ge[h]||z&&ge[h]<z[h];for(re=0;re<s;++re)r._parsed[re+e]=ge=Oe[re],w&&(Ie()&&(w=!1),z=ge);r._sorted=w}c&&ws(this,Oe)}parsePrimitiveData(e,s,r,o){const{iScale:a,vScale:c}=e,h=a.axis,w=c.axis,z=a.getLabels(),re=a===c,ge=new Array(o);let Oe,Ie,Le;for(Oe=0,Ie=o;Oe<Ie;++Oe)Le=Oe+r,ge[Oe]={[h]:re||a.parse(z[Le],Le),[w]:c.parse(s[Le],Le)};return ge}parseArrayData(e,s,r,o){const{xScale:a,yScale:c}=e,h=new Array(o);let w,z,re,ge;for(w=0,z=o;w<z;++w)re=w+r,ge=s[re],h[w]={x:a.parse(ge[0],re),y:c.parse(ge[1],re)};return h}parseObjectData(e,s,r,o){const{xScale:a,yScale:c}=e,{xAxisKey:h="x",yAxisKey:w="y"}=this._parsing,z=new Array(o);let re,ge,Oe,Ie;for(re=0,ge=o;re<ge;++re)Oe=re+r,Ie=s[Oe],z[re]={x:a.parse(ee(Ie,h),Oe),y:c.parse(ee(Ie,w),Oe)};return z}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,r){const a=this._cachedMeta,c=s[e.axis];return Cn({keys:pn(this.chart,!0),values:s._stacks[e.axis]},c,a.index,{mode:r})}updateRangeFromParsed(e,s,r,o){const a=r[s.axis];let c=null===a?NaN:a;const h=o&&r._stacks[s.axis];o&&h&&(o.values=h,c=Cn(o,a,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,s){const r=this._cachedMeta,o=r._parsed,a=r._sorted&&e===r.iScale,c=o.length,h=this._getOtherScale(e),w=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:pn(this.chart,!0),values:null})(s,r),z={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:re,max:ge}=function Ss(n){const{min:t,max:e,minDefined:s,maxDefined:r}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(h);let Oe,Ie;function Le(){Ie=o[Oe];const je=Ie[h.axis];return!H(Ie[e.axis])||re>je||ge<je}for(Oe=0;Oe<c&&(Le()||(this.updateRangeFromParsed(z,e,Ie,w),!a));++Oe);if(a)for(Oe=c-1;Oe>=0;--Oe)if(!Le()){this.updateRangeFromParsed(z,e,Ie,w);break}return z}getAllParsedValues(e){const s=this._cachedMeta._parsed,r=[];let o,a,c;for(o=0,a=s.length;o<a;++o)c=s[o][e.axis],H(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,r=s.iScale,o=s.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=function qi(n){let t,e,s,r;return _(n)?(t=n.top,e=n.right,s=n.bottom,r=n.left):t=e=s=r=n,{top:t,right:e,bottom:s,left:r,disabled:!1===n}}(O(this.options.clip,function Er(n,t,e){if(!1===e)return!1;const s=Xs(n,e),r=Xs(t,e);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,o=r.data||[],a=this.chart.chartArea,c=[],h=this._drawStart||0,w=this._drawCount||o.length-h,z=this.options.drawActiveElementsOnTop;let re;for(r.dataset&&r.dataset.draw(e,a,h,w),re=h;re<h+w;++re){const ge=o[re];ge.hidden||(ge.active&&z?c.push(ge):ge.draw(e,a))}for(re=0;re<c.length;++re)c[re].draw(e,a)}getStyle(e,s){const r=s?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,s,r){const o=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];a=c.$context||(c.$context=function u(n,t,e){return ni(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,c)),a.parsed=this.getParsed(e),a.raw=o.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function Xr(n,t){return ni(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!s,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",r){const o="active"===s,a=this._cachedDataOpts,c=e+"-"+s,h=a[c],w=this.enableOptionSharing&&R(r);if(h)return ae(h,w);const z=this.chart.config,re=z.datasetElementScopeKeys(this._type,e),ge=o?[`${e}Hover`,"hover",e,""]:[e,""],Oe=z.getOptionScopes(this.getDataset(),re),Ie=Object.keys(It.elements[e]),je=z.resolveNamedOptions(Oe,Ie,()=>this.getContext(r,o),ge);return je.$shared&&(je.$shared=w,a[c]=Object.freeze(ae(je,w))),je}_resolveAnimations(e,s,r){const o=this.chart,a=this._cachedDataOpts,c=`animation-${s}`,h=a[c];if(h)return h;let w;if(!1!==o.options.animation){const re=this.chart.config,ge=re.datasetAnimationScopeKeys(this._type,s),Oe=re.getOptionScopes(this.getDataset(),ge);w=re.createResolver(Oe,this.getContext(e,r,s))}const z=new $s(o,w&&w.animations);return w&&w._cacheable&&(a[c]=Object.freeze(z)),z}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||D(e)||this.chart._animationsDisabled}updateElement(e,s,r,o){D(o)?Object.assign(e,r):this._resolveAnimations(s,o).update(e,r)}updateSharedOptions(e,s,r){e&&!D(s)&&this._resolveAnimations(void 0,s).update(e,r)}_setStyle(e,s,r,o){e.active=o;const a=this.getStyle(s,o);this._resolveAnimations(s,r,o).update(e,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(e,s,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,s,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,r=this._cachedMeta.data;for(const[h,w,z]of this._syncList)this[h](w,z);this._syncList=[];const o=r.length,a=s.length,c=Math.min(a,o);c&&this.parse(0,c),a>o?this._insertElements(o,a-o,e):a<o&&this._removeElements(a,o-a)}_insertElements(e,s,r=!0){const o=this._cachedMeta,a=o.data,c=e+s;let h;const w=z=>{for(z.length+=s,h=z.length-1;h>=c;h--)z[h]=z[h-s]};for(w(a),h=e;h<c;++h)a[h]=new this.dataElementType;this._parsing&&w(o._parsed),this.parse(e,s),r&&this.updateElements(a,e,s,"reset")}updateElements(e,s,r,o){}_removeElements(e,s){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,s);r._stacked&&p(r,o)}r.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,r,o]=e;this[s](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function ut(n){const t=n.iScale,e=function tt(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let s=[];for(let r=0,o=e.length;r<o;r++)s=s.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=Mi(s.sort((r,o)=>r-o))}return n._cache.$bar}(t,n.type);let r,o,a,c,s=t._length;const h=()=>{32767===a||-32768===a||(R(c)&&(s=Math.min(s,Math.abs(a-c)||s)),c=a)};for(r=0,o=e.length;r<o;++r)a=t.getPixelForValue(e[r]),h();for(c=void 0,r=0,o=t.ticks.length;r<o;++r)a=t.getPixelForTick(r),h();return s}function mi(n,t,e,s){return T(n)?function jt(n,t,e,s){const r=e.parse(n[0],s),o=e.parse(n[1],s),a=Math.min(r,o),c=Math.max(r,o);let h=a,w=c;Math.abs(a)>Math.abs(c)&&(h=c,w=a),t[e.axis]=w,t._custom={barStart:h,barEnd:w,start:r,end:o,min:a,max:c}}(n,t,e,s):t[e.axis]=e.parse(n,s),t}function Yi(n,t,e,s){const r=n.iScale,o=n.vScale,a=r.getLabels(),c=r===o,h=[];let w,z,re,ge;for(w=e,z=e+s;w<z;++w)ge=t[w],re={},re[r.axis]=c||r.parse(a[w],w),h.push(mi(ge,re,o,w));return h}function An(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function Kn(n,t,e,s){let r=t.borderSkipped;const o={};if(!r)return void(n.borderSkipped=o);const{start:a,end:c,reverse:h,top:w,bottom:z}=function Ji(n){let t,e,s,r,o;return n.horizontal?(t=n.base>n.x,e="left",s="right"):(t=n.base<n.y,e="bottom",s="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:s,reverse:t,top:r,bottom:o}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===s?r=w:(e._bottom||0)===s?r=z:(o[rs(z,a,c,h)]=!0,r=w)),o[rs(r,a,c,h)]=!0,n.borderSkipped=o}function rs(n,t,e,s){return s?(n=function da(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=eo(n,e,t)):n=eo(n,t,e),n}function eo(n,t,e){return"start"===n?t:"end"===n?e:n}function ua(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}Ve.prototype.datasetElementType=null,Ve.prototype.dataElementType=null;let ha=(()=>{class n extends Ve{parsePrimitiveData(e,s,r,o){return Yi(e,s,r,o)}parseArrayData(e,s,r,o){return Yi(e,s,r,o)}parseObjectData(e,s,r,o){const{iScale:a,vScale:c}=e,{xAxisKey:h="x",yAxisKey:w="y"}=this._parsing,z="x"===a.axis?h:w,re="x"===c.axis?h:w,ge=[];let Oe,Ie,Le,je;for(Oe=r,Ie=r+o;Oe<Ie;++Oe)je=s[Oe],Le={},Le[a.axis]=a.parse(ee(je,z),Oe),ge.push(mi(ee(je,re),Le,c,Oe));return ge}updateRangeFromParsed(e,s,r,o){super.updateRangeFromParsed(e,s,r,o);const a=r._custom;a&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:r,vScale:o}=s,a=this.getParsed(e),c=a._custom,h=An(c)?"["+c.start+", "+c.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,r,o){const a="reset"===o,{index:c,_cachedMeta:{vScale:h}}=this,w=h.getBasePixel(),z=h.isHorizontal(),re=this._getRuler(),ge=this.resolveDataElementOptions(s,o),Oe=this.getSharedOptions(ge),Ie=this.includeOptions(o,Oe);this.updateSharedOptions(Oe,o,ge);for(let Le=s;Le<s+r;Le++){const je=this.getParsed(Le),Ke=a||l(je[h.axis])?{base:w,head:w}:this._calculateBarValuePixels(Le),dt=this._calculateBarIndexPixels(Le,re),vt=(je._stacks||{})[h.axis],ht={horizontal:z,base:Ke.base,enableBorderRadius:!vt||An(je._custom)||c===vt._top||c===vt._bottom,x:z?Ke.head:dt.center,y:z?dt.center:Ke.head,height:z?dt.size:Math.abs(Ke.size),width:z?Math.abs(Ke.size):dt.size};Ie&&(ht.options=Oe||this.resolveDataElementOptions(Le,e[Le].active?"active":o));const ot=ht.options||e[Le].options;Kn(ht,ot,vt,c),ua(ht,ot,re.ratio),this.updateElement(e[Le],Le,ht,o)}}_getStacks(e,s){const o=this._cachedMeta.iScale,a=o.getMatchingVisibleMetas(this._type),c=o.options.stacked,h=a.length,w=[];let z,re;for(z=0;z<h;++z)if(re=a[z],re.controller.options.grouped){if(void 0!==s){const ge=re.controller.getParsed(s)[re.controller._cachedMeta.vScale.axis];if(l(ge)||isNaN(ge))continue}if((!1===c||-1===w.indexOf(re.stack)||void 0===c&&void 0===re.stack)&&w.push(re.stack),re.index===e)break}return w.length||w.push(void 0),w}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,s,r){const o=this._getStacks(e,r),a=void 0!==s?o.indexOf(s):-1;return-1===a?o.length-1:a}_getRuler(){const e=this.options,s=this._cachedMeta,r=s.iScale,o=[];let a,c;for(a=0,c=s.data.length;a<c;++a)o.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const h=e.barThickness;return{min:h||ut(s),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:r},options:{base:o,minBarLength:a}}=this,c=o||0,h=this.getParsed(e),w=h._custom,z=An(w);let Ie,Le,re=h[s.axis],ge=0,Oe=r?this.applyStack(s,h,r):re;Oe!==re&&(ge=Oe-re,Oe=re),z&&(re=w.barStart,Oe=w.barEnd-w.barStart,0!==re&&Ue(re)!==Ue(w.barEnd)&&(ge=0),ge+=re);const je=l(o)||z?ge:o;let Ke=s.getPixelForValue(je);if(Ie=this.chart.getDataVisibility(e)?s.getPixelForValue(ge+Oe):Ke,Le=Ie-Ke,Math.abs(Le)<a&&(Le=function ki(n,t,e){return 0!==n?Ue(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(Le,s,c)*a,re===c&&(Ke-=Le/2),Ie=Ke+Le),Ke===s.getPixelForValue(c)){const dt=Ue(Le)*s.getLineWidthForValue(c)/2;Ke+=dt,Le-=dt}return{size:Le,base:Ke,head:Ie,center:Ie+Le/2}}_calculateBarIndexPixels(e,s){const r=s.scale,o=this.options,a=o.skipNull,c=O(o.maxBarThickness,1/0);let h,w;if(s.grouped){const z=a?this._getStackCount(e):s.stackCount,re="flex"===o.barThickness?function qt(n,t,e,s){const r=t.pixels,o=r[n];let a=n>0?r[n-1]:null,c=n<r.length-1?r[n+1]:null;const h=e.categoryPercentage;null===a&&(a=o-(null===c?t.end-t.start:c-o)),null===c&&(c=o+o-a);const w=o-(o-Math.min(a,c))/2*h;return{chunk:Math.abs(c-a)/2*h/s,ratio:e.barPercentage,start:w}}(e,s,o,z):function Rt(n,t,e,s){const r=e.barThickness;let o,a;return l(r)?(o=t.min*e.categoryPercentage,a=e.barPercentage):(o=r*s,a=1),{chunk:o/s,ratio:a,start:t.pixels[n]-o/2}}(e,s,o,z),ge=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);h=re.start+re.chunk*ge+re.chunk/2,w=Math.min(c,re.chunk*re.ratio)}else h=r.getPixelForValue(this.getParsed(e)[r.axis],e),w=Math.min(c,s.min*s.ratio);return{base:h-w/2,head:h+w/2,center:h,size:w}}draw(){const e=this._cachedMeta,s=e.vScale,r=e.data,o=r.length;let a=0;for(;a<o;++a)null!==this.getParsed(a)[s.axis]&&r[a].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),pa=(()=>{class n extends Ve{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,s,r,o){const a=super.parsePrimitiveData(e,s,r,o);for(let c=0;c<a.length;c++)a[c]._custom=this.resolveDataElementOptions(c+r).radius;return a}parseArrayData(e,s,r,o){const a=super.parseArrayData(e,s,r,o);for(let c=0;c<a.length;c++)a[c]._custom=O(s[r+c][2],this.resolveDataElementOptions(c+r).radius);return a}parseObjectData(e,s,r,o){const a=super.parseObjectData(e,s,r,o);for(let c=0;c<a.length;c++){const h=s[r+c];a[c]._custom=O(h&&h.r&&+h.r,this.resolveDataElementOptions(c+r).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let s=0;for(let r=e.length-1;r>=0;--r)s=Math.max(s,e[r].size(this.resolveDataElementOptions(r))/2);return s>0&&s}getLabelAndValue(e){const s=this._cachedMeta,{xScale:r,yScale:o}=s,a=this.getParsed(e),c=r.getLabelForValue(a.x),h=o.getLabelForValue(a.y),w=a._custom;return{label:s.label,value:"("+c+", "+h+(w?", "+w:"")+")"}}update(e){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,e)}updateElements(e,s,r,o){const a="reset"===o,{iScale:c,vScale:h}=this._cachedMeta,w=this.resolveDataElementOptions(s,o),z=this.getSharedOptions(w),re=this.includeOptions(o,z),ge=c.axis,Oe=h.axis;for(let Ie=s;Ie<s+r;Ie++){const Le=e[Ie],je=!a&&this.getParsed(Ie),Ke={},dt=Ke[ge]=a?c.getPixelForDecimal(.5):c.getPixelForValue(je[ge]),vt=Ke[Oe]=a?h.getBasePixel():h.getPixelForValue(je[Oe]);Ke.skip=isNaN(dt)||isNaN(vt),re&&(Ke.options=this.resolveDataElementOptions(Ie,Le.active?"active":o),a&&(Ke.options.radius=0)),this.updateElement(Le,Ie,Ke,o)}this.updateSharedOptions(z,o,w)}resolveDataElementOptions(e,s){const r=this.getParsed(e);let o=super.resolveDataElementOptions(e,s);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const a=o.radius;return"active"!==s&&(o.radius=0),o.radius+=O(r&&r._custom,a),o}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),to=(()=>{class n extends Ve{constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const r=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=r;else{let c,h,a=w=>+r[w];if(_(r[e])){const{key:w="value"}=this._parsing;a=z=>+ee(r[z],w)}for(c=e,h=e+s;c<h;++c)o._parsed[c]=a(c)}}_getRotation(){return Me(this.options.rotation-90)}_getCircumference(){return Me(this.options.circumference)}_getRotationExtents(){let e=U,s=-U;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const o=this.chart.getDatasetMeta(r).controller,a=o._getRotation(),c=o._getCircumference();e=Math.min(e,a),s=Math.max(s,a+c)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:r}=s,o=this._cachedMeta,a=o.data,c=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,h=Math.max((Math.min(r.width,r.height)-c)/2,0),w=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/t)(this.options.cutout,h),1),z=this._getRingWeight(this.index),{circumference:re,rotation:ge}=this._getRotationExtents(),{ratioX:Oe,ratioY:Ie,offsetX:Le,offsetY:je}=function fa(n,t,e){let s=1,r=1,o=0,a=0;if(t<U){const c=n,h=c+t,w=Math.cos(c),z=Math.sin(c),re=Math.cos(h),ge=Math.sin(h),Oe=(vt,ht,ot)=>Ze(vt,c,h,!0)?1:Math.max(ht,ht*e,ot,ot*e),Ie=(vt,ht,ot)=>Ze(vt,c,h,!0)?-1:Math.min(ht,ht*e,ot,ot*e),Le=Oe(0,w,re),je=Oe(we,z,ge),Ke=Ie(m,w,re),dt=Ie(m+we,z,ge);s=(Le-Ke)/2,r=(je-dt)/2,o=-(Le+Ke)/2,a=-(je+dt)/2}return{ratioX:s,ratioY:r,offsetX:o,offsetY:a}}(ge,re,w),vt=Math.max(Math.min((r.width-c)/Oe,(r.height-c)/Ie)/2,0),ht=b(this.options.radius,vt),xt=(ht-Math.max(ht*w,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Le*ht,this.offsetY=je*ht,o.total=this.calculateTotal(),this.outerRadius=ht-xt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-xt*z,0),this.updateElements(a,0,a.length,e)}_circumference(e,s){const r=this.options,o=this._cachedMeta,a=this._getCircumference();return s&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===o._parsed[e]||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*a/U)}updateElements(e,s,r,o){const a="reset"===o,c=this.chart,h=c.chartArea,re=(h.left+h.right)/2,ge=(h.top+h.bottom)/2,Oe=a&&c.options.animation.animateScale,Ie=Oe?0:this.innerRadius,Le=Oe?0:this.outerRadius,je=this.resolveDataElementOptions(s,o),Ke=this.getSharedOptions(je),dt=this.includeOptions(o,Ke);let ht,vt=this._getRotation();for(ht=0;ht<s;++ht)vt+=this._circumference(ht,a);for(ht=s;ht<s+r;++ht){const ot=this._circumference(ht,a),xt=e[ht],Ct={x:re+this.offsetX,y:ge+this.offsetY,startAngle:vt,endAngle:vt+ot,circumference:ot,outerRadius:Le,innerRadius:Ie};dt&&(Ct.options=Ke||this.resolveDataElementOptions(ht,xt.active?"active":o)),vt+=ot,this.updateElement(xt,ht,Ct,o)}this.updateSharedOptions(Ke,o,je)}calculateTotal(){const e=this._cachedMeta,s=e.data;let o,r=0;for(o=0;o<s.length;o++){const a=e._parsed[o];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(o)&&!s[o].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?U*(Math.abs(e)/s):0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],a=W(this._cachedMeta._parsed[e],r.options.locale);return{label:o[e]||"",value:a}}getMaxBorderWidth(e){let s=0;const r=this.chart;let o,a,c,h,w;if(!e)for(o=0,a=r.data.datasets.length;o<a;++o)if(r.isDatasetVisible(o)){c=r.getDatasetMeta(o),e=c.data,h=c.controller;break}if(!e)return 0;for(o=0,a=e.length;o<a;++o)w=h.resolveDataElementOptions(o),"inner"!==w.borderAlign&&(s=Math.max(s,w.borderWidth||0,w.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let r=0,o=e.length;r<o;++r){const a=this.resolveDataElementOptions(r);s=Math.max(s,a.offset||0,a.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(s+=this._getRingWeight(r));return s}_getRingWeight(e){return Math.max(O(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s}}=t.legend.options;return e.labels.map((r,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,lineWidth:c.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const s=": "+t.formattedValue;return T(e)?(e=e.slice(),e[0]+=s):e+=s,e}}}}},n})(),io=(()=>{class n extends Ve{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:r,data:o=[],_dataset:a}=s,c=this.chart._animationsDisabled;let{start:h,count:w}=function ga(n,t,e){const s=t.length;let r=0,o=s;if(n._sorted){const{iScale:a,_parsed:c}=n,h=a.axis,{min:w,max:z,minDefined:re,maxDefined:ge}=a.getUserBounds();re&&(r=ft(Math.min(Ci(c,a.axis,w).lo,e?s:Ci(t,h,a.getPixelForValue(w)).lo),0,s-1)),o=ge?ft(Math.max(Ci(c,a.axis,z).hi+1,e?0:Ci(t,h,a.getPixelForValue(z)).hi+1),r,s)-r:s-r}return{start:r,count:o}}(s,o,c);this._drawStart=h,this._drawCount=w,function _a(n){const{xScale:t,yScale:e,_scaleRanges:s}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return n._scaleRanges=r,!0;const o=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,r),o}(s)&&(h=0,w=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=o;const z=this.resolveDatasetElementOptions(e);this.options.showLine||(z.borderWidth=0),z.segment=this.options.segment,this.updateElement(r,void 0,{animated:!c,options:z},e),this.updateElements(o,h,w,e)}updateElements(e,s,r,o){const a="reset"===o,{iScale:c,vScale:h,_stacked:w,_dataset:z}=this._cachedMeta,re=this.resolveDataElementOptions(s,o),ge=this.getSharedOptions(re),Oe=this.includeOptions(o,ge),Ie=c.axis,Le=h.axis,{spanGaps:je,segment:Ke}=this.options,dt=pt(je)?je:Number.POSITIVE_INFINITY,vt=this.chart._animationsDisabled||a||"none"===o;let ht=s>0&&this.getParsed(s-1);for(let ot=s;ot<s+r;++ot){const xt=e[ot],Ct=this.getParsed(ot),Et=vt?xt:{},Mt=l(Ct[Le]),ri=Et[Ie]=c.getPixelForValue(Ct[Ie],ot),Jt=Et[Le]=a||Mt?h.getBasePixel():h.getPixelForValue(w?this.applyStack(h,Ct,w):Ct[Le],ot);Et.skip=isNaN(ri)||isNaN(Jt)||Mt,Et.stop=ot>0&&Ct[Ie]-ht[Ie]>dt,Ke&&(Et.parsed=Ct,Et.raw=z.data[ot]),Oe&&(Et.options=ge||this.resolveDataElementOptions(ot,xt.active?"active":o)),vt||this.updateElement(xt,ot,Et,o),ht=Ct}this.updateSharedOptions(ge,o,re)}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,r=s.options&&s.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const a=o[0].size(this.resolveDataElementOptions(0)),c=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,a,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})();var ma=Object.freeze({__proto__:null,BarController:ha,BubbleController:pa,DoughnutController:to,LineController:io,PolarAreaController:(()=>{class n extends Ve{constructor(e,s){super(e,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],a=W(this._cachedMeta._parsed[e].r,r.options.locale);return{label:o[e]||"",value:a}}update(e){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,e)}_updateRadius(){const e=this.chart,s=e.chartArea,r=e.options,o=Math.min(s.right-s.left,s.bottom-s.top),a=Math.max(o/2,0),h=(a-Math.max(r.cutoutPercentage?a/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=a-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(e,s,r,o){const a="reset"===o,c=this.chart,h=this.getDataset(),z=c.options.animation,re=this._cachedMeta.rScale,ge=re.xCenter,Oe=re.yCenter,Ie=re.getIndexAngle(0)-.5*m;let je,Le=Ie;const Ke=360/this.countVisibleElements();for(je=0;je<s;++je)Le+=this._computeAngle(je,o,Ke);for(je=s;je<s+r;je++){const dt=e[je];let vt=Le,ht=Le+this._computeAngle(je,o,Ke),ot=c.getDataVisibility(je)?re.getDistanceFromCenterForValue(h.data[je]):0;Le=ht,a&&(z.animateScale&&(ot=0),z.animateRotate&&(vt=ht=Ie));const xt={x:ge,y:Oe,innerRadius:0,outerRadius:ot,startAngle:vt,endAngle:ht,options:this.resolveDataElementOptions(je,dt.active?"active":o)};this.updateElement(dt,je,xt,o)}}countVisibleElements(){const e=this.getDataset();let r=0;return this._cachedMeta.data.forEach((o,a)=>{!isNaN(e.data[a])&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,s,r){return this.chart.getDataVisibility(e)?Me(this.resolveDataElementOptions(e,s).angle||r):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s}}=t.legend.options;return e.labels.map((r,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,lineWidth:c.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),PieController:(()=>{class n extends to{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),RadarController:(()=>{class n extends Ve{getLabelAndValue(e){const s=this._cachedMeta.vScale,r=this.getParsed(e);return{label:s.getLabels()[e],value:""+s.getLabelForValue(r[s.axis])}}update(e){const s=this._cachedMeta,r=s.dataset,o=s.data||[],a=s.iScale.getLabels();if(r.points=o,"resize"!==e){const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:a.length===o.length,options:c},e)}this.updateElements(o,0,o.length,e)}updateElements(e,s,r,o){const a=this.getDataset(),c=this._cachedMeta.rScale,h="reset"===o;for(let w=s;w<s+r;w++){const z=e[w],re=this.resolveDataElementOptions(w,z.active?"active":o),ge=c.getPointPositionForValue(w,a.data[w]),Oe=h?c.xCenter:ge.x,Ie=h?c.yCenter:ge.y,Le={x:Oe,y:Ie,angle:ge.angle,skip:isNaN(Oe)||isNaN(Ie),options:re};this.updateElement(z,w,Le,o)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})(),ScatterController:(()=>{class n extends io{}return n.id="scatter",n.defaults={showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})()});function $n(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var va={_date:(()=>{class n{constructor(e){this.options=e||{}}formats(){return $n()}parse(e,s){return $n()}format(e,s){return $n()}add(e,s,r){return $n()}diff(e,s,r){return $n()}startOf(e,s,r){return $n()}endOf(e,s){return $n()}}return n.override=function(t){Object.assign(n.prototype,t)},n})()};function Ps(n,t){return"native"in n?{x:n.x,y:n.y}:Jn(n,t)}function ya(n,t,e,s){const{controller:r,data:o,_sorted:a}=n,c=r._cachedMeta.iScale;if(c&&t===c.axis&&"r"!==t&&a&&o.length){const h=c._reversePixels?Xi:Ci;if(!s)return h(o,t,e);if(r._sharedOptions){const w=o[0],z="function"==typeof w.getRange&&w.getRange(t);if(z){const re=h(o,t,e-z),ge=h(o,t,e+z);return{lo:re.lo,hi:ge.hi}}}}return{lo:0,hi:o.length-1}}function Or(n,t,e,s,r){const o=n.getSortedVisibleDatasetMetas(),a=e[t];for(let c=0,h=o.length;c<h;++c){const{index:w,data:z}=o[c],{lo:re,hi:ge}=ya(o[c],t,a,r);for(let Oe=re;Oe<=ge;++Oe){const Ie=z[Oe];Ie.skip||s(Ie,w,Oe)}}}function Dr(n,t,e,s){const r=[];return De(t,n.chartArea,n._minPadding)&&Or(n,e,t,function(a,c,h){a.inRange(t.x,t.y,s)&&r.push({element:a,datasetIndex:c,index:h})},!0),r}function Ir(n,t,e,s,r){return De(t,n.chartArea,n._minPadding)?"r"!==e||s?function Sa(n,t,e,s,r){let o=[];const a=function xa(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(s,r){const o=t?Math.abs(s.x-r.x):0,a=e?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}(e);let c=Number.POSITIVE_INFINITY;return Or(n,e,t,function h(w,z,re){const ge=w.inRange(t.x,t.y,r);if(s&&!ge)return;const Oe=w.getCenterPoint(r);if(!De(Oe,n.chartArea,n._minPadding)&&!ge)return;const Le=a(t,Oe);Le<c?(o=[{element:w,datasetIndex:z,index:re}],c=Le):Le===c&&o.push({element:w,datasetIndex:z,index:re})}),o}(n,t,e,s,r):function Ca(n,t,e,s){let r=[];return Or(n,e,t,function o(a,c,h){const{startAngle:w,endAngle:z}=a.getProps(["startAngle","endAngle"],s),{angle:re}=et(a,{x:t.x,y:t.y});Ze(re,w,z)&&r.push({element:a,datasetIndex:c,index:h})}),r}(n,t,e,r):[]}function no(n,t,e,s){const r=Ps(t,n),o=[],a=e.axis,c="x"===a?"inXRange":"inYRange";let h=!1;return function ba(n,t){const e=n.getSortedVisibleDatasetMetas();let s,r,o;for(let a=0,c=e.length;a<c;++a){({index:s,data:r}=e[a]);for(let h=0,w=r.length;h<w;++h)o=r[h],o.skip||t(o,s,h)}}(n,(w,z,re)=>{w[c](r[a],s)&&o.push({element:w,datasetIndex:z,index:re}),w.inRange(r.x,r.y,s)&&(h=!0)}),e.intersect&&!h?[]:o}var wa={modes:{index(n,t,e,s){const r=Ps(t,n),o=e.axis||"x",a=e.intersect?Dr(n,r,o,s):Ir(n,r,o,!1,s),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const w=a[0].index,z=h.data[w];z&&!z.skip&&c.push({element:z,datasetIndex:h.index,index:w})}),c):[]},dataset(n,t,e,s){const r=Ps(t,n),o=e.axis||"xy";let a=e.intersect?Dr(n,r,o,s):Ir(n,r,o,!1,s);if(a.length>0){const c=a[0].datasetIndex,h=n.getDatasetMeta(c).data;a=[];for(let w=0;w<h.length;++w)a.push({element:h[w],datasetIndex:c,index:w})}return a},point:(n,t,e,s)=>Dr(n,Ps(t,n),e.axis||"xy",s),nearest:(n,t,e,s)=>Ir(n,Ps(t,n),e.axis||"xy",e.intersect,s),x:(n,t,e,s)=>no(n,t,{axis:"x",intersect:e.intersect},s),y:(n,t,e,s)=>no(n,t,{axis:"y",intersect:e.intersect},s)}};const so=["left","top","right","bottom"];function Ts(n,t){return n.filter(e=>e.pos===t)}function ro(n,t){return n.filter(e=>-1===so.indexOf(e.pos)&&e.box.axis===t)}function Es(n,t){return n.sort((e,s)=>{const r=t?s:e,o=t?e:s;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function oo(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function ao(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Ma(n,t,e,s){const{pos:r,box:o}=e,a=n.maxPadding;if(!_(r)){e.size&&(n[r]-=e.size);const re=s[e.stack]||{size:0,count:1};re.size=Math.max(re.size,e.horizontal?o.height:o.width),e.size=re.size/re.count,n[r]+=e.size}o.getPadding&&ao(a,o.getPadding());const c=Math.max(0,t.outerWidth-oo(a,n,"left","right")),h=Math.max(0,t.outerHeight-oo(a,n,"top","bottom")),w=c!==n.w,z=h!==n.h;return n.w=c,n.h=h,e.horizontal?{same:w,other:z}:{same:z,other:w}}function Da(n,t){const e=t.maxPadding;return function s(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{o[a]=Math.max(t[a],e[a])}),o}(n?["left","right"]:["top","bottom"])}function Ms(n,t,e,s){const r=[];let o,a,c,h,w,z;for(o=0,a=n.length,w=0;o<a;++o){c=n[o],h=c.box,h.update(c.width||t.w,c.height||t.h,Da(c.horizontal,t));const{same:re,other:ge}=Ma(t,e,c,s);w|=re&&r.length,z=z||ge,h.fullSize||r.push(c)}return w&&Ms(r,t,e,s)||z}function ir(n,t,e,s,r){n.top=e,n.left=t,n.right=t+s,n.bottom=e+r,n.width=s,n.height=r}function lo(n,t,e,s){const r=e.padding;let{x:o,y:a}=t;for(const c of n){const h=c.box,w=s[c.stack]||{count:1,placed:0,weight:1},z=c.stackWeight/w.weight||1;if(c.horizontal){const re=t.w*z,ge=w.size||h.height;R(w.start)&&(a=w.start),h.fullSize?ir(h,r.left,a,e.outerWidth-r.right-r.left,ge):ir(h,t.left+w.placed,a,re,ge),w.start=a,w.placed+=re,a=h.bottom}else{const re=t.h*z,ge=w.size||h.width;R(w.start)&&(o=w.start),h.fullSize?ir(h,o,r.top,ge,e.outerHeight-r.bottom-r.top):ir(h,o,t.top+w.placed,ge,re),w.start=o,w.placed+=re,o=h.right}}t.x=o,t.y=a}It.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Ki={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;const r=Yt(n.options.layout.padding),o=Math.max(t-r.width,0),a=Math.max(e-r.height,0),c=function Ea(n){const t=function Aa(n){const t=[];let e,s,r,o,a,c;for(e=0,s=(n||[]).length;e<s;++e)r=n[e],({position:o,options:{stack:a,stackWeight:c=1}}=r),t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&o+a,stackWeight:c});return t}(n),e=Es(t.filter(w=>w.box.fullSize),!0),s=Es(Ts(t,"left"),!0),r=Es(Ts(t,"right")),o=Es(Ts(t,"top"),!0),a=Es(Ts(t,"bottom")),c=ro(t,"x"),h=ro(t,"y");return{fullSize:e,leftAndTop:s.concat(o),rightAndBottom:r.concat(h).concat(a).concat(c),chartArea:Ts(t,"chartArea"),vertical:s.concat(r).concat(h),horizontal:o.concat(a).concat(c)}}(n.boxes),h=c.vertical,w=c.horizontal;K(n.boxes,Le=>{"function"==typeof Le.beforeLayout&&Le.beforeLayout()});const z=h.reduce((Le,je)=>je.box.options&&!1===je.box.options.display?Le:Le+1,0)||1,re=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/z,hBoxMaxHeight:a/2}),ge=Object.assign({},r);ao(ge,Yt(s));const Oe=Object.assign({maxPadding:ge,w:o,h:a,x:r.left,y:r.top},r),Ie=function Ta(n,t){const e=function Pa(n){const t={};for(const e of n){const{stack:s,pos:r,stackWeight:o}=e;if(!s||!so.includes(r))continue;const a=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return t}(n),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t;let o,a,c;for(o=0,a=n.length;o<a;++o){c=n[o];const{fullSize:h}=c.box,w=e[c.stack],z=w&&c.stackWeight/w.weight;c.horizontal?(c.width=z?z*s:h&&t.availableWidth,c.height=r):(c.width=s,c.height=z?z*r:h&&t.availableHeight)}return e}(h.concat(w),re);Ms(c.fullSize,Oe,re,Ie),Ms(h,Oe,re,Ie),Ms(w,Oe,re,Ie)&&Ms(h,Oe,re,Ie),function Oa(n){const t=n.maxPadding;function e(s){const r=Math.max(t[s]-n[s],0);return n[s]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(Oe),lo(c.leftAndTop,Oe,re,Ie),Oe.x+=Oe.w,Oe.y+=Oe.h,lo(c.rightAndBottom,Oe,re,Ie),n.chartArea={left:Oe.left,top:Oe.top,right:Oe.left+Oe.w,bottom:Oe.top+Oe.h,height:Oe.h,width:Oe.w},K(c.chartArea,Le=>{const je=Le.box;Object.assign(je,n.chartArea),je.update(Oe.w,Oe.h,{left:0,top:0,right:0,bottom:0})})}};class co{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,r){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):s)}}isAttached(t){return!0}updateConfig(t){}}class Ia extends co{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const nr="$chartjs",Ra={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},uo=n=>null===n||""===n,ho=!!vs&&{passive:!0};function Fa(n,t,e){n.canvas.removeEventListener(t,e,ho)}function sr(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function Ba(n,t,e){const s=n.canvas,r=new MutationObserver(o=>{let a=!1;for(const c of o)a=a||sr(c.addedNodes,s),a=a&&!sr(c.removedNodes,s);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function Va(n,t,e){const s=n.canvas,r=new MutationObserver(o=>{let a=!1;for(const c of o)a=a||sr(c.removedNodes,s),a=a&&!sr(c.addedNodes,s);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Os=new Map;let po=0;function fo(){const n=window.devicePixelRatio;n!==po&&(po=n,Os.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Wa(n,t,e){const s=n.canvas,r=s&&_s(s);if(!r)return;const o=f((c,h)=>{const w=r.clientWidth;e(c,h),w<r.clientWidth&&e()},window),a=new ResizeObserver(c=>{const h=c[0],w=h.contentRect.width,z=h.contentRect.height;0===w&&0===z||o(w,z)});return a.observe(r),function Ha(n,t){Os.size||window.addEventListener("resize",fo),Os.set(n,t)}(n,o),a}function Rr(n,t,e){e&&e.disconnect(),"resize"===t&&function Ua(n){Os.delete(n),Os.size||window.removeEventListener("resize",fo)}(n)}function za(n,t,e){const s=n.canvas,r=f(o=>{null!==n.ctx&&e(function Na(n,t){const e=Ra[n.type]||n.type,{x:s,y:r}=Jn(n,t);return{type:e,chart:t,native:n,x:void 0!==s?s:null,y:void 0!==r?r:null}}(o,n))},n,o=>{const a=o[0];return[a,a.offsetX,a.offsetY]});return function La(n,t,e){n.addEventListener(t,e,ho)}(s,t,r),r}class ja extends co{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(function ka(n,t){const e=n.style,s=n.getAttribute("height"),r=n.getAttribute("width");if(n[nr]={initial:{height:s,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",uo(r)){const o=en(n,"width");void 0!==o&&(n.width=o)}if(uo(s))if(""===n.style.height)n.height=n.width/(t||2);else{const o=en(n,"height");void 0!==o&&(n.height=o)}}(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[nr])return!1;const s=e[nr].initial;["height","width"].forEach(o=>{const a=s[o];l(a)?e.removeAttribute(o):e.setAttribute(o,a)});const r=s.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[nr],!0}addEventListener(t,e,s){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:Ba,detach:Va,resize:Wa}[e]||za)(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),r=s[e];r&&(({attach:Rr,detach:Rr,resize:Rr}[e]||Fa)(t,e,r),s[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,r){return function ms(n,t,e,s){const r=Mn(n),o=Bi(r,"margin"),a=Un(r.maxWidth,n,"clientWidth")||ye,c=Un(r.maxHeight,n,"clientHeight")||ye,h=function ss(n,t,e){let s,r;if(void 0===t||void 0===e){const o=_s(n);if(o){const a=o.getBoundingClientRect(),c=Mn(o),h=Bi(c,"border","width"),w=Bi(c,"padding");t=a.width-w.width-h.width,e=a.height-w.height-h.height,s=Un(c.maxWidth,o,"clientWidth"),r=Un(c.maxHeight,o,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:s||ye,maxHeight:r||ye}}(n,t,e);let{width:w,height:z}=h;if("content-box"===r.boxSizing){const re=Bi(r,"border","width"),ge=Bi(r,"padding");w-=ge.width+re.width,z-=ge.height+re.height}return w=Math.max(0,w-o.width),z=Math.max(0,s?Math.floor(w/s):z-o.height),w=Gi(Math.min(w,a,h.maxWidth)),z=Gi(Math.min(z,c,h.maxHeight)),w&&!z&&(z=Gi(w/2)),{width:w,height:z}}(t,e,s,r)}isAttached(t){const e=_s(t);return!(!e||!e.isConnected)}}class Pn{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return pt(this.x)&&pt(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const r={};return t.forEach(o=>{r[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),r}}Pn.defaults={},Pn.defaultRoutes=void 0;const go={values:n=>T(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const s=this.chart.options.locale;let r,o=n;if(e.length>1){const w=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(w<1e-4||w>1e15)&&(r="scientific"),o=function Qa(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const a=Fe(Math.abs(o)),c=Math.max(Math.min(-1*Math.floor(a),20),0),h={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),W(n,s,h)},logarithmic(n,t,e){if(0===n)return"0";const s=n/Math.pow(10,Math.floor(Fe(n)));return 1===s||2===s||5===s?go.numeric.call(this,n,t,e):""}};var rr={formatters:go};function or(n,t,e,s,r){const o=O(s,0),a=Math.min(O(r,n.length),n.length);let h,w,z,c=0;for(e=Math.ceil(e),r&&(h=r-s,e=h/Math.floor(h/e)),z=o;z<0;)c++,z=Math.round(o+c*e);for(w=Math.max(o,0);w<a;w++)w===z&&(t.push(n[w]),c++,z=Math.round(o+c*e))}It.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),It.route("scale.ticks","color","","color"),It.route("scale.grid","color","","borderColor"),It.route("scale.grid","borderColor","","borderColor"),It.route("scale.title","color","","color"),It.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),It.describe("scales",{_fallback:"scale"}),It.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const _o=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e;function mo(n,t){const e=[],s=n.length/t,r=n.length;let o=0;for(;o<r;o+=s)e.push(n[Math.floor(o)]);return e}function el(n,t,e){const s=n.ticks.length,r=Math.min(t,s-1),o=n._startPixel,a=n._endPixel,c=1e-6;let w,h=n.getPixelForTick(r);if(!(e&&(w=1===s?Math.max(h-o,a-h):0===t?(n.getPixelForTick(1)-h)/2:(h-n.getPixelForTick(r-1))/2,h+=r<t?w:-w,h<o-c||h>a+c)))return h}function Ds(n){return n.drawTicks?n.tickLength:0}function vo(n,t){if(!n.display)return 0;const e=Bt(n.font,t),s=Yt(n.padding);return(T(n.text)?n.text.length:1)*e.lineHeight+s.height}function sl(n,t,e){let s=d(n);return(e&&"right"!==t||!e&&"right"===t)&&(s=(n=>"left"===n?"right":"right"===n?"left":n)(s)),s}class Zn extends Pn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:r}=this;return t=oe(t,Number.POSITIVE_INFINITY),e=oe(e,Number.NEGATIVE_INFINITY),s=oe(s,Number.POSITIVE_INFINITY),r=oe(r,Number.NEGATIVE_INFINITY),{min:oe(t,s),max:oe(e,r),minDefined:H(t),maxDefined:H(e)}}getMinMax(t){let a,{min:e,max:s,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:e,max:s};const c=this.getMatchingVisibleMetas();for(let h=0,w=c.length;h<w;++h)a=c[h].controller.getMinMax(this,t),r||(e=Math.min(e,a.min)),o||(s=Math.max(s,a.max));return e=o&&e>s?s:e,s=r&&e>s?e:s,{min:oe(e,oe(s,e)),max:oe(s,oe(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){v(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:r,grace:o,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function zi(n,t,e){const{min:s,max:r}=n,o=b(t,(r-s)/2),a=(c,h)=>e&&0===c?0:c+h;return{min:a(s,-Math.abs(o)),max:a(r,o)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?mo(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function qa(n,t){const e=n.options.ticks,s=e.maxTicksLimit||function Ya(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=e.major.enabled?function Ka(n){const t=[];let e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}(t):[],o=r.length,a=r[0],c=r[o-1],h=[];if(o>s)return function $a(n,t,e,s){let a,r=0,o=e[0];for(s=Math.ceil(s),a=0;a<n.length;a++)a===o&&(t.push(n[a]),r++,o=e[r*s])}(t,h,r,o/s),h;const w=function Ja(n,t,e){const s=function Za(n){const t=n.length;let e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}(n),r=t.length/e;if(!s)return Math.max(r,1);const o=function st(n){const t=[],e=Math.sqrt(n);let s;for(s=1;s<e;s++)n%s==0&&(t.push(s),t.push(n/s));return e===(0|e)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}(s);for(let a=0,c=o.length-1;a<c;a++){const h=o[a];if(h>r)return h}return Math.max(r,1)}(r,t,s);if(o>0){let z,re;const ge=o>1?Math.round((c-a)/(o-1)):null;for(or(t,h,w,l(ge)?0:a-ge,a),z=0,re=o-1;z<re;z++)or(t,h,w,r[z],r[z+1]);return or(t,h,w,c,l(ge)?t.length:c+ge),h}return or(t,h,w),h}(this,this.ticks),this._labelSizes=null),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,s,t=this.options.reverse;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){v(this.options.afterUpdate,[this])}beforeSetDimensions(){v(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){v(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),v(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){v(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,r,o;for(s=0,r=t.length;s<r;s++)o=t[s],o.label=v(e.callback,[o.value,s,t],this)}afterTickToLabelConversion(){v(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){v(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=this.ticks.length,r=e.minRotation||0,o=e.maxRotation;let c,h,w,a=r;if(!this._isVisible()||!e.display||r>=o||s<=1||!this.isHorizontal())return void(this.labelRotation=r);const z=this._getLabelSizes(),re=z.widest.width,ge=z.highest.height,Oe=ft(this.chart.width-re,0,this.maxWidth);c=t.offset?this.maxWidth/s:Oe/(s-1),re+6>c&&(c=Oe/(s-(t.offset?.5:1)),h=this.maxHeight-Ds(t.grid)-e.padding-vo(t.title,this.chart.options.font),w=Math.sqrt(re*re+ge*ge),a=Re(Math.min(Math.asin(ft((z.highest.height+6)/c,-1,1)),Math.asin(ft(h/w,-1,1))-Math.asin(ft(ge/w,-1,1)))),a=Math.max(r,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){v(this.options.afterCalculateLabelRotation,[this])}beforeFit(){v(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:r,grid:o}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const h=vo(r,e.options.font);if(c?(t.width=this.maxWidth,t.height=Ds(o)+h):(t.height=this.maxHeight,t.width=Ds(o)+h),s.display&&this.ticks.length){const{first:w,last:z,widest:re,highest:ge}=this._getLabelSizes(),Oe=2*s.padding,Ie=Me(this.labelRotation),Le=Math.cos(Ie),je=Math.sin(Ie);c?t.height=Math.min(this.maxHeight,t.height+(s.mirror?0:je*re.width+Le*ge.height)+Oe):t.width=Math.min(this.maxWidth,t.width+(s.mirror?0:Le*re.width+je*ge.height)+Oe),this._calculatePadding(w,z,je,Le)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,r){const{ticks:{align:o,padding:a},position:c}=this.options,h=0!==this.labelRotation,w="top"!==c&&"x"===this.axis;if(this.isHorizontal()){const z=this.getPixelForTick(0)-this.left,re=this.right-this.getPixelForTick(this.ticks.length-1);let ge=0,Oe=0;h?w?(ge=r*t.width,Oe=s*e.height):(ge=s*t.height,Oe=r*e.width):"start"===o?Oe=e.width:"end"===o?ge=t.width:(ge=t.width/2,Oe=e.width/2),this.paddingLeft=Math.max((ge-z+a)*this.width/(this.width-z),0),this.paddingRight=Math.max((Oe-re+a)*this.width/(this.width-re),0)}else{let z=e.height/2,re=t.height/2;"start"===o?(z=0,re=t.height):"end"===o&&(z=e.height,re=0),this.paddingTop=z+a,this.paddingBottom=re+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){v(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,s=t.length;e<s;e++)l(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=mo(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length)}return t}_computeLabelSizes(t,e){const{ctx:s,_longestTextCache:r}=this,o=[],a=[];let w,z,re,ge,Oe,Ie,Le,je,Ke,dt,vt,c=0,h=0;for(w=0;w<e;++w){if(ge=t[w].label,Oe=this._resolveTickFontOptions(w),s.font=Ie=Oe.string,Le=r[Ie]=r[Ie]||{data:{},gc:[]},je=Oe.lineHeight,Ke=dt=0,l(ge)||T(ge)){if(T(ge))for(z=0,re=ge.length;z<re;++z)vt=ge[z],!l(vt)&&!T(vt)&&(Ke=pe(s,Le.data,Le.gc,Ke,vt),dt+=je)}else Ke=pe(s,Le.data,Le.gc,Ke,ge),dt=je;o.push(Ke),a.push(dt),c=Math.max(Ke,c),h=Math.max(dt,h)}!function tl(n,t){K(n,e=>{const s=e.gc,r=s.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[s[o]];s.splice(0,r)}})}(r,e);const ht=o.indexOf(c),ot=a.indexOf(h),xt=Ct=>({width:o[Ct]||0,height:a[Ct]||0});return{first:xt(0),last:xt(e-1),widest:xt(ht),highest:xt(ot),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function Vt(n){return ft(n,-32768,32767)}(this._alignToPixels?S(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=function nl(n,t,e){return ni(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,s))}return this.$context||(this.$context=function il(n,t){return ni(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Me(this.labelRotation),s=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),a=t.autoSkipPadding||0,c=o?o.widest.width+a:0,h=o?o.highest.height+a:0;return this.isHorizontal()?h*s>c*r?c/s:h/r:h*r<c*s?h/s:c/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,r=this.options,{grid:o,position:a}=r,c=o.offset,h=this.isHorizontal(),z=this.ticks.length+(c?1:0),re=Ds(o),ge=[],Oe=o.setContext(this.getContext()),Ie=Oe.drawBorder?Oe.borderWidth:0,Le=Ie/2,je=function(zt){return S(s,zt,Ie)};let Ke,dt,vt,ht,ot,xt,Ct,Et,Mt,ri,Jt,Kt;if("top"===a)Ke=je(this.bottom),xt=this.bottom-re,Et=Ke-Le,ri=je(t.top)+Le,Kt=t.bottom;else if("bottom"===a)Ke=je(this.top),ri=t.top,Kt=je(t.bottom)-Le,xt=Ke+Le,Et=this.top+re;else if("left"===a)Ke=je(this.right),ot=this.right-re,Ct=Ke-Le,Mt=je(t.left)+Le,Jt=t.right;else if("right"===a)Ke=je(this.left),Mt=t.left,Jt=je(t.right)-Le,ot=Ke+Le,Ct=this.left+re;else if("x"===e){if("center"===a)Ke=je((t.top+t.bottom)/2+.5);else if(_(a)){const zt=Object.keys(a)[0];Ke=je(this.chart.scales[zt].getPixelForValue(a[zt]))}ri=t.top,Kt=t.bottom,xt=Ke+Le,Et=xt+re}else if("y"===e){if("center"===a)Ke=je((t.left+t.right)/2);else if(_(a)){const zt=Object.keys(a)[0];Ke=je(this.chart.scales[zt].getPixelForValue(a[zt]))}ot=Ke-Le,Ct=ot-re,Mt=t.left,Jt=t.right}const Ai=O(r.ticks.maxTicksLimit,z),sn=Math.max(1,Math.ceil(z/Ai));for(dt=0;dt<z;dt+=sn){const zt=o.setContext(this.getContext(dt)),ci=zt.lineWidth,Ls=zt.color,Xn=o.borderDash||[],Fs=zt.borderDashOffset,yr=zt.tickWidth,as=zt.tickColor,Ns=zt.tickBorderDash||[],Bs=zt.tickBorderDashOffset;vt=el(this,dt,c),void 0!==vt&&(ht=S(s,vt,ci),h?ot=Ct=Mt=Jt=ht:xt=Et=ri=Kt=ht,ge.push({tx1:ot,ty1:xt,tx2:Ct,ty2:Et,x1:Mt,y1:ri,x2:Jt,y2:Kt,width:ci,color:Ls,borderDash:Xn,borderDashOffset:Fs,tickWidth:yr,tickColor:as,tickBorderDash:Ns,tickBorderDashOffset:Bs}))}return this._ticksLength=z,this._borderValue=Ke,ge}_computeLabelItems(t){const e=this.axis,s=this.options,{position:r,ticks:o}=s,a=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:w,padding:z,mirror:re}=o,ge=Ds(s.grid),Oe=ge+z,Ie=re?-z:Oe,Le=-Me(this.labelRotation),je=[];let Ke,dt,vt,ht,ot,xt,Ct,Et,Mt,ri,Jt,Kt,Ai="middle";if("top"===r)xt=this.bottom-Ie,Ct=this._getXAxisLabelAlignment();else if("bottom"===r)xt=this.top+Ie,Ct=this._getXAxisLabelAlignment();else if("left"===r){const zt=this._getYAxisLabelAlignment(ge);Ct=zt.textAlign,ot=zt.x}else if("right"===r){const zt=this._getYAxisLabelAlignment(ge);Ct=zt.textAlign,ot=zt.x}else if("x"===e){if("center"===r)xt=(t.top+t.bottom)/2+Oe;else if(_(r)){const zt=Object.keys(r)[0];xt=this.chart.scales[zt].getPixelForValue(r[zt])+Oe}Ct=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)ot=(t.left+t.right)/2-Oe;else if(_(r)){const zt=Object.keys(r)[0];ot=this.chart.scales[zt].getPixelForValue(r[zt])}Ct=this._getYAxisLabelAlignment(ge).textAlign}"y"===e&&("start"===h?Ai="top":"end"===h&&(Ai="bottom"));const sn=this._getLabelSizes();for(Ke=0,dt=c.length;Ke<dt;++Ke){vt=c[Ke],ht=vt.label;const zt=o.setContext(this.getContext(Ke));Et=this.getPixelForTick(Ke)+o.labelOffset,Mt=this._resolveTickFontOptions(Ke),ri=Mt.lineHeight,Jt=T(ht)?ht.length:1;const ci=Jt/2,Ls=zt.color,Xn=zt.textStrokeColor,Fs=zt.textStrokeWidth;let yr;if(a?(ot=Et,Kt="top"===r?"near"===w||0!==Le?-Jt*ri+ri/2:"center"===w?-sn.highest.height/2-ci*ri+ri:ri/2-sn.highest.height:"near"===w||0!==Le?ri/2:"center"===w?sn.highest.height/2-ci*ri:sn.highest.height-Jt*ri,re&&(Kt*=-1)):(xt=Et,Kt=(1-Jt)*ri/2),zt.showLabelBackdrop){const as=Yt(zt.backdropPadding),Ns=sn.heights[Ke],Bs=sn.widths[Ke];let Jr=xt+Kt-as.top,Kr=ot-as.left;switch(Ai){case"middle":Jr-=Ns/2;break;case"bottom":Jr-=Ns}switch(Ct){case"center":Kr-=Bs/2;break;case"right":Kr-=Bs}yr={left:Kr,top:Jr,width:Bs+as.width,height:Ns+as.height,color:zt.backdropColor}}je.push({rotation:Le,label:ht,font:Mt,color:Ls,strokeColor:Xn,strokeWidth:Fs,textOffset:Kt,textAlign:Ct,textBaseline:Ai,translation:[ot,xt],backdrop:yr})}return je}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Me(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align&&(r="right"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:r,padding:o}}=this.options,c=t+o,h=this._getLabelSizes().widest.width;let w,z;return"left"===e?r?(z=this.right+o,"near"===s?w="left":"center"===s?(w="center",z+=h/2):(w="right",z+=h)):(z=this.right-c,"near"===s?w="right":"center"===s?(w="center",z-=h/2):(w="left",z=this.left)):"right"===e?r?(z=this.left+o,"near"===s?w="right":"center"===s?(w="center",z-=h/2):(w="left",z-=h)):(z=this.left+c,"near"===s?w="left":"center"===s?(w="center",z+=h/2):(w="right",z=this.right)):w="right",{textAlign:w,x:z}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:r,width:o,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,r,o,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,a;const c=(h,w,z)=>{!z.width||!z.color||(s.save(),s.lineWidth=z.width,s.strokeStyle=z.color,s.setLineDash(z.borderDash||[]),s.lineDashOffset=z.borderDashOffset,s.beginPath(),s.moveTo(h.x,h.y),s.lineTo(w.x,w.y),s.stroke(),s.restore())};if(e.display)for(o=0,a=r.length;o<a;++o){const h=r[o];e.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:s}}=this,r=s.setContext(this.getContext()),o=s.drawBorder?r.borderWidth:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let h,w,z,re;this.isHorizontal()?(h=S(t,this.left,o)-o/2,w=S(t,this.right,a)+a/2,z=re=c):(z=S(t,this.top,o)-o/2,re=S(t,this.bottom,a)+a/2,h=w=c),e.save(),e.lineWidth=r.borderWidth,e.strokeStyle=r.borderColor,e.beginPath(),e.moveTo(h,z),e.lineTo(w,re),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&ct(s,r);const o=this._labelItems||(this._labelItems=this._computeLabelItems(t));let a,c;for(a=0,c=o.length;a<c;++a){const h=o[a],w=h.font,z=h.label;h.backdrop&&(s.fillStyle=h.backdrop.color,s.fillRect(h.backdrop.left,h.backdrop.top,h.backdrop.width,h.backdrop.height)),kt(s,z,0,h.textOffset,w,h)}r&&nt(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:r}}=this;if(!s.display)return;const o=Bt(s.font),a=Yt(s.padding),c=s.align;let h=o.lineHeight/2;"bottom"===e||"center"===e||_(e)?(h+=a.bottom,T(s.text)&&(h+=o.lineHeight*(s.text.length-1))):h+=a.top;const{titleX:w,titleY:z,maxWidth:re,rotation:ge}=function rl(n,t,e,s){const{top:r,left:o,bottom:a,right:c,chart:h}=n,{chartArea:w,scales:z}=h;let ge,Oe,Ie,re=0;const Le=a-r,je=c-o;if(n.isHorizontal()){if(Oe=A(s,o,c),_(e)){const Ke=Object.keys(e)[0];Ie=z[Ke].getPixelForValue(e[Ke])+Le-t}else Ie="center"===e?(w.bottom+w.top)/2+Le-t:_o(n,e,t);ge=c-o}else{if(_(e)){const Ke=Object.keys(e)[0];Oe=z[Ke].getPixelForValue(e[Ke])-je+t}else Oe="center"===e?(w.left+w.right)/2-je+t:_o(n,e,t);Ie=A(s,a,r),re="left"===e?-we:we}return{titleX:Oe,titleY:Ie,maxWidth:ge,rotation:re}}(this,h,e,c);kt(t,s.text,0,0,o,{color:s.color,maxWidth:re,rotation:ge,textAlign:sl(c,e,r),textBaseline:"middle",translation:[w,z]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=O(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===Zn.prototype.draw?[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s+1,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]:[{z:e,draw:r=>{this.draw(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let o,a;for(o=0,a=e.length;o<a;++o){const c=e[o];c[s]===this.id&&(!t||c.type===t)&&r.push(c)}return r}_resolveTickFontOptions(t){return Bt(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ar{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;(function ll(n){return"id"in n&&"defaults"in n})(e)&&(s=this.register(e));const r=this.items,o=t.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,function ol(n,t,e){const s=G(Object.create(null),[e?It.get(e):{},It.get(t),n.defaults]);It.set(t,s),n.defaultRoutes&&function al(n,t){Object.keys(t).forEach(e=>{const s=e.split("."),r=s.pop(),o=[n].concat(s).join("."),a=t[e].split("."),c=a.pop(),h=a.join(".");It.route(o,r,h,c)})}(t,n.defaultRoutes),n.descriptors&&It.describe(t,n.descriptors)}(t,a,s),this.override&&It.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,r=this.scope;s in e&&delete e[s],r&&s in It[r]&&(delete It[r][s],this.override&&delete Ei[s])}}var Nn=new class cl{constructor(){this.controllers=new ar(Ve,"datasets",!0),this.elements=new ar(Pn,"elements"),this.plugins=new ar(Object,"plugins"),this.scales=new ar(Zn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(r=>{const o=s||this._getRegistryForType(r);s||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):K(r,a=>{const c=s||this._getRegistryForType(a);this._exec(t,c,a)})})}_exec(t,e,s){const r=F(t);v(s["before"+r],[],s),e[t](s),v(s["after"+r],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+s+".");return r}};class dl{constructor(){this._init=[]}notify(t,e,s,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(o,t,e,s);return"afterDestroy"===e&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,s,r){r=r||{};for(const o of t){const a=o.plugin;if(!1===v(a[s],[e,r,o.options],a)&&r.cancelable)return!1}return!0}invalidate(){l(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,r=O(s.options&&s.options.plugins,{}),o=function ul(n){const t=[],e=Object.keys(Nn.plugins.items);for(let r=0;r<e.length;r++)t.push(Nn.getPlugin(e[r]));const s=n.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];-1===t.indexOf(o)&&t.push(o)}return t}(s);return!1!==r||e?function pl(n,t,e,s){const r=[],o=n.getContext();for(let a=0;a<t.length;a++){const c=t[a],w=hl(e[c.id],s);null!==w&&r.push({plugin:c,options:fl(n.config,c,w,o)})}return r}(t,o,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,r=(o,a)=>o.filter(c=>!a.some(h=>c.plugin.id===h.plugin.id));this._notify(r(e,s),t,"stop"),this._notify(r(s,e),t,"start")}}function hl(n,t){return t||!1!==n?!0===n?{}:n:null}function fl(n,t,e,s){const r=n.pluginScopeKeys(t),o=n.getOptionScopes(e,r);return n.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function kr(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(It.datasets[n]||{}).indexAxis||"x"}function Lr(n,t){return"x"===n||"y"===n?n:t.axis||function ml(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(t.position)||n.charAt(0).toLowerCase()}function bo(n){const t=n.options||(n.options={});t.plugins=O(t.plugins,{}),t.scales=function vl(n,t){const e=Ei[n.type]||{scales:{}},s=t.scales||{},r=kr(n.type,t),o=Object.create(null),a=Object.create(null);return Object.keys(s).forEach(c=>{const h=s[c];if(!_(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const w=Lr(c,h),z=function _l(n,t){return n===t?"_index_":"_value_"}(w,r),re=e.scales||{};o[w]=o[w]||c,a[c]=ne(Object.create(null),[{axis:w},h,re[w],re[z]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,w=c.indexAxis||kr(h,t),re=(Ei[h]||{}).scales||{};Object.keys(re).forEach(ge=>{const Oe=function gl(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(ge,w),Ie=c[Oe+"AxisID"]||o[Oe]||Oe;a[Ie]=a[Ie]||Object.create(null),ne(a[Ie],[{axis:Oe},s[Ie],re[ge]])})}),Object.keys(a).forEach(c=>{const h=a[c];ne(h,[It.scales[h.type],It.scale])}),a}(n,t)}function yo(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const xo=new Map,Co=new Set;function lr(n,t){let e=xo.get(n);return e||(e=t(),xo.set(n,e),Co.add(e)),e}const Is=(n,t,e)=>{const s=ee(t,e);void 0!==s&&n.add(s)};class yl{constructor(t){this._config=function bl(n){return(n=n||{}).data=yo(n.data),bo(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=yo(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),bo(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return lr(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return lr(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return lr(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return lr(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let r=s.get(t);return(!r||e)&&(r=new Map,s.set(t,r)),r}getOptionScopes(t,e,s){const{options:r,type:o}=this,a=this._cachedScopes(t,s),c=a.get(e);if(c)return c;const h=new Set;e.forEach(z=>{t&&(h.add(t),z.forEach(re=>Is(h,t,re))),z.forEach(re=>Is(h,r,re)),z.forEach(re=>Is(h,Ei[o]||{},re)),z.forEach(re=>Is(h,It,re)),z.forEach(re=>Is(h,cn,re))});const w=Array.from(h);return 0===w.length&&w.push(Object.create(null)),Co.has(e)&&a.set(e,w),w}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ei[e]||{},It.datasets[e]||{},{type:e},It,cn]}resolveNamedOptions(t,e,s,r=[""]){const o={$shared:!0},{resolver:a,subPrefixes:c}=So(this._resolverCache,t,r);let h=a;(function Cl(n,t){const{isScriptable:e,isIndexable:s}=En(n);for(const r of t){const o=e(r),a=s(r),c=(a||o)&&n[r];if(o&&(j(c)||xl(c))||a&&T(c))return!0}return!1})(a,e)&&(o.$shared=!1,h=dn(a,s=j(s)?s():s,this.createResolver(t,s,c)));for(const w of e)o[w]=h[w];return o}createResolver(t,e,s=[""],r){const{resolver:o}=So(this._resolverCache,t,s);return _(e)?dn(o,e,void 0,r):o}}function So(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));const r=e.join();let o=s.get(r);return o||(o={resolver:ji(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},s.set(r,o)),o}const xl=n=>_(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||j(n[e]),!1),wl=["top","bottom","left","right","chartArea"];function wo(n,t){return"top"===n||"bottom"===n||-1===wl.indexOf(n)&&"x"===t}function Ao(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function Po(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),v(e&&e.onComplete,[n],t)}function Al(n){const t=n.chart,e=t.options.animation;v(e&&e.onProgress,[n],t)}function To(n){return gs()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const cr={},Eo=n=>{const t=To(n);return Object.values(cr).filter(e=>e.canvas===t).pop()};function Pl(n,t,e){const s=Object.keys(n);for(const r of s){const o=+r;if(o>=t){const a=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=a)}}}class dr{constructor(t,e){const s=this.config=new yl(e),r=To(t),o=Eo(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function Ga(n){return!gs()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?Ia:ja}(r)),this.platform.updateConfig(s);const c=this.platform.acquireContext(r,a.aspectRatio),h=c&&c.canvas,w=h&&h.height,z=h&&h.width;this.id=E(),this.ctx=c,this.canvas=h,this.width=z,this.height=w,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new dl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function I(n,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(n,t,s)):n.apply(this,s),t}}(re=>this.update(re),a.resizeDelay||0),this._dataChanges=[],cr[this.id]=this,c&&h?(oi.listen(this,"complete",Po),oi.listen(this,"progress",Al),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:r,_aspectRatio:o}=this;return l(t)?e&&o?o:r?s/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Wn(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return k(this.canvas,this.ctx),this}stop(){return oi.stop(this),this}resize(t,e){oi.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,a=this.platform.getMaximumSize(this.canvas,t,e,s.maintainAspectRatio&&this.aspectRatio),c=s.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Wn(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),v(s.onResize,[this,a],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){K(this.options.scales||{},(s,r)=>{s.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,r=Object.keys(s).reduce((a,c)=>(a[c]=!1,a),{});let o=[];e&&(o=o.concat(Object.keys(e).map(a=>{const c=e[a],h=Lr(a,c),w="r"===h,z="x"===h;return{options:c,dposition:w?"chartArea":z?"bottom":"left",dtype:w?"radialLinear":z?"category":"linear"}}))),K(o,a=>{const c=a.options,h=c.id,w=Lr(h,c),z=O(c.type,a.dtype);(void 0===c.position||wo(c.position,w)!==wo(a.dposition))&&(c.position=a.dposition),r[h]=!0;let re=null;h in s&&s[h].type===z?re=s[h]:(re=new(Nn.getScale(z))({id:h,type:z,ctx:this.ctx,chart:this}),s[re.id]=re),re.init(c,t)}),K(r,(a,c)=>{a||delete s[c]}),K(s,a=>{Ki.configure(this,a,a.options),Ki.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((r,o)=>r.index-o.index),s>e){for(let r=e;r<s;++r)this._destroyDatasetMeta(r);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(Ao("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,r)=>{0===e.filter(o=>o===s._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=e.length;s<r;s++){const o=e[s];let a=this.getDatasetMeta(s);const c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=c,a.indexAxis=o.indexAxis||kr(c,this.options),a.order=o.order||0,a.index=s,a.label=""+o.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const h=Nn.getController(c),{datasetElementType:w,dataElementType:z}=It.datasets[c];Object.assign(h.prototype,{dataElementType:Nn.getElement(z),datasetElementType:w&&Nn.getElement(w)}),a.controller=new h(this,s),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){K(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let w=0,z=this.data.datasets.length;w<z;w++){const{controller:re}=this.getDatasetMeta(w),ge=!r&&-1===o.indexOf(re);re.buildOrUpdateElements(ge),a=Math.max(+re.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),r||K(o,w=>{w.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ao("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){K(this.scales,t=>{Ki.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Y(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:o}of e)Pl(t,r,"_removeElements"===s?-o:o)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=o=>new Set(t.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),r=s(0);for(let o=1;o<e;o++)if(!Y(r,s(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ki.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],K(this.boxes,r=>{s&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,j(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),r={meta:s,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(s.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(oi.has(this)?this.attached&&!oi.running(this)&&oi.start(this):(this.draw(),Po({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resize(s,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let r,o;for(r=0,o=e.length;r<o;++r){const a=e[r];(!t||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s=t._clip,r=!s.disabled,o=this.chartArea,a={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&ct(e,{left:!1===s.left?0:o.left-s.left,right:!1===s.right?this.width:o.right+s.right,top:!1===s.top?0:o.top-s.top,bottom:!1===s.bottom?this.height:o.bottom+s.bottom}),t.controller.draw(),r&&nt(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}getElementsAtEventForMode(t,e,s,r){const o=wa.modes[e];return"function"==typeof o?o(this,t,s,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let r=s.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=ni(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return"boolean"==typeof s.hidden?!s.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const r=s?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,r);R(e)?(o.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),a.update(o,{visible:s}),this.update(c=>c.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),oi.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),k(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete cr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(o,a)=>{e.addEventListener(this,o,a),t[o]=a},r=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};K(this.options.events,o=>s(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(h,w)=>{e.addEventListener(this,h,w),t[h]=w},r=(h,w)=>{t[h]&&(e.removeEventListener(this,h,w),delete t[h])},o=(h,w)=>{this.canvas&&this.resize(h,w)};let a;const c=()=>{r("attach",c),this.attached=!0,this.resize(),s("resize",o),s("detach",a)};a=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),s("attach",c)},e.isAttached(this.canvas)?c():a()}unbindEvents(){K(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},K(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const r=s?"set":"remove";let o,a,c,h;for("dataset"===e&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){a=t[c];const w=a&&this.getDatasetMeta(a.datasetIndex).controller;w&&w[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:o,index:a})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!x(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}_updateHoverStyles(t,e,s){const r=this.options.hover,o=(h,w)=>h.filter(z=>!w.some(re=>z.datasetIndex===re.datasetIndex&&z.index===re.index)),a=o(e,t),c=s?t:o(t,e);a.length&&this.updateHoverStyle(a,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:De(t,this.chartArea,this._minPadding)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",s,r))return;const o=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(o||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:r=[],options:o}=this,c=this._getActiveElements(t,r,s,e),h=function Q(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),w=function Tl(n,t,e,s){return e&&"mouseout"!==n.type?s?t:n:null}(t,this._lastEvent,s,h);s&&(this._lastEvent=null,v(o.onHover,[t,c,this],this),h&&v(o.onClick,[t,c,this],this));const z=!x(c,r);return(z||e)&&(this._active=c,this._updateHoverStyles(c,r,e)),this._lastEvent=w,z}_getActiveElements(t,e,s,r){if("mouseout"===t.type)return[];if(!s)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}}const Mo=()=>K(dr.instances,n=>n._plugins.invalidate()),jn=!0;function Oo(n,t,e){const{startAngle:s,pixelMargin:r,x:o,y:a,outerRadius:c,innerRadius:h}=t;let w=r/c;n.beginPath(),n.arc(o,a,c,s-w,e+w),h>r?(w=r/h,n.arc(o,a,h,e+w,s-w,!0)):n.arc(o,a,r,e+we,s-we),n.closePath(),n.clip()}function os(n,t,e,s){return{x:e+n*Math.cos(t),y:s+n*Math.sin(t)}}function Fr(n,t,e,s,r){const{x:o,y:a,startAngle:c,pixelMargin:h,innerRadius:w}=t,z=Math.max(t.outerRadius+s+e-h,0),re=w>0?w+s+e+h:0;let ge=0;const Oe=r-c;if(s){const Xn=((w>0?w-s:0)+(z>0?z-s:0))/2;ge=(Oe-(0!==Xn?Oe*Xn/(Xn+s):Oe))/2}const Le=(Oe-Math.max(.001,Oe*z-e/m)/z)/2,je=c+Le+ge,Ke=r-Le-ge,{outerStart:dt,outerEnd:vt,innerStart:ht,innerEnd:ot}=function Ml(n,t,e,s){const r=function El(n){return yn(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),o=(e-t)/2,a=Math.min(o,s*t/2),c=h=>{const w=(e-Math.min(o,h))*s/2;return ft(h,0,Math.min(o,w))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:ft(r.innerStart,0,a),innerEnd:ft(r.innerEnd,0,a)}}(t,re,z,Ke-je),xt=z-dt,Ct=z-vt,Et=je+dt/xt,Mt=Ke-vt/Ct,ri=re+ht,Jt=re+ot,Kt=je+ht/ri,Ai=Ke-ot/Jt;if(n.beginPath(),n.arc(o,a,z,Et,Mt),vt>0){const ci=os(Ct,Mt,o,a);n.arc(ci.x,ci.y,vt,Mt,Ke+we)}const sn=os(Jt,Ke,o,a);if(n.lineTo(sn.x,sn.y),ot>0){const ci=os(Jt,Ai,o,a);n.arc(ci.x,ci.y,ot,Ke+we,Ai+Math.PI)}if(n.arc(o,a,re,Ke-ot/re,je+ht/re,!0),ht>0){const ci=os(ri,Kt,o,a);n.arc(ci.x,ci.y,ht,Kt+Math.PI,je-we)}const zt=os(xt,je,o,a);if(n.lineTo(zt.x,zt.y),dt>0){const ci=os(xt,Et,o,a);n.arc(ci.x,ci.y,dt,je-we,Et)}n.closePath()}Object.defineProperties(dr,{defaults:{enumerable:jn,value:It},instances:{enumerable:jn,value:cr},overrides:{enumerable:jn,value:Ei},registry:{enumerable:jn,value:Nn},version:{enumerable:jn,value:"3.7.1"},getChart:{enumerable:jn,value:Eo},register:{enumerable:jn,value:(...n)=>{Nn.add(...n),Mo()}},unregister:{enumerable:jn,value:(...n)=>{Nn.remove(...n),Mo()}}});class ur extends Pn{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=et(r,{x:t,y:e}),{startAngle:c,endAngle:h,innerRadius:w,outerRadius:z,circumference:re}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),ge=this.options.spacing/2,Ie=O(re,h-c)>=U||Ze(o,c,h),Le=St(a,w+ge,z+ge);return Ie&&Le}getCenterPoint(t){const{x:e,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:h,spacing:w}=this.options,z=(r+o)/2,re=(a+c+w+h)/2;return{x:e+Math.cos(z)*re,y:s+Math.sin(z)*re}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:s}=this,r=(e.offset||0)/2,o=(e.spacing||0)/2;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=s>U?Math.floor(s/U):0,0===s||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=0;if(r){a=r/2;const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*a,Math.sin(h)*a),this.circumference>=m&&(a=r)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const c=function Ol(n,t,e,s){const{fullCircles:r,startAngle:o,circumference:a}=t;let c=t.endAngle;if(r){Fr(n,t,e,s,o+U);for(let h=0;h<r;++h)n.fill();isNaN(a)||(c=o+a%U,a%U==0&&(c+=U))}return Fr(n,t,e,s,c),n.fill(),c}(t,this,a,o);(function Il(n,t,e,s,r){const{options:o}=t,{borderWidth:a,borderJoinStyle:c}=o,h="inner"===o.borderAlign;!a||(h?(n.lineWidth=2*a,n.lineJoin=c||"round"):(n.lineWidth=a,n.lineJoin=c||"bevel"),t.fullCircles&&function Dl(n,t,e){const{x:s,y:r,startAngle:o,pixelMargin:a,fullCircles:c}=t,h=Math.max(t.outerRadius-a,0),w=t.innerRadius+a;let z;for(e&&Oo(n,t,o+U),n.beginPath(),n.arc(s,r,w,o+U,o,!0),z=0;z<c;++z)n.stroke();for(n.beginPath(),n.arc(s,r,h,o,o+U),z=0;z<c;++z)n.stroke()}(n,t,h),h&&Oo(n,t,r),Fr(n,t,e,s,r),n.stroke())})(t,this,a,o,c),t.restore()}}function Do(n,t,e=t){n.lineCap=O(e.borderCapStyle,t.borderCapStyle),n.setLineDash(O(e.borderDash,t.borderDash)),n.lineDashOffset=O(e.borderDashOffset,t.borderDashOffset),n.lineJoin=O(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=O(e.borderWidth,t.borderWidth),n.strokeStyle=O(e.borderColor,t.borderColor)}function Rl(n,t,e){n.lineTo(e.x,e.y)}function Io(n,t,e={}){const s=n.length,{start:r=0,end:o=s-1}=e,{start:a,end:c}=t,h=Math.max(r,a),w=Math.min(o,c);return{count:s,start:h,loop:t.loop,ilen:w<h&&!(r<a&&o<a||r>c&&o>c)?s+w-h:w-h}}function Ll(n,t,e,s){const{points:r,options:o}=t,{count:a,start:c,loop:h,ilen:w}=Io(r,e,s),z=function kl(n){return n.stepped?bt:n.tension||"monotone"===n.cubicInterpolationMode?Nt:Rl}(o);let Oe,Ie,Le,{move:re=!0,reverse:ge}=s||{};for(Oe=0;Oe<=w;++Oe)Ie=r[(c+(ge?w-Oe:Oe))%a],!Ie.skip&&(re?(n.moveTo(Ie.x,Ie.y),re=!1):z(n,Le,Ie,ge,o.stepped),Le=Ie);return h&&(Ie=r[(c+(ge?w:0))%a],z(n,Le,Ie,ge,o.stepped)),!!h}function Fl(n,t,e,s){const r=t.points,{count:o,start:a,ilen:c}=Io(r,e,s),{move:h=!0,reverse:w}=s||{};let ge,Oe,Ie,Le,je,Ke,z=0,re=0;const dt=ht=>(a+(w?c-ht:ht))%o,vt=()=>{Le!==je&&(n.lineTo(z,je),n.lineTo(z,Le),n.lineTo(z,Ke))};for(h&&(Oe=r[dt(0)],n.moveTo(Oe.x,Oe.y)),ge=0;ge<=c;++ge){if(Oe=r[dt(ge)],Oe.skip)continue;const ht=Oe.x,ot=Oe.y,xt=0|ht;xt===Ie?(ot<Le?Le=ot:ot>je&&(je=ot),z=(re*z+ht)/++re):(vt(),n.lineTo(ht,ot),Ie=xt,re=0,Le=je=ot),Ke=ot}vt()}function Nr(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?Ll:Fl}ur.id="arc",ur.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},ur.defaultRoutes={backgroundColor:"backgroundColor"};const Hl="function"==typeof Path2D;let hr=(()=>{class n extends Pn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(Ar(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,s),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Vi(n,t){const e=n.points,s=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:a,end:c}=function _i(n,t,e,s){let r=0,o=t-1;if(e&&!s)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}(e,r,o,s);return function Ri(n,t,e,s){return s&&s.setContext&&e?function wn(n,t,e,s){const r=n._chart.getContext(),o=ei(n.options),{_datasetIndex:a,options:{spanGaps:c}}=n,h=e.length,w=[];let z=o,re=t[0].start,ge=re;function Oe(Ie,Le,je,Ke){const dt=c?-1:1;if(Ie!==Le){for(Ie+=h;e[Ie%h].skip;)Ie-=dt;for(;e[Le%h].skip;)Le+=dt;Ie%h!=Le%h&&(w.push({start:Ie%h,end:Le%h,loop:je,style:Ke}),z=Ke,re=Le%h)}}for(const Ie of t){re=c?re:Ie.start;let je,Le=e[re%h];for(ge=re+1;ge<=Ie.end;ge++){const Ke=e[ge%h];je=ei(s.setContext(ni(r,{type:"segment",p0:Le,p1:Ke,p0DataIndex:(ge-1)%h,p1DataIndex:ge%h,datasetIndex:a}))),bs(je,z)&&Oe(re,ge-1,Ie.loop,z),Le=Ke,z=je}re<ge-1&&Oe(re,ge-1,Ie.loop,z)}return w}(n,t,e,s):t}(n,!0===s?[{start:a,end:c,loop:o}]:function Ft(n,t,e,s){const r=n.length,o=[];let h,a=t,c=n[t];for(h=t+1;h<=e;++h){const w=n[h%r];w.skip||w.stop?c.skip||(o.push({start:t%r,end:(h-1)%r,loop:s=!1}),t=a=w.stop?h:null):(a=h,c.skip&&(t=h)),c=w}return null!==a&&o.push({start:t%r,end:a%r,loop:s}),o}(e,a,c<a?c+r:c,!!n._fullLoop&&0===a&&c===r-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,s){const r=this.options,o=e[s],a=this.points,c=Lt(this,{property:s,start:o,end:o});if(!c.length)return;const h=[],w=function Nl(n){return n.stepped?tn:n.tension||"monotone"===n.cubicInterpolationMode?Qi:hn}(r);let z,re;for(z=0,re=c.length;z<re;++z){const{start:ge,end:Oe}=c[z],Ie=a[ge],Le=a[Oe];if(Ie===Le){h.push(Ie);continue}const Ke=w(Ie,Le,Math.abs((o-Ie[s])/(Le[s]-Ie[s])),r.stepped);Ke[s]=e[s],h.push(Ke)}return 1===h.length?h[0]:h}pathSegment(e,s,r){return Nr(this)(e,this,s,r)}path(e,s,r){const o=this.segments,a=Nr(this);let c=this._loop;s=s||0,r=r||this.points.length-s;for(const h of o)c&=a(e,this,h,{start:s,end:s+r-1});return!!c}draw(e,s,r,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function Ul(n,t,e,s){Hl&&!t.options.segment?function Bl(n,t,e,s){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,s)&&r.closePath()),Do(n,t.options),n.stroke(r)}(n,t,e,s):function Vl(n,t,e,s){const{segments:r,options:o}=t,a=Nr(t);for(const c of r)Do(n,o,c.style),n.beginPath(),a(n,t,c,{start:e,end:e+s-1})&&n.closePath(),n.stroke()}(n,t,e,s)}(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t},n})();function Ro(n,t,e,s){const r=n.options,{[e]:o}=n.getProps([e],s);return Math.abs(t-o)<r.radius+r.hitRadius}let Wl=(()=>{class n extends Pn{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,r){const o=this.options,{x:a,y:c}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(s-c,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,s){return Ro(this,e,"x",s)}inYRange(e,s){return Ro(this,e,"y",s)}getCenterPoint(e){const{x:s,y:r}=this.getProps(["x","y"],e);return{x:s,y:r}}size(e){let s=(e=e||this.options||{}).radius||0;return s=Math.max(s,s&&e.hoverRadius||0),2*(s+(s&&e.borderWidth||0))}draw(e,s){const r=this.options;this.skip||r.radius<.1||!De(this,s,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Ae(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function ko(n,t){const{x:e,y:s,base:r,width:o,height:a}=n.getProps(["x","y","base","width","height"],t);let c,h,w,z,re;return n.horizontal?(re=a/2,c=Math.min(e,r),h=Math.max(e,r),w=s-re,z=s+re):(re=o/2,c=e-re,h=e+re,w=Math.min(s,r),z=Math.max(s,r)),{left:c,top:w,right:h,bottom:z}}function Gn(n,t,e,s){return n?0:ft(t,e,s)}function Br(n,t,e,s){const r=null===t,o=null===e,c=n&&!(r&&o)&&ko(n,s);return c&&(r||St(t,c.left,c.right))&&(o||St(e,c.top,c.bottom))}function ql(n,t){n.rect(t.x,t.y,t.w,t.h)}function Vr(n,t,e={}){const s=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+s,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-s),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}class pr extends Pn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:r}}=this,{inner:o,outer:a}=function Gl(n){const t=ko(n),e=t.right-t.left,s=t.bottom-t.top,r=function zl(n,t,e){const r=n.borderSkipped,o=Zt(n.options.borderWidth);return{t:Gn(r.top,o.top,0,e),r:Gn(r.right,o.right,0,t),b:Gn(r.bottom,o.bottom,0,e),l:Gn(r.left,o.left,0,t)}}(n,e/2,s/2),o=function jl(n,t,e){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Xt(r),a=Math.min(t,e),c=n.borderSkipped,h=s||_(r);return{topLeft:Gn(!h||c.top||c.left,o.topLeft,0,a),topRight:Gn(!h||c.top||c.right,o.topRight,0,a),bottomLeft:Gn(!h||c.bottom||c.left,o.bottomLeft,0,a),bottomRight:Gn(!h||c.bottom||c.right,o.bottomRight,0,a)}}(n,e/2,s/2);return{outer:{x:t.left,y:t.top,w:e,h:s,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}(this),c=function Ql(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?di:ql;t.save(),(a.w!==o.w||a.h!==o.h)&&(t.beginPath(),c(t,Vr(a,e,o)),t.clip(),c(t,Vr(o,-e,a)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),c(t,Vr(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,s){return Br(this,t,e,s)}inXRange(t,e){return Br(this,t,null,e)}inYRange(t,e){return Br(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?s:(s+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}pr.id="bar",pr.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},pr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Yl=Object.freeze({__proto__:null,ArcElement:ur,LineElement:hr,PointElement:Wl,BarElement:pr});function Lo(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:t})}}function Fo(n){n.data.datasets.forEach(t=>{Lo(t)})}var Zl={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void Fo(n);const s=n.width;n.data.datasets.forEach((r,o)=>{const{_data:a,indexAxis:c}=r,h=n.getDatasetMeta(o),w=a||r.data;if("y"===wi([c,n.options.indexAxis])||"line"!==h.type)return;const z=n.scales[h.xAxisID];if("linear"!==z.type&&"time"!==z.type||n.options.parsing)return;let Ie,{start:re,count:ge}=function $l(n,t){const e=t.length;let r,s=0;const{iScale:o}=n,{min:a,max:c,minDefined:h,maxDefined:w}=o.getUserBounds();return h&&(s=ft(Ci(t,o.axis,a).lo,0,e-1)),r=w?ft(Ci(t,o.axis,c).hi+1,s,e)-s:e-s,{start:s,count:r}}(h,w);if(ge<=(e.threshold||4*s))Lo(r);else{switch(l(a)&&(r._data=w,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Le){this._data=Le}})),e.algorithm){case"lttb":Ie=function Jl(n,t,e,s,r){const o=r.samples||s;if(o>=e)return n.slice(t,t+e);const a=[],c=(e-2)/(o-2);let h=0;const w=t+e-1;let re,ge,Oe,Ie,Le,z=t;for(a[h++]=n[z],re=0;re<o-2;re++){let dt,je=0,Ke=0;const vt=Math.floor((re+1)*c)+1+t,ht=Math.min(Math.floor((re+2)*c)+1,e)+t,ot=ht-vt;for(dt=vt;dt<ht;dt++)je+=n[dt].x,Ke+=n[dt].y;je/=ot,Ke/=ot;const xt=Math.floor(re*c)+1+t,Ct=Math.min(Math.floor((re+1)*c)+1,e)+t,{x:Et,y:Mt}=n[z];for(Oe=Ie=-1,dt=xt;dt<Ct;dt++)Ie=.5*Math.abs((Et-je)*(n[dt].y-Mt)-(Et-n[dt].x)*(Ke-Mt)),Ie>Oe&&(Oe=Ie,ge=n[dt],Le=dt);a[h++]=ge,z=Le}return a[h++]=n[w],a}(w,re,ge,s,e);break;case"min-max":Ie=function Kl(n,t,e,s){let a,c,h,w,z,re,ge,Oe,Ie,Le,r=0,o=0;const je=[],dt=n[t].x,ht=n[t+e-1].x-dt;for(a=t;a<t+e;++a){c=n[a],h=(c.x-dt)/ht*s,w=c.y;const ot=0|h;if(ot===z)w<Ie?(Ie=w,re=a):w>Le&&(Le=w,ge=a),r=(o*r+c.x)/++o;else{const xt=a-1;if(!l(re)&&!l(ge)){const Ct=Math.min(re,ge),Et=Math.max(re,ge);Ct!==Oe&&Ct!==xt&&je.push(Hs(Vs({},n[Ct]),{x:r})),Et!==Oe&&Et!==xt&&je.push(Hs(Vs({},n[Et]),{x:r}))}a>0&&xt!==Oe&&je.push(n[xt]),je.push(c),z=ot,o=0,Ie=Le=w,re=ge=Oe=a}}return je}(w,re,ge,s);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=Ie}})},destroy(n){Fo(n)}};function tc(n,t,e){const s=function ec(n){const t=n.options,e=t.fill;let s=O(e&&e.target,e);return void 0===s&&(s=!!t.backgroundColor),!1!==s&&null!==s&&(!0===s?"origin":s)}(n);if(_(s))return!isNaN(s.value)&&s;let r=parseFloat(s);return H(r)&&Math.floor(r)===r?(("-"===s[0]||"+"===s[0])&&(r=t+r),!(r===t||r<0||r>=e)&&r):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}class No{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,s){const{x:r,y:o,radius:a}=this;return t.arc(r,o,a,(e=e||{start:0,end:U}).end,e.start,!0),!s.bounds}interpolate(t){const{x:e,y:s,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:s+Math.sin(o)*r,angle:o}}}function Hr(n,t,e){for(;t>n;t--){const s=e[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function lc(n,t,e){const s=[];for(let r=0;r<e.length;r++){const o=e[r],{first:a,last:c,point:h}=cc(o,t,"x");if(!(!h||a&&c))if(a)s.unshift(h);else if(n.push(h),!c)break}n.push(...s)}function cc(n,t,e){const s=n.interpolate(t,e);if(!s)return{};const r=s[e],o=n.segments,a=n.points;let c=!1,h=!1;for(let w=0;w<o.length;w++){const z=o[w],re=a[z.start][e],ge=a[z.end][e];if(St(r,re,ge)){c=r===re,h=r===ge;break}}return{first:c,last:h,point:s}}function dc(n){const{chart:t,fill:e,line:s}=n;if(H(e))return function Xl(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function oc(n){const{scale:t,index:e,line:s}=n,r=[],o=s.segments,a=s.points,c=function ac(n,t){const e=[],s=n.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const o=s[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}(t,e);c.push(Bo({x:null,y:t.bottom},s));for(let h=0;h<o.length;h++){const w=o[h];for(let z=w.start;z<=w.end;z++)lc(r,a[z],c)}return new hr({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function sc(n){return(n.scale||{}).getPointPositionForValue?function nc(n){const{scale:t,fill:e}=n,s=t.options,r=t.getLabels().length,o=[],a=s.reverse?t.max:t.min;let h,w,z;if(z="start"===e?a:"end"===e?s.reverse?t.min:t.max:_(e)?e.value:t.getBaseValue(),s.grid.circular)return w=t.getPointPositionForValue(0,a),new No({x:w.x,y:w.y,radius:t.getDistanceFromCenterForValue(z)});for(h=0;h<r;++h)o.push(t.getPointPositionForValue(h,z));return o}(n):function ic(n){const{scale:t={},fill:e}=n;let r,s=null;return"start"===e?s=t.bottom:"end"===e?s=t.top:_(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),H(s)?(r=t.isHorizontal(),{x:r?s:null,y:r?null:s}):null}(n)}(n);return r instanceof No?r:Bo(r,s)}function Bo(n,t){let e=[],s=!1;return T(n)?(s=!0,e=n):e=function rc(n,t){const{x:e=null,y:s=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:a,end:c})=>{c=Hr(a,c,r);const h=r[a],w=r[c];null!==s?(o.push({x:h.x,y:s}),o.push({x:w.x,y:s})):null!==e&&(o.push({x:e,y:h.y}),o.push({x:e,y:w.y}))}),o}(n,t),e.length?new hr({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function uc(n,t,e){let r=n[t].fill;const o=[t];let a;if(!e)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!H(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;o.push(r),r=a.fill}return!1}function Vo(n,t,e){const{segments:s,points:r}=t;let o=!0,a=!1;n.beginPath();for(const c of s){const{start:h,end:w}=c,z=r[h],re=r[Hr(h,w,r)];o?(n.moveTo(z.x,z.y),o=!1):(n.lineTo(z.x,e),n.lineTo(z.x,z.y)),a=!!t.pathSegment(n,c,{move:a}),a?n.closePath():n.lineTo(re.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Ur(n,t,e,s){if(s)return;let r=t[n],o=e[n];return"angle"===n&&(r=gt(r),o=gt(o)),{property:n,start:r,end:o}}function Ho(n,t,e,s){return n&&t?s(n[e],t[e]):n?n[e]:t?t[e]:0}function pc(n,t,e){const{top:s,bottom:r}=t.chart.chartArea,{property:o,start:a,end:c}=e||{};"x"===o&&(n.beginPath(),n.rect(a,s,c-a,r-s),n.clip())}function Uo(n,t,e,s){const r=t.interpolate(e,s);r&&n.lineTo(r.x,r.y)}function Wo(n,t){const{line:e,target:s,property:r,color:o,scale:a}=t,c=function hc(n,t,e){const s=n.segments,r=n.points,o=t.points,a=[];for(const c of s){let{start:h,end:w}=c;w=Hr(h,w,r);const z=Ur(e,r[h],r[w],c.loop);if(!t.segments){a.push({source:c,target:z,start:r[h],end:r[w]});continue}const re=Lt(t,z);for(const ge of re){const Oe=Ur(e,o[ge.start],o[ge.end],ge.loop),Ie=mt(c,r,Oe);for(const Le of Ie)a.push({source:Le,target:ge,start:{[e]:Ho(z,Oe,"start",Math.max)},end:{[e]:Ho(z,Oe,"end",Math.min)}})}}return a}(e,s,r);for(const{source:h,target:w,start:z,end:re}of c){const{style:{backgroundColor:ge=o}={}}=h,Oe=!0!==s;n.save(),n.fillStyle=ge,pc(n,a,Oe&&Ur(r,z,re)),n.beginPath();const Ie=!!e.pathSegment(n,h);let Le;if(Oe){Ie?n.closePath():Uo(n,s,re,r);const je=!!s.pathSegment(n,w,{move:Ie,reverse:!0});Le=Ie&&je,Le||Uo(n,s,z,r)}n.closePath(),n.fill(Le?"evenodd":"nonzero"),n.restore()}}function Wr(n,t,e){const s=dc(t),{line:r,scale:o,axis:a}=t,c=r.options,h=c.fill,w=c.backgroundColor,{above:z=w,below:re=w}=h||{};s&&r.points.length&&(ct(n,e),function fc(n,t){const{line:e,target:s,above:r,below:o,area:a,scale:c}=t,h=e._loop?"angle":t.axis;n.save(),"x"===h&&o!==r&&(Vo(n,s,a.top),Wo(n,{line:e,target:s,color:r,scale:c,property:h}),n.restore(),n.save(),Vo(n,s,a.bottom)),Wo(n,{line:e,target:s,color:o,scale:c,property:h}),n.restore()}(n,{line:r,target:s,above:z,below:re,area:e,scale:o,axis:a}),nt(n))}var gc={id:"filler",afterDatasetsUpdate(n,t,e){const s=(n.data.datasets||[]).length,r=[];let o,a,c,h;for(a=0;a<s;++a)o=n.getDatasetMeta(a),c=o.dataset,h=null,c&&c.options&&c instanceof hr&&(h={visible:n.isDatasetVisible(a),index:a,fill:tc(c,a,s),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:c}),o.$filler=h,r.push(h);for(a=0;a<s;++a)h=r[a],h&&!1!==h.fill&&(h.fill=uc(r,a,e.propagate))},beforeDraw(n,t,e){const s="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let a=r.length-1;a>=0;--a){const c=r[a].$filler;!c||(c.line.updateControlPoints(o,c.axis),s&&Wr(n.ctx,c,o))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const s=n.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const o=s[r].$filler;o&&Wr(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const s=t.meta.$filler;!s||!1===s.fill||"beforeDatasetDraw"!==e.drawTime||Wr(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const zo=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}};class jo extends Pn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=v(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,r)=>t.sort(s,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const s=t.labels,r=Bt(s.font),o=r.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=zo(s,o);let w,z;e.font=r.string,this.isHorizontal()?(w=this.maxWidth,z=this._fitRows(a,o,c,h)+10):(z=this.maxHeight,w=this._fitCols(a,o,c,h)+10),this.width=Math.min(w,t.maxWidth||this.maxWidth),this.height=Math.min(z,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,r){const{ctx:o,maxWidth:a,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],w=this.lineWidths=[0],z=r+c;let re=t;o.textAlign="left",o.textBaseline="middle";let ge=-1,Oe=-z;return this.legendItems.forEach((Ie,Le)=>{const je=s+e/2+o.measureText(Ie.text).width;(0===Le||w[w.length-1]+je+2*c>a)&&(re+=z,w[w.length-(Le>0?0:1)]=0,Oe+=z,ge++),h[Le]={left:0,top:Oe,row:ge,width:je,height:r},w[w.length-1]+=je+c}),re}_fitCols(t,e,s,r){const{ctx:o,maxHeight:a,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],w=this.columnSizes=[],z=a-t;let re=c,ge=0,Oe=0,Ie=0,Le=0;return this.legendItems.forEach((je,Ke)=>{const dt=s+e/2+o.measureText(je.text).width;Ke>0&&Oe+r+2*c>z&&(re+=ge+c,w.push({width:ge,height:Oe}),Ie+=ge+c,Le++,ge=Oe=0),h[Ke]={left:Ie,top:Oe,col:Le,width:dt,height:r},ge=Math.max(ge,dt),Oe+=r+c}),re+=ge,w.push({width:ge,height:Oe}),re}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:r},rtl:o}}=this,a=te(o,this.left,this.width);if(this.isHorizontal()){let c=0,h=A(s,this.left+r,this.right-this.lineWidths[c]);for(const w of e)c!==w.row&&(c=w.row,h=A(s,this.left+r,this.right-this.lineWidths[c])),w.top+=this.top+t+r,w.left=a.leftForLtr(a.x(h),w.width),h+=w.width+r}else{let c=0,h=A(s,this.top+t+r,this.bottom-this.columnSizes[c].height);for(const w of e)w.col!==c&&(c=w.col,h=A(s,this.top+t+r,this.bottom-this.columnSizes[c].height)),w.top=h,w.left+=this.left+r,w.left=a.leftForLtr(a.x(w.left),w.width),h+=w.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;ct(t,this),this._draw(),nt(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:r}=this,{align:o,labels:a}=t,c=It.color,h=te(t.rtl,this.left,this.width),w=Bt(a.font),{color:z,padding:re}=a,ge=w.size,Oe=ge/2;let Ie;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=w.string;const{boxWidth:Le,boxHeight:je,itemHeight:Ke}=zo(a,ge),ht=this.isHorizontal(),ot=this._computeTitleHeight();Ie=ht?{x:A(o,this.left+re,this.right-s[0]),y:this.top+re+ot,line:0}:{x:this.left+re,y:A(o,this.top+ot+re,this.bottom-e[0].height),line:0},me(this.ctx,t.textDirection);const xt=Ke+re;this.legendItems.forEach((Ct,Et)=>{r.strokeStyle=Ct.fontColor||z,r.fillStyle=Ct.fontColor||z;const Mt=r.measureText(Ct.text).width,ri=h.textAlign(Ct.textAlign||(Ct.textAlign=a.textAlign)),Jt=Le+Oe+Mt;let Kt=Ie.x,Ai=Ie.y;h.setWidth(this.width),ht?Et>0&&Kt+Jt+re>this.right&&(Ai=Ie.y+=xt,Ie.line++,Kt=Ie.x=A(o,this.left+re,this.right-s[Ie.line])):Et>0&&Ai+xt>this.bottom&&(Kt=Ie.x=Kt+e[Ie.line].width+re,Ie.line++,Ai=Ie.y=A(o,this.top+ot+re,this.bottom-e[Ie.line].height)),function(Ct,Et,Mt){if(isNaN(Le)||Le<=0||isNaN(je)||je<0)return;r.save();const ri=O(Mt.lineWidth,1);if(r.fillStyle=O(Mt.fillStyle,c),r.lineCap=O(Mt.lineCap,"butt"),r.lineDashOffset=O(Mt.lineDashOffset,0),r.lineJoin=O(Mt.lineJoin,"miter"),r.lineWidth=ri,r.strokeStyle=O(Mt.strokeStyle,c),r.setLineDash(O(Mt.lineDash,[])),a.usePointStyle){const Jt={radius:Le*Math.SQRT2/2,pointStyle:Mt.pointStyle,rotation:Mt.rotation,borderWidth:ri},Kt=h.xPlus(Ct,Le/2);Ae(r,Jt,Kt,Et+Oe)}else{const Jt=Et+Math.max((ge-je)/2,0),Kt=h.leftForLtr(Ct,Le),Ai=Xt(Mt.borderRadius);r.beginPath(),Object.values(Ai).some(sn=>0!==sn)?di(r,{x:Kt,y:Jt,w:Le,h:je,radius:Ai}):r.rect(Kt,Jt,Le,je),r.fill(),0!==ri&&r.stroke()}r.restore()}(h.x(Kt),Ai,Ct),Kt=((n,t,e,s)=>n===(s?"left":"right")?e:"center"===n?(t+e)/2:t)(ri,Kt+Le+Oe,ht?Kt+Jt:this.right,t.rtl),function(Ct,Et,Mt){kt(r,Mt.text,Ct,Et+Ke/2,w,{strikethrough:Mt.hidden,textAlign:h.textAlign(Mt.textAlign)})}(h.x(Kt),Ai,Ct),ht?Ie.x+=Jt+re:Ie.y+=xt}),Te(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=Bt(e.font),r=Yt(e.padding);if(!e.display)return;const o=te(t.rtl,this.left,this.width),a=this.ctx,c=e.position,w=r.top+s.size/2;let z,re=this.left,ge=this.width;if(this.isHorizontal())ge=Math.max(...this.lineWidths),z=this.top+w,re=A(t.align,re,this.right-ge);else{const Ie=this.columnSizes.reduce((Le,je)=>Math.max(Le,je.height),0);z=w+A(t.align,this.top,this.bottom-Ie-t.labels.padding-this._computeTitleHeight())}const Oe=A(c,re,re+ge);a.textAlign=o.textAlign(d(c)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=s.string,kt(a,e.text,Oe,z,s)}_computeTitleHeight(){const t=this.options.title,e=Bt(t.font),s=Yt(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,r,o;if(St(t,this.left,this.right)&&St(e,this.top,this.bottom))for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(r=o[s],St(t,r.left,r.left+r.width)&&St(e,r.top,r.top+r.height))return this.legendItems[s];return null}handleEvent(t){const e=this.options;if(!function mc(n,t){return!!("mousemove"===n&&(t.onHover||t.onLeave)||t.onClick&&("click"===n||"mouseup"===n))}(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type){const r=this._hoveredItem,o=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,s);r&&!o&&v(e.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!o&&v(e.onHover,[t,s,this],this)}else s&&v(e.onClick,[t,s,this],this)}}var vc={id:"legend",_element:jo,start(n,t,e){const s=n.legend=new jo({ctx:n.ctx,options:e,chart:n});Ki.configure(n,s,e),Ki.addBox(n,s)},stop(n){Ki.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const s=n.legend;Ki.configure(n,s,e),s.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const s=t.datasetIndex,r=e.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:r,color:o}}=n.legend.options;return n._getSortedDatasetMetas().map(a=>{const c=a.controller.getStyle(e?0:void 0),h=Yt(c.borderWidth);return{text:t[a.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!a.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class zr extends Pn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=T(s.text)?s.text.length:1;this._padding=Yt(s.padding);const o=r*Bt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:s,bottom:r,right:o,options:a}=this,c=a.align;let w,z,re,h=0;return this.isHorizontal()?(z=A(c,s,o),re=e+t,w=o-s):("left"===a.position?(z=s+t,re=A(c,r,e),h=-.5*m):(z=o-t,re=A(c,e,r),h=.5*m),w=r-e),{titleX:z,titleY:re,maxWidth:w,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=Bt(e.font),o=s.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:h,rotation:w}=this._drawArgs(o);kt(t,e.text,0,0,s,{color:e.color,maxWidth:h,rotation:w,textAlign:d(e.align),textBaseline:"middle",translation:[a,c]})}}var yc={id:"title",_element:zr,start(n,t,e){!function bc(n,t){const e=new zr({ctx:n.ctx,options:t,chart:n});Ki.configure(n,e,t),Ki.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){Ki.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const s=n.titleBlock;Ki.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fr=new WeakMap;var xc={id:"subtitle",start(n,t,e){const s=new zr({ctx:n.ctx,options:e,chart:n});Ki.configure(n,s,e),Ki.addBox(n,s),fr.set(n,s)},stop(n){Ki.removeBox(n,fr.get(n)),fr.delete(n)},beforeUpdate(n,t,e){const s=fr.get(n);Ki.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Rs={average(n){if(!n.length)return!1;let t,e,s=0,r=0,o=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const c=a.tooltipPosition();s+=c.x,r+=c.y,++o}}return{x:s/o,y:r/o}},nearest(n,t){if(!n.length)return!1;let o,a,c,e=t.x,s=t.y,r=Number.POSITIVE_INFINITY;for(o=0,a=n.length;o<a;++o){const h=n[o].element;if(h&&h.hasValue()){const z=at(t,h.getCenterPoint());z<r&&(r=z,c=h)}}if(c){const h=c.tooltipPosition();e=h.x,s=h.y}return{x:e,y:s}}};function Dn(n,t){return t&&(T(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Bn(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function Cc(n,t){const{element:e,datasetIndex:s,index:r}=t,o=n.getDatasetMeta(s).controller,{label:a,value:c}=o.getLabelAndValue(r);return{chart:n,label:a,parsed:o.getParsed(r),raw:n.data.datasets[s].data[r],formattedValue:c,dataset:o.getDataset(),dataIndex:r,datasetIndex:s,element:e}}function Go(n,t){const e=n.chart.ctx,{body:s,footer:r,title:o}=n,{boxWidth:a,boxHeight:c}=t,h=Bt(t.bodyFont),w=Bt(t.titleFont),z=Bt(t.footerFont),re=o.length,ge=r.length,Oe=s.length,Ie=Yt(t.padding);let Le=Ie.height,je=0,Ke=s.reduce((ht,ot)=>ht+ot.before.length+ot.lines.length+ot.after.length,0);Ke+=n.beforeBody.length+n.afterBody.length,re&&(Le+=re*w.lineHeight+(re-1)*t.titleSpacing+t.titleMarginBottom),Ke&&(Le+=Oe*(t.displayColors?Math.max(c,h.lineHeight):h.lineHeight)+(Ke-Oe)*h.lineHeight+(Ke-1)*t.bodySpacing),ge&&(Le+=t.footerMarginTop+ge*z.lineHeight+(ge-1)*t.footerSpacing);let dt=0;const vt=function(ht){je=Math.max(je,e.measureText(ht).width+dt)};return e.save(),e.font=w.string,K(n.title,vt),e.font=h.string,K(n.beforeBody.concat(n.afterBody),vt),dt=t.displayColors?a+2+t.boxPadding:0,K(s,ht=>{K(ht.before,vt),K(ht.lines,vt),K(ht.after,vt)}),dt=0,e.font=z.string,K(n.footer,vt),e.restore(),je+=Ie.width,{width:je,height:Le}}function Ac(n,t,e,s){const{x:r,width:o}=e,{width:a,chartArea:{left:c,right:h}}=n;let w="center";return"center"===s?w=r<=(c+h)/2?"left":"right":r<=o/2?w="left":r>=a-o/2&&(w="right"),function wc(n,t,e,s){const{x:r,width:o}=s,a=e.caretSize+e.caretPadding;if("left"===n&&r+o+a>t.width||"right"===n&&r-o-a<0)return!0}(w,n,t,e)&&(w="center"),w}function Qo(n,t,e){const s=e.yAlign||t.yAlign||function Sc(n,t){const{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||Ac(n,t,e,s),yAlign:s}}function qo(n,t,e,s){const{caretSize:r,caretPadding:o,cornerRadius:a}=n,{xAlign:c,yAlign:h}=e,w=r+o,{topLeft:z,topRight:re,bottomLeft:ge,bottomRight:Oe}=Xt(a);let Ie=function Pc(n,t){let{x:e,width:s}=n;return"right"===t?e-=s:"center"===t&&(e-=s/2),e}(t,c);const Le=function Tc(n,t,e){let{y:s,height:r}=n;return"top"===t?s+=e:s-="bottom"===t?r+e:r/2,s}(t,h,w);return"center"===h?"left"===c?Ie+=w:"right"===c&&(Ie-=w):"left"===c?Ie-=Math.max(z,ge)+r:"right"===c&&(Ie+=Math.max(re,Oe)+r),{x:ft(Ie,0,s.width-t.width),y:ft(Le,0,s.height-t.height)}}function gr(n,t,e){const s=Yt(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-s.right:n.x+s.left}function Yo(n){return Dn([],Bn(n))}function Jo(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}let Ko=(()=>{class n extends Pn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&s.options.animation&&r.animations,a=new $s(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=function Ec(n,t,e){return ni(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:r}=s,o=r.beforeTitle.apply(this,[e]),a=r.title.apply(this,[e]),c=r.afterTitle.apply(this,[e]);let h=[];return h=Dn(h,Bn(o)),h=Dn(h,Bn(a)),h=Dn(h,Bn(c)),h}getBeforeBody(e,s){return Yo(s.callbacks.beforeBody.apply(this,[e]))}getBody(e,s){const{callbacks:r}=s,o=[];return K(e,a=>{const c={before:[],lines:[],after:[]},h=Jo(r,a);Dn(c.before,Bn(h.beforeLabel.call(this,a))),Dn(c.lines,h.label.call(this,a)),Dn(c.after,Bn(h.afterLabel.call(this,a))),o.push(c)}),o}getAfterBody(e,s){return Yo(s.callbacks.afterBody.apply(this,[e]))}getFooter(e,s){const{callbacks:r}=s,o=r.beforeFooter.apply(this,[e]),a=r.footer.apply(this,[e]),c=r.afterFooter.apply(this,[e]);let h=[];return h=Dn(h,Bn(o)),h=Dn(h,Bn(a)),h=Dn(h,Bn(c)),h}_createItems(e){const s=this._active,r=this.chart.data,o=[],a=[],c=[];let w,z,h=[];for(w=0,z=s.length;w<z;++w)h.push(Cc(this.chart,s[w]));return e.filter&&(h=h.filter((re,ge,Oe)=>e.filter(re,ge,Oe,r))),e.itemSort&&(h=h.sort((re,ge)=>e.itemSort(re,ge,r))),K(h,re=>{const ge=Jo(e.callbacks,re);o.push(ge.labelColor.call(this,re)),a.push(ge.labelPointStyle.call(this,re)),c.push(ge.labelTextColor.call(this,re))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=c,this.dataPoints=h,h}update(e,s){const r=this.options.setContext(this.getContext()),o=this._active;let a,c=[];if(o.length){const h=Rs[r.position].call(this,o,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const w=this._size=Go(this,r),z=Object.assign({},h,w),re=Qo(this.chart,r,z),ge=qo(r,z,re,this.chart);this.xAlign=re.xAlign,this.yAlign=re.yAlign,a={opacity:1,x:ge.x,y:ge.y,width:w.width,height:w.height,caretX:h.x,caretY:h.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=c,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,r,o){const a=this.getCaretPosition(e,r,o);s.lineTo(a.x1,a.y1),s.lineTo(a.x2,a.y2),s.lineTo(a.x3,a.y3)}getCaretPosition(e,s,r){const{xAlign:o,yAlign:a}=this,{caretSize:c,cornerRadius:h}=r,{topLeft:w,topRight:z,bottomLeft:re,bottomRight:ge}=Xt(h),{x:Oe,y:Ie}=e,{width:Le,height:je}=s;let Ke,dt,vt,ht,ot,xt;return"center"===a?(ot=Ie+je/2,"left"===o?(Ke=Oe,dt=Ke-c,ht=ot+c,xt=ot-c):(Ke=Oe+Le,dt=Ke+c,ht=ot-c,xt=ot+c),vt=Ke):(dt="left"===o?Oe+Math.max(w,re)+c:"right"===o?Oe+Le-Math.max(z,ge)-c:this.caretX,"top"===a?(ht=Ie,ot=ht-c,Ke=dt-c,vt=dt+c):(ht=Ie+je,ot=ht+c,Ke=dt+c,vt=dt-c),xt=ht),{x1:Ke,x2:dt,x3:vt,y1:ht,y2:ot,y3:xt}}drawTitle(e,s,r){const o=this.title,a=o.length;let c,h,w;if(a){const z=te(r.rtl,this.x,this.width);for(e.x=gr(this,r.titleAlign,r),s.textAlign=z.textAlign(r.titleAlign),s.textBaseline="middle",c=Bt(r.titleFont),h=r.titleSpacing,s.fillStyle=r.titleColor,s.font=c.string,w=0;w<a;++w)s.fillText(o[w],z.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,w+1===a&&(e.y+=r.titleMarginBottom-h)}}_drawColorBox(e,s,r,o,a){const c=this.labelColors[r],h=this.labelPointStyles[r],{boxHeight:w,boxWidth:z,boxPadding:re}=a,ge=Bt(a.bodyFont),Oe=gr(this,"left",a),Ie=o.x(Oe),je=s.y+(w<ge.lineHeight?(ge.lineHeight-w)/2:0);if(a.usePointStyle){const Ke={radius:Math.min(z,w)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},dt=o.leftForLtr(Ie,z)+z/2,vt=je+w/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Ae(e,Ke,dt,vt),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,Ae(e,Ke,dt,vt)}else{e.lineWidth=c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const Ke=o.leftForLtr(Ie,z-re),dt=o.leftForLtr(o.xPlus(Ie,1),z-re-2),vt=Xt(c.borderRadius);Object.values(vt).some(ht=>0!==ht)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,di(e,{x:Ke,y:je,w:z,h:w,radius:vt}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),di(e,{x:dt,y:je+1,w:z-2,h:w-2,radius:vt}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(Ke,je,z,w),e.strokeRect(Ke,je,z,w),e.fillStyle=c.backgroundColor,e.fillRect(dt,je+1,z-2,w-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,s,r){const{body:o}=this,{bodySpacing:a,bodyAlign:c,displayColors:h,boxHeight:w,boxWidth:z,boxPadding:re}=r,ge=Bt(r.bodyFont);let Oe=ge.lineHeight,Ie=0;const Le=te(r.rtl,this.x,this.width),je=function(Mt){s.fillText(Mt,Le.x(e.x+Ie),e.y+Oe/2),e.y+=Oe+a},Ke=Le.textAlign(c);let dt,vt,ht,ot,xt,Ct,Et;for(s.textAlign=c,s.textBaseline="middle",s.font=ge.string,e.x=gr(this,Ke,r),s.fillStyle=r.bodyColor,K(this.beforeBody,je),Ie=h&&"right"!==Ke?"center"===c?z/2+re:z+2+re:0,ot=0,Ct=o.length;ot<Ct;++ot){for(dt=o[ot],vt=this.labelTextColors[ot],s.fillStyle=vt,K(dt.before,je),ht=dt.lines,h&&ht.length&&(this._drawColorBox(s,e,ot,Le,r),Oe=Math.max(ge.lineHeight,w)),xt=0,Et=ht.length;xt<Et;++xt)je(ht[xt]),Oe=ge.lineHeight;K(dt.after,je)}Ie=0,Oe=ge.lineHeight,K(this.afterBody,je),e.y-=a}drawFooter(e,s,r){const o=this.footer,a=o.length;let c,h;if(a){const w=te(r.rtl,this.x,this.width);for(e.x=gr(this,r.footerAlign,r),e.y+=r.footerMarginTop,s.textAlign=w.textAlign(r.footerAlign),s.textBaseline="middle",c=Bt(r.footerFont),s.fillStyle=r.footerColor,s.font=c.string,h=0;h<a;++h)s.fillText(o[h],w.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+r.footerSpacing}}drawBackground(e,s,r,o){const{xAlign:a,yAlign:c}=this,{x:h,y:w}=e,{width:z,height:re}=r,{topLeft:ge,topRight:Oe,bottomLeft:Ie,bottomRight:Le}=Xt(o.cornerRadius);s.fillStyle=o.backgroundColor,s.strokeStyle=o.borderColor,s.lineWidth=o.borderWidth,s.beginPath(),s.moveTo(h+ge,w),"top"===c&&this.drawCaret(e,s,r,o),s.lineTo(h+z-Oe,w),s.quadraticCurveTo(h+z,w,h+z,w+Oe),"center"===c&&"right"===a&&this.drawCaret(e,s,r,o),s.lineTo(h+z,w+re-Le),s.quadraticCurveTo(h+z,w+re,h+z-Le,w+re),"bottom"===c&&this.drawCaret(e,s,r,o),s.lineTo(h+Ie,w+re),s.quadraticCurveTo(h,w+re,h,w+re-Ie),"center"===c&&"left"===a&&this.drawCaret(e,s,r,o),s.lineTo(h,w+ge),s.quadraticCurveTo(h,w,h+ge,w),s.closePath(),s.fill(),o.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,r=this.$animations,o=r&&r.x,a=r&&r.y;if(o||a){const c=Rs[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=Go(this,e),w=Object.assign({},c,this._size),z=Qo(s,e,w),re=qo(e,w,z,s);(o._to!==re.x||a._to!==re.y)&&(this.xAlign=z.xAlign,this.yAlign=z.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,re))}}draw(e){const s=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(s);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=Yt(s.padding);s.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,o,s),me(e,s.textDirection),a.y+=c.top,this.drawTitle(a,e,s),this.drawBody(a,e,s),this.drawFooter(a,e,s),Te(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const r=this._active,o=e.map(({datasetIndex:h,index:w})=>{const z=this.chart.getDatasetMeta(h);if(!z)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:z.data[w],index:w}}),a=!x(r,o),c=this._positionChanged(o,s);(a||c)&&(this._active=o,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,r=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],c=this._getActiveElements(e,a,s,r),h=this._positionChanged(c,e),w=s||!x(c,a)||h;return w&&(this._active=c,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),w}_getActiveElements(e,s,r,o){const a=this.options;if("mouseout"===e.type)return[];if(!o)return s;const c=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&c.reverse(),c}_positionChanged(e,s){const{caretX:r,caretY:o,options:a}=this,c=Rs[a.position].call(this,e,s);return!1!==c&&(r!==c.x||o!==c.y)}}return n.positioners=Rs,n})();var Oc=Object.freeze({__proto__:null,Decimation:Zl,Filler:gc,Legend:vc,SubTitle:xc,Title:yc,Tooltip:{id:"tooltip",_element:Ko,positioners:Rs,afterInit(n,t,e){e&&(n.tooltip=new Ko({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip,e={tooltip:t};!1!==n.notifyPlugins("beforeTooltipDraw",e)&&(t&&t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e))},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:C,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:C,beforeBody:C,beforeLabel:C,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return l(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:C,afterBody:C,beforeFooter:C,footer:C,afterFooter:C}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});class _r extends Zn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:r,label:o}of e)s[r]===o&&s.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(l(t))return null;const s=this.getLabels();return((n,t)=>null===n?null:ft(Math.round(n),0,t))(e=isFinite(e)&&s[e]===t?e:function Ic(n,t,e,s){const r=n.indexOf(t);return-1===r?((n,t,e,s)=>("string"==typeof t?(e=n.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,s):r!==n.lastIndexOf(t)?e:r}(s,t,O(e,t),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(s=0),e||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,r=[];let o=this.getLabels();o=0===t&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=t;a<=e;a++)r.push({value:a});return r}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function $o(n,t,{horizontal:e,minRotation:s}){const r=Me(s),o=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/o,.75*t*(""+n).length)}_r.id="category",_r.defaults={ticks:{callback:_r.prototype.getLabelForValue}};class mr extends Zn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return l(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:r,max:o}=this;const a=h=>r=e?r:h,c=h=>o=s?o:h;if(t){const h=Ue(r),w=Ue(o);h<0&&w<0?c(0):h>0&&w>0&&a(0)}if(r===o){let h=1;(o>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(h=Math.abs(.05*o)),c(o+h),t||a(r-h)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:s}=t;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a=function kc(n,t){const e=[],{bounds:r,step:o,min:a,max:c,precision:h,count:w,maxTicks:z,maxDigits:re,includeBounds:ge}=n,Oe=o||1,Ie=z-1,{min:Le,max:je}=t,Ke=!l(a),dt=!l(c),vt=!l(w),ht=(je-Le)/(re+1);let xt,Ct,Et,Mt,ot=rt((je-Le)/Ie/Oe)*Oe;if(ot<1e-14&&!Ke&&!dt)return[{value:Le},{value:je}];Mt=Math.ceil(je/ot)-Math.floor(Le/ot),Mt>Ie&&(ot=rt(Mt*ot/Ie/Oe)*Oe),l(h)||(xt=Math.pow(10,h),ot=Math.ceil(ot*xt)/xt),"ticks"===r?(Ct=Math.floor(Le/ot)*ot,Et=Math.ceil(je/ot)*ot):(Ct=Le,Et=je),Ke&&dt&&o&&function ve(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((c-a)/o,ot/1e3)?(Mt=Math.round(Math.min((c-a)/ot,z)),ot=(c-a)/Mt,Ct=a,Et=c):vt?(Ct=Ke?a:Ct,Et=dt?c:Et,Mt=w-1,ot=(Et-Ct)/Mt):(Mt=(Et-Ct)/ot,Mt=J(Mt,Math.round(Mt),ot/1e3)?Math.round(Mt):Math.ceil(Mt));const ri=Math.max(qe(ot),qe(Ct));xt=Math.pow(10,l(h)?ri:h),Ct=Math.round(Ct*xt)/xt,Et=Math.round(Et*xt)/xt;let Jt=0;for(Ke&&(ge&&Ct!==a?(e.push({value:a}),Ct<a&&Jt++,J(Math.round((Ct+Jt*ot)*xt)/xt,a,$o(a,ht,n))&&Jt++):Ct<a&&Jt++);Jt<Mt;++Jt)e.push({value:Math.round((Ct+Jt*ot)*xt)/xt});return dt&&ge&&Et!==c?e.length&&J(e[e.length-1].value,c,$o(c,ht,n))?e[e.length-1].value=c:e.push({value:c}):(!dt||Et===c)&&e.push({value:Et}),e}({maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Be(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const r=(s-e)/Math.max(t.length-1,1)/2;e-=r,s+=r}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return W(t,this.chart.options.locale,this.options.ticks.format)}}class jr extends mr{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=H(t)?t:0,this.max=H(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=Me(this.options.ticks.minRotation),r=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function Zo(n){return n/Math.pow(10,Math.floor(Fe(n)))==1}jr.id="linear",jr.defaults={ticks:{callback:rr.formatters.numeric}};class Gr extends Zn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const s=mr.prototype.parse.apply(this,[t,e]);if(0!==s)return H(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=H(t)?Math.max(0,t):null,this.max=H(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let s=this.min,r=this.max;const o=h=>s=t?s:h,a=h=>r=e?r:h,c=(h,w)=>Math.pow(10,Math.floor(Fe(h))+w);s===r&&(s<=0?(o(1),a(10)):(o(c(s,-1)),a(c(r,1)))),s<=0&&o(c(r,-1)),r<=0&&a(c(s,1)),this._zero&&this.min!==this._suggestedMin&&s===c(this.min,0)&&o(c(s,-1)),this.min=s,this.max=r}buildTicks(){const t=this.options,s=function Lc(n,t){const e=Math.floor(Fe(t.max)),s=Math.ceil(t.max/Math.pow(10,e)),r=[];let o=oe(n.min,Math.pow(10,Math.floor(Fe(t.min)))),a=Math.floor(Fe(o)),c=Math.floor(o/Math.pow(10,a)),h=a<0?Math.pow(10,Math.abs(a)):1;do{r.push({value:o,major:Zo(o)}),++c,10===c&&(c=1,++a,h=a>=0?1:h),o=Math.round(c*Math.pow(10,a)*h)/h}while(a<e||a===e&&c<s);const w=oe(n.max,o);return r.push({value:w,major:Zo(o)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Be(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return void 0===t?"0":W(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Fe(t),this._valueRange=Fe(this.max)-Fe(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Fe(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Qr(n){const t=n.ticks;if(t.display&&n.display){const e=Yt(t.backdropPadding);return O(t.font&&t.font.size,It.font.size)+e.height}return 0}function Fc(n,t,e){return e=T(e)?e:[e],{w:Je(n,t.string,e),h:e.length*t.lineHeight}}function Xo(n,t,e,s,r){return n===s||n===r?{start:t-e/2,end:t+e/2}:n<s||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function Bc(n,t,e,s,r){const o=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let c=0,h=0;s.start<t.l?(c=(t.l-s.start)/o,n.l=Math.min(n.l,t.l-c)):s.end>t.r&&(c=(s.end-t.r)/o,n.r=Math.max(n.r,t.r+c)),r.start<t.t?(h=(t.t-r.start)/a,n.t=Math.min(n.t,t.t-h)):r.end>t.b&&(h=(r.end-t.b)/a,n.b=Math.max(n.b,t.b+h))}function Hc(n){return 0===n||180===n?"center":n<180?"left":"right"}function Uc(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function Wc(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}function ea(n,t,e,s){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,U);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let a=1;a<s;a++)o=n.getPointPosition(a,t),r.lineTo(o.x,o.y)}}Gr.id="logarithmic",Gr.defaults={ticks:{callback:rr.formatters.logarithmic,major:{enabled:!0}}};class ks extends mr{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Yt(Qr(this.options)/2),e=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(e,s)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=H(t)&&!isNaN(t)?t:0,this.max=H(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Qr(this.options))}generateTickLabels(t){mr.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,s)=>{const r=v(this.options.pointLabels.callback,[e,s],this);return r||0===r?r:""}).filter((e,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?function Nc(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),s=[],r=[],o=n._pointLabels.length,a=n.options.pointLabels,c=a.centerPointLabels?m/o:0;for(let h=0;h<o;h++){const w=a.setContext(n.getPointLabelContext(h));r[h]=w.padding;const z=n.getPointPosition(h,n.drawingArea+r[h],c),re=Bt(w.font),ge=Fc(n.ctx,re,n._pointLabels[h]);s[h]=ge;const Oe=gt(n.getIndexAngle(h)+c),Ie=Math.round(Re(Oe));Bc(e,t,Oe,Xo(Ie,z.x,ge.w,0,180),Xo(Ie,z.y,ge.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function Vc(n,t,e){const s=[],r=n._pointLabels.length,o=n.options,a=Qr(o)/2,c=n.drawingArea,h=o.pointLabels.centerPointLabels?m/r:0;for(let w=0;w<r;w++){const z=n.getPointPosition(w,c+a+e[w],h),re=Math.round(Re(gt(z.angle+we))),ge=t[w],Oe=Wc(z.y,ge.h,re),Ie=Hc(re),Le=Uc(z.x,ge.w,Ie);s.push({x:z.x,y:Oe,textAlign:Ie,left:Le,top:Oe,right:Le+ge.w,bottom:Oe+ge.h})}return s}(n,s,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,s,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((s-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,s,r))}getIndexAngle(t){return gt(t*(U/(this._pointLabels.length||1))+Me(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(l(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(l(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const s=e[t];return function Gc(n,t,e){return ni(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,s)}}getPointPosition(t,e,s=0){const r=this.getIndexAngle(t)-we+s;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:s,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:s,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),ea(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:s,grid:r}=e,o=this._pointLabels.length;let a,c,h;if(e.pointLabels.display&&function zc(n,t){const{ctx:e,options:{pointLabels:s}}=n;for(let r=t-1;r>=0;r--){const o=s.setContext(n.getPointLabelContext(r)),a=Bt(o.font),{x:c,y:h,textAlign:w,left:z,top:re,right:ge,bottom:Oe}=n._pointLabelItems[r],{backdropColor:Ie}=o;if(!l(Ie)){const Le=Yt(o.backdropPadding);e.fillStyle=Ie,e.fillRect(z-Le.left,re-Le.top,ge-z+Le.width,Oe-re+Le.height)}kt(e,n._pointLabels[r],c,h+a.lineHeight/2,a,{color:o.color,textAlign:w,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach((w,z)=>{0!==z&&(c=this.getDistanceFromCenterForValue(w.value),function jc(n,t,e,s){const r=n.ctx,o=t.circular,{color:a,lineWidth:c}=t;!o&&!s||!a||!c||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=c,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),ea(n,e,o,s),r.closePath(),r.stroke(),r.restore())}(this,r.setContext(this.getContext(z-1)),c,o))}),s.display){for(t.save(),a=o-1;a>=0;a--){const w=s.setContext(this.getPointLabelContext(a)),{color:z,lineWidth:re}=w;!re||!z||(t.lineWidth=re,t.strokeStyle=z,t.setLineDash(w.borderDash),t.lineDashOffset=w.borderDashOffset,c=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),h=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(h.x,h.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,s=e.ticks;if(!s.display)return;const r=this.getIndexAngle(0);let o,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,h)=>{if(0===h&&!e.reverse)return;const w=s.setContext(this.getContext(h)),z=Bt(w.font);if(o=this.getDistanceFromCenterForValue(this.ticks[h].value),w.showLabelBackdrop){t.font=z.string,a=t.measureText(c.label).width,t.fillStyle=w.backdropColor;const re=Yt(w.backdropPadding);t.fillRect(-a/2-re.left,-o-z.size/2-re.top,a+re.width,z.size+re.height)}kt(t,c.label,0,-o,z,{color:w.color})}),t.restore()}drawTitle(){}}ks.id="radialLinear",ks.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:rr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},ks.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},ks.descriptors={angleLines:{_fallback:"grid"}};const vr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},fn=Object.keys(vr);function Qc(n,t){return n-t}function ta(n,t){if(l(t))return null;const e=n._adapter,{parser:s,round:r,isoWeekday:o}=n._parseOpts;let a=t;return"function"==typeof s&&(a=s(a)),H(a)||(a="string"==typeof s?e.parse(a,s):e.parse(a)),null===a?null:(r&&(a="week"!==r||!pt(o)&&!0!==o?e.startOf(a,r):e.startOf(a,"isoWeek",o)),+a)}function ia(n,t,e,s){const r=fn.length;for(let o=fn.indexOf(n);o<r-1;++o){const a=vr[fn[o]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(c*a.size))<=s)return fn[o]}return fn[r-1]}function na(n,t,e){if(e){if(e.length){const{lo:s,hi:r}=xn(e,t);n[e[s]>=t?e[s]:e[r]]=!0}}else n[t]=!0}function sa(n,t,e){const s=[],r={},o=t.length;let a,c;for(a=0;a<o;++a)c=t[a],r[c]=a,s.push({value:c,major:!1});return 0!==o&&e?function Jc(n,t,e,s){const r=n._adapter,o=+r.startOf(t[0].value,s),a=t[t.length-1].value;let c,h;for(c=o;c<=a;c=+r.add(c,1,s))h=e[c],h>=0&&(t[h].major=!0);return t}(n,s,r,e):s}let qr=(()=>{class n extends Zn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s){const r=e.time||(e.time={}),o=this._adapter=new va._date(e.adapters.date);ne(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return void 0===e?null:ta(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,r=e.time.unit||"day";let{min:o,max:a,minDefined:c,maxDefined:h}=this.getUserBounds();function w(z){!c&&!isNaN(z.min)&&(o=Math.min(o,z.min)),!h&&!isNaN(z.max)&&(a=Math.max(a,z.max))}(!c||!h)&&(w(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&w(this.getMinMax(!1))),o=H(o)&&!isNaN(o)?o:+s.startOf(Date.now(),r),a=H(a)&&!isNaN(a)?a:+s.endOf(Date.now(),r)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],r=e[e.length-1]),{min:s,max:r}}buildTicks(){const e=this.options,s=e.time,r=e.ticks,o="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,h=function _n(n,t,e){let s=0,r=n.length;for(;s<r&&n[s]<t;)s++;for(;r>s&&n[r-1]>e;)r--;return s>0||r<n.length?n.slice(s,r):n}(o,a,this.max);return this._unit=s.unit||(r.autoSkip?ia(s.minUnit,this.min,this.max,this._getLabelCapacity(a)):function qc(n,t,e,s,r){for(let o=fn.length-1;o>=fn.indexOf(e);o--){const a=fn[o];if(vr[a].common&&n._adapter.diff(r,s,a)>=t-1)return a}return fn[e?fn.indexOf(e):0]}(this,h.length,s.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function Yc(n){for(let t=fn.indexOf(n)+1,e=fn.length;t<e;++t)if(vr[fn[t]].common)return fn[t]}(this._unit):void 0,this.initOffsets(o),e.reverse&&h.reverse(),sa(this,h,this._majorUnit)}initOffsets(e){let o,a,s=0,r=0;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),s=1===e.length?1-o:(this.getDecimalForValue(e[1])-o)/2,a=this.getDecimalForValue(e[e.length-1]),r=1===e.length?a:(a-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;s=ft(s,0,c),r=ft(r,0,c),this._offsets={start:s,end:r,factor:1/(s+1+r)}}_generate(){const e=this._adapter,s=this.min,r=this.max,o=this.options,a=o.time,c=a.unit||ia(a.minUnit,s,r,this._getLabelCapacity(s)),h=O(a.stepSize,1),w="week"===c&&a.isoWeekday,z=pt(w)||!0===w,re={};let Oe,Ie,ge=s;if(z&&(ge=+e.startOf(ge,"isoWeek",w)),ge=+e.startOf(ge,z?"day":c),e.diff(r,s,c)>1e5*h)throw new Error(s+" and "+r+" are too far apart with stepSize of "+h+" "+c);const Le="data"===o.ticks.source&&this.getDataTimestamps();for(Oe=ge,Ie=0;Oe<r;Oe=+e.add(Oe,h,c),Ie++)na(re,Oe,Le);return(Oe===r||"ticks"===o.bounds||1===Ie)&&na(re,Oe,Le),Object.keys(re).sort((je,Ke)=>je-Ke).map(je=>+je)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}_tickFormatFunction(e,s,r,o){const a=this.options,c=a.time.displayFormats,h=this._unit,w=this._majorUnit,re=w&&c[w],ge=r[s],Ie=this._adapter.format(e,o||(w&&re&&ge&&ge.major?re:h&&c[h])),Le=a.ticks.callback;return Le?v(Le,[Ie,s,r],this):Ie}generateTickLabels(e){let s,r,o;for(s=0,r=e.length;s<r;++s)o=e[s],o.label=this._tickFormatFunction(o.value,s,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+r)*s.factor)}getValueForPixel(e){const s=this._offsets,r=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,r=this.ctx.measureText(e).width,o=Me(this.isHorizontal()?s.maxRotation:s.minRotation),a=Math.cos(o),c=Math.sin(o),h=this._resolveTickFontOptions(0).size;return{w:r*a+h*c,h:r*c+h*a}}_getLabelCapacity(e){const s=this.options.time,r=s.displayFormats,o=r[s.unit]||r.millisecond,a=this._tickFormatFunction(e,0,sa(this,[e],this._majorUnit),o),c=this._getLabelSize(a),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let s,r,e=this._cache.data||[];if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(s=0,r=o.length;s<r;++s)e=e.concat(o[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,r;if(e.length)return e;const o=this.getLabels();for(s=0,r=o.length;s<r;++s)e.push(ta(this,o[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Mi(e.sort(Qc))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function br(n,t,e){let o,a,c,h,s=0,r=n.length-1;e?(t>=n[s].pos&&t<=n[r].pos&&({lo:s,hi:r}=Ci(n,"pos",t)),({pos:o,time:c}=n[s]),({pos:a,time:h}=n[r])):(t>=n[s].time&&t<=n[r].time&&({lo:s,hi:r}=Ci(n,"time",t)),({time:o,pos:c}=n[s]),({time:a,pos:h}=n[r]));const w=a-o;return w?c+(h-c)*(t-o)/w:c}class Yr extends qr{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=br(e,this.min),this._tableRange=br(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,r=[],o=[];let a,c,h,w,z;for(a=0,c=t.length;a<c;++a)w=t[a],w>=e&&w<=s&&r.push(w);if(r.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(a=0,c=r.length;a<c;++a)z=r[a+1],h=r[a-1],w=r[a],Math.round((z+h)/2)!==w&&o.push({time:w,pos:a/(c-1)});return o}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return t=e.length&&s.length?this.normalize(e.concat(s)):e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(br(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return br(this._table,s*this._tableRange+this._minPos,!0)}}Yr.id="timeseries",Yr.defaults=qr.defaults,dr.register(ma,Yl,Oc,Object.freeze({__proto__:null,CategoryScale:_r,LinearScale:jr,LogarithmicScale:Gr,RadialLinearScale:ks,TimeScale:qr,TimeSeriesScale:Yr}));const Zc=dr;let Xc=(()=>{class n{constructor(e){this.el=e,this.plugins=[],this.responsive=!0,this.onDataSelect=new i.vpe,this._options={}}get data(){return this._data}set data(e){this._data=e,this.reinit()}get options(){return this._options}set options(e){this._options=e,this.reinit()}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(e){if(this.chart){const s=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),r=this.chart.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1);s&&s[0]&&r&&this.onDataSelect.emit({originalEvent:e,element:s[0],dataset:r})}}initChart(){let e=this.options||{};e.responsive=this.responsive,e.responsive&&(this.height||this.width)&&(e.maintainAspectRatio=!1),this.chart=new Zc(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(i.SBq))},n.\u0275cmp=i.Xpm({type:n,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:"responsive",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},decls:2,vars:6,consts:[[2,"position","relative"],[3,"click"]],template:function(e,s){1&e&&(i.TgZ(0,"div",0)(1,"canvas",1),i.NdJ("click",function(o){return s.onCanvasClick(o)}),i.qZA()()),2&e&&(i.Udp("width",s.responsive&&!s.width?null:s.width)("height",s.responsive&&!s.height?null:s.height),i.xp6(1),i.uIk("width",s.responsive&&!s.width?null:s.width)("height",s.responsive&&!s.height?null:s.height))},encapsulation:2,changeDetection:0}),n})(),ed=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[xe.ez]]}),n})()},330:(Xe,de,ce)=>{"use strict";ce.d(de,{vI:()=>R,xV:()=>F});var i=ce(5e3),xe=ce(9808),ie=ce(5730),M=ce(9783),f=ce(5787),I=ce(5921),d=ce(4521),A=ce(7579),g=ce(2722),C=ce(4119);const E=["sublist"],l=["menuitem"],T=function(j){return{"p-hidden":j}};function _(j,Y){if(1&j&&i._UZ(0,"li",5,6),2&j){const Q=i.oxw().$implicit;i.Q6J("ngClass",i.VKq(1,T,!1===Q.visible))}}function H(j,Y){if(1&j&&i._UZ(0,"span",16),2&j){const Q=i.oxw(3).$implicit;i.Q6J("ngClass",Q.icon)("ngStyle",Q.iconStyle)}}function oe(j,Y){if(1&j&&(i.TgZ(0,"span",17),i._uU(1),i.qZA()),2&j){const Q=i.oxw(3).$implicit;i.xp6(1),i.Oqu(Q.label)}}function O(j,Y){if(1&j&&i._UZ(0,"span",18),2&j){const Q=i.oxw(3).$implicit;i.Q6J("innerHTML",Q.label,i.oJD)}}function q(j,Y){1&j&&i._UZ(0,"span",19)}const b=function(j){return{"p-menuitem-link":!0,"p-disabled":j}};function v(j,Y){if(1&j){const Q=i.EpF();i.TgZ(0,"a",11),i.NdJ("click",function(U){i.CHM(Q),i.oxw();const se=i.MAs(1),ye=i.oxw(),Z=ye.$implicit,we=ye.index,ke=i.oxw();return ke.onItemClick(U,Z,se,ke.getKey(we))}),i.YNc(1,H,1,2,"span",12),i.YNc(2,oe,2,1,"span",13),i.YNc(3,O,1,1,"ng-template",null,14,i.W1O),i.YNc(5,q,1,0,"span",15),i.qZA()}if(2&j){const Q=i.MAs(4),m=i.oxw(2),U=m.$implicit,se=m.index,ye=i.oxw();i.Q6J("target",U.target)("ngClass",i.VKq(12,b,U.disabled)),i.uIk("href",U.url?U.url:null,i.LSH)("title",U.title)("id",U.id)("tabindex",U.disabled?null:"0")("aria-haspopup",null!=ye.item.items)("aria-expanded",ye.isActive(ye.getKey(se))),i.xp6(1),i.Q6J("ngIf",U.icon),i.xp6(1),i.Q6J("ngIf",!1!==U.escape)("ngIfElse",Q),i.xp6(3),i.Q6J("ngIf",U.items)}}function K(j,Y){if(1&j&&i._UZ(0,"span",16),2&j){const Q=i.oxw(3).$implicit;i.Q6J("ngClass",Q.icon)("ngStyle",Q.iconStyle)}}function x(j,Y){if(1&j&&(i.TgZ(0,"span",17),i._uU(1),i.qZA()),2&j){const Q=i.oxw(3).$implicit;i.xp6(1),i.Oqu(Q.label)}}function B(j,Y){if(1&j&&i._UZ(0,"span",18),2&j){const Q=i.oxw(3).$implicit;i.Q6J("innerHTML",Q.label,i.oJD)}}function V(j,Y){1&j&&i._UZ(0,"span",19)}const L=function(){return{exact:!1}};function G(j,Y){if(1&j){const Q=i.EpF();i.TgZ(0,"a",20),i.NdJ("click",function(U){i.CHM(Q),i.oxw();const se=i.MAs(1),ye=i.oxw(),Z=ye.$implicit,we=ye.index,ke=i.oxw();return ke.onItemClick(U,Z,se,ke.getKey(we))}),i.YNc(1,K,1,2,"span",12),i.YNc(2,x,2,1,"span",13),i.YNc(3,B,1,1,"ng-template",null,21,i.W1O),i.YNc(5,V,1,0,"span",15),i.qZA()}if(2&j){const Q=i.MAs(4),m=i.oxw(2).$implicit;i.Q6J("routerLink",m.routerLink)("queryParams",m.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",m.routerLinkActiveOptions||i.DdM(19,L))("target",m.target)("ngClass",i.VKq(20,b,m.disabled))("fragment",m.fragment)("queryParamsHandling",m.queryParamsHandling)("preserveFragment",m.preserveFragment)("skipLocationChange",m.skipLocationChange)("replaceUrl",m.replaceUrl)("state",m.state),i.uIk("title",m.title)("id",m.id)("tabindex",m.disabled?null:"0"),i.xp6(1),i.Q6J("ngIf",m.icon),i.xp6(1),i.Q6J("ngIf",!1!==m.escape)("ngIfElse",Q),i.xp6(3),i.Q6J("ngIf",m.items)}}function ne(j,Y){if(1&j){const Q=i.EpF();i.TgZ(0,"p-contextMenuSub",22),i.NdJ("leafClick",function(){return i.CHM(Q),i.oxw(3).onLeafClick()}),i.qZA()}if(2&j){const Q=i.oxw(2),m=Q.index,U=Q.$implicit,se=i.oxw();i.Q6J("parentItemKey",se.getKey(m))("item",U)}}const le=function(j,Y){return{"p-menuitem":!0,"p-menuitem-active":j,"p-hidden":Y}};function ue(j,Y){if(1&j){const Q=i.EpF();i.TgZ(0,"li",7,6),i.NdJ("mouseenter",function(U){i.CHM(Q);const se=i.oxw(),ye=se.$implicit,Z=se.index,we=i.oxw();return we.onItemMouseEnter(U,ye,we.getKey(Z))})("mouseleave",function(U){i.CHM(Q);const se=i.oxw().$implicit;return i.oxw().onItemMouseLeave(U,se)}),i.YNc(2,v,6,14,"a",8),i.YNc(3,G,6,22,"a",9),i.YNc(4,ne,1,2,"p-contextMenuSub",10),i.qZA()}if(2&j){const Q=i.oxw(),m=Q.$implicit,U=Q.index,se=i.oxw();i.Tol(m.styleClass),i.Q6J("ngClass",i.WLB(9,le,se.isActive(se.getKey(U)),!1===m.visible))("ngStyle",m.style)("tooltipOptions",m.tooltipOptions),i.uIk("data-ik",se.getKey(U)),i.xp6(2),i.Q6J("ngIf",!m.routerLink),i.xp6(1),i.Q6J("ngIf",m.routerLink),i.xp6(1),i.Q6J("ngIf",m.items)}}function _e(j,Y){if(1&j&&(i.YNc(0,_,2,3,"li",3),i.YNc(1,ue,5,12,"li",4)),2&j){const Q=Y.$implicit;i.Q6J("ngIf",Q.separator),i.xp6(1),i.Q6J("ngIf",!Q.separator)}}const he=function(j){return{"p-submenu-list":j}},Ce=["container"];let ee=(()=>{class j{constructor(Q){this.leafClick=new i.vpe,this.contextMenu=Q}ngOnInit(){this.activeItemKeyChangeSubscription=this.contextMenu.contextMenuService.activeItemKeyChange$.pipe((0,g.R)(this.contextMenu.ngDestroy$)).subscribe(Q=>{this.activeItemKey=Q,this.isActive(this.parentItemKey)&&ie.p.hasClass(this.sublistViewChild.nativeElement,"p-submenu-list-active")&&this.contextMenu.positionSubmenu(this.sublistViewChild.nativeElement),this.contextMenu.cd.markForCheck()})}onItemMouseEnter(Q,m,U){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),!m.disabled){if(m.items){let se=ie.p.findSingle(Q.currentTarget,".p-submenu-list");ie.p.addClass(se,"p-submenu-list-active")}this.contextMenu.contextMenuService.changeKey(U)}}onItemMouseLeave(Q,m){m.disabled||this.contextMenu.el.nativeElement.contains(Q.toElement)&&(m.items&&this.contextMenu.removeActiveFromSubLists(Q.currentTarget),this.root||this.contextMenu.contextMenuService.changeKey(this.parentItemKey))}onItemClick(Q,m,U,se){if(m.disabled)Q.preventDefault();else{if(!m.url&&!m.routerLink&&Q.preventDefault(),m.command&&m.command({originalEvent:Q,item:m}),m.items){let ye=ie.p.findSingle(U,".p-submenu-list");ye&&(this.isActive(se)&&ie.p.hasClass(ye,"p-submenu-list-active")?this.contextMenu.removeActiveFromSubLists(U):ie.p.addClass(ye,"p-submenu-list-active"),this.contextMenu.contextMenuService.changeKey(se))}m.items||this.onLeafClick()}}onLeafClick(){this.root&&this.contextMenu.hide(),this.leafClick.emit()}getKey(Q){return this.root?String(Q):this.parentItemKey+"_"+Q}isActive(Q){return this.activeItemKey&&(this.activeItemKey.startsWith(Q+"_")||this.activeItemKey===Q)}}return j.\u0275fac=function(Q){return new(Q||j)(i.Y36((0,i.Gpc)(()=>F)))},j.\u0275cmp=i.Xpm({type:j,selectors:[["p-contextMenuSub"]],viewQuery:function(Q,m){if(1&Q&&(i.Gf(E,5),i.Gf(l,5)),2&Q){let U;i.iGM(U=i.CRH())&&(m.sublistViewChild=U.first),i.iGM(U=i.CRH())&&(m.menuitemViewChild=U.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",parentItemKey:"parentItemKey"},outputs:{leafClick:"leafClick"},decls:3,vars:4,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["pTooltip","","role","none",3,"ngClass","ngStyle","class","tooltipOptions","mouseenter","mouseleave",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["menuitem",""],["pTooltip","","role","none",3,"ngClass","ngStyle","tooltipOptions","mouseenter","mouseleave"],["pRipple","",3,"target","ngClass","click",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[3,"parentItemKey","item","leafClick",4,"ngIf"],["pRipple","",3,"target","ngClass","click"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-submenu-icon pi pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-submenu-icon","pi","pi-angle-right"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlRouteLabel",""],[3,"parentItemKey","item","leafClick"]],template:function(Q,m){1&Q&&(i.TgZ(0,"ul",0,1),i.YNc(2,_e,2,2,"ng-template",2),i.qZA()),2&Q&&(i.Q6J("ngClass",i.VKq(2,he,!m.root)),i.xp6(2),i.Q6J("ngForOf",m.root?m.item:m.item.items))},directives:[j,xe.mk,xe.sg,xe.O5,C.u,xe.PC,f.H,d.yS,d.Od],encapsulation:2}),j})(),F=(()=>{class j{constructor(Q,m,U,se,ye,Z){this.el=Q,this.renderer=m,this.cd=U,this.zone=se,this.contextMenuService=ye,this.config=Z,this.autoZIndex=!0,this.baseZIndex=0,this.triggerEvent="contextmenu",this.onShow=new i.vpe,this.onHide=new i.vpe,this.ngDestroy$=new A.x,this.preventDocumentDefault=!1}ngAfterViewInit(){this.global?this.triggerEventListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",this.triggerEvent,m=>{this.show(m),m.preventDefault()}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,Q=>{this.show(Q),Q.preventDefault()})),this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):ie.p.appendChild(this.containerViewChild.nativeElement,this.appendTo))}show(Q){this.clearActiveItem(),this.position(Q),this.moveOnTop(),this.containerViewChild.nativeElement.style.display="block",this.preventDocumentDefault=!0,ie.p.fadeIn(this.containerViewChild.nativeElement,250),this.bindGlobalListeners(),Q&&Q.preventDefault(),this.onShow.emit()}hide(){this.containerViewChild.nativeElement.style.display="none",this.autoZIndex&&I.P9.clear(this.containerViewChild.nativeElement),this.clearActiveItem(),this.unbindGlobalListeners(),this.onHide.emit()}moveOnTop(){this.autoZIndex&&this.containerViewChild&&"block"!==this.containerViewChild.nativeElement.style.display&&I.P9.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}toggle(Q){this.containerViewChild.nativeElement.offsetParent?this.hide():this.show(Q)}position(Q){if(Q){let m=Q.pageX+1,U=Q.pageY+1,se=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:ie.p.getHiddenElementOuterWidth(this.containerViewChild.nativeElement),ye=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:ie.p.getHiddenElementOuterHeight(this.containerViewChild.nativeElement),Z=ie.p.getViewport();m+se-document.body.scrollLeft>Z.width&&(m-=se),U+ye-document.body.scrollTop>Z.height&&(U-=ye),m<document.body.scrollLeft&&(m=document.body.scrollLeft),U<document.body.scrollTop&&(U=document.body.scrollTop),this.containerViewChild.nativeElement.style.left=m+"px",this.containerViewChild.nativeElement.style.top=U+"px"}}positionSubmenu(Q){let m=Q.parentElement.parentElement,U=ie.p.getViewport(),se=Q.offsetParent?Q.offsetWidth:ie.p.getHiddenElementOuterWidth(Q),ye=Q.offsetHeight?Q.offsetHeight:ie.p.getHiddenElementOuterHeight(Q),Z=ie.p.getOuterWidth(m.children[0]),we=ie.p.getOuterHeight(m.children[0]),ke=ie.p.getOffset(m.parentElement);Q.style.zIndex=++ie.p.zindex,parseInt(ke.top)+we+ye>U.height-ie.p.calculateScrollbarHeight()?(Q.style.removeProperty("top"),Q.style.bottom="0px"):(Q.style.removeProperty("bottom"),Q.style.top="0px"),Q.style.left=parseInt(ke.left)+Z+se>U.width-ie.p.calculateScrollbarWidth()?-se+"px":Z+"px"}isItemMatched(Q){return ie.p.hasClass(Q,"p-menuitem")&&!ie.p.hasClass(Q.children[0],"p-disabled")}findNextItem(Q,m){let U=Q.nextElementSibling;if(U)return this.isItemMatched(U)?U:this.findNextItem(U,m);{let se=Q.parentElement.children[0];return this.isItemMatched(se)?se:m?null:this.findNextItem(se,!0)}}findPrevItem(Q,m){let U=Q.previousElementSibling;if(U)return this.isItemMatched(U)?U:this.findPrevItem(U,m);{let se=Q.parentElement.children[Q.parentElement.children.length-1];return this.isItemMatched(se)?se:m?null:this.findPrevItem(se,!0)}}getActiveItem(){let Q=this.contextMenuService.activeItemKey;return null==Q?null:ie.p.findSingle(this.containerViewChild.nativeElement,'.p-menuitem[data-ik="'+Q+'"]')}clearActiveItem(){this.contextMenuService.activeItemKey&&(this.removeActiveFromSubLists(this.containerViewChild.nativeElement),this.contextMenuService.reset())}removeActiveFromSubLists(Q){let m=ie.p.find(Q,".p-submenu-list-active");for(let U of m)ie.p.removeClass(U,"p-submenu-list-active")}removeActiveFromSublist(Q){Q&&ie.p.findSingle(Q,".p-submenu-list")&&ie.p.hasClass(Q,"p-submenu-list-active")&&ie.p.removeClass(Q,"p-submenu-list-active")}bindGlobalListeners(){if(!this.documentClickListener){const Q=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(Q,"click",m=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(m)&&!m.ctrlKey&&2!==m.button&&this.hide()}),this.documentTriggerListener=this.renderer.listen(Q,this.triggerEvent,m=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(m)&&!this.preventDocumentDefault&&this.hide(),this.preventDocumentDefault=!1})}this.zone.runOutsideAngular(()=>{this.windowResizeListener||(this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener))}),this.documentKeydownListener||(this.documentKeydownListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",m=>{let U=this.getActiveItem();switch(m.key){case"ArrowDown":if(U)this.removeActiveFromSublist(U),U=this.findNextItem(U);else{let se=ie.p.findSingle(this.containerViewChild.nativeElement,".p-menuitem-link").parentElement;U=this.isItemMatched(se)?se:this.findNextItem(se)}U&&this.contextMenuService.changeKey(U.getAttribute("data-ik")),m.preventDefault();break;case"ArrowUp":if(U)this.removeActiveFromSublist(U),U=this.findPrevItem(U);else{let se=ie.p.findSingle(this.containerViewChild.nativeElement,"ul"),ye=se.children[se.children.length-1];U=this.isItemMatched(ye)?ye:this.findPrevItem(ye)}U&&this.contextMenuService.changeKey(U.getAttribute("data-ik")),m.preventDefault();break;case"ArrowRight":if(U){let se=ie.p.findSingle(U,".p-submenu-list");se&&(ie.p.addClass(se,"p-submenu-list-active"),U=ie.p.findSingle(se,".p-menuitem-link:not(.p-disabled)").parentElement,U&&this.contextMenuService.changeKey(U.getAttribute("data-ik")))}m.preventDefault();break;case"ArrowLeft":if(U){let se=U.parentElement;se&&ie.p.hasClass(se,"p-submenu-list-active")&&(ie.p.removeClass(se,"p-submenu-list-active"),U=se.parentElement.parentElement,U&&this.contextMenuService.changeKey(U.getAttribute("data-ik")))}m.preventDefault();break;case"Escape":this.hide(),m.preventDefault();break;case"Enter":U&&this.handleItemClick(m,this.findModelItemFromKey(this.contextMenuService.activeItemKey),U),m.preventDefault()}}))}findModelItemFromKey(Q){return null!=Q&&this.model?Q.split("_").reduce((U,se)=>U?U.items[se]:this.model[se],null):null}handleItemClick(Q,m,U){if(m&&!m.disabled){if(m.command&&m.command({originalEvent:Q,item:m}),m.items){let se=ie.p.findSingle(U,".p-submenu-list");se&&(ie.p.hasClass(se,"p-submenu-list-active")?this.removeActiveFromSubLists(U):(ie.p.addClass(se,"p-submenu-list-active"),this.positionSubmenu(se)))}m.items||this.hide()}}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.documentTriggerListener&&(this.documentTriggerListener(),this.documentTriggerListener=null),this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.windowResizeListener=null),this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}onWindowResize(Q){this.containerViewChild.nativeElement.offsetParent&&this.hide()}isOutsideClicked(Q){return!(this.containerViewChild.nativeElement.isSameNode(Q.target)||this.containerViewChild.nativeElement.contains(Q.target))}ngOnDestroy(){this.unbindGlobalListeners(),this.triggerEventListener&&this.triggerEventListener(),this.containerViewChild&&this.autoZIndex&&I.P9.clear(this.containerViewChild.nativeElement),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement),this.ngDestroy$.next(!0),this.ngDestroy$.complete()}}return j.\u0275fac=function(Q){return new(Q||j)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(i.R0b),i.Y36(M.Lk),i.Y36(M.b4))},j.\u0275cmp=i.Xpm({type:j,selectors:[["p-contextMenu"]],viewQuery:function(Q,m){if(1&Q&&i.Gf(Ce,5),2&Q){let U;i.iGM(U=i.CRH())&&(m.containerViewChild=U.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",global:"global",target:"target",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",triggerEvent:"triggerEvent"},outputs:{onShow:"onShow",onHide:"onHide"},decls:3,vars:6,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"item","root"]],template:function(Q,m){1&Q&&(i.TgZ(0,"div",0,1),i._UZ(2,"p-contextMenuSub",2),i.qZA()),2&Q&&(i.Tol(m.styleClass),i.Q6J("ngClass","p-contextmenu p-component")("ngStyle",m.style),i.xp6(2),i.Q6J("item",m.model)("root",!0))},directives:[ee,xe.mk,xe.PC],styles:[".p-contextmenu{position:absolute;display:none}.p-contextmenu ul{margin:0;padding:0;list-style:none}.p-contextmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-contextmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-contextmenu .p-menuitem-text{line-height:1}.p-contextmenu .p-menuitem{position:relative}.p-contextmenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-contextmenu .p-menuitem-active>p-contextmenusub>.p-submenu-list.p-submenu-list-active{display:block!important}\n"],encapsulation:2,changeDetection:0}),j})(),R=(()=>{class j{}return j.\u0275fac=function(Q){return new(Q||j)},j.\u0275mod=i.oAB({type:j}),j.\u0275inj=i.cJS({providers:[M.Lk],imports:[[xe.ez,d.Bz,f.T,C.z],d.Bz,C.z]}),j})()},5730:(Xe,de,ce)=>{"use strict";ce.d(de,{V:()=>xe,p:()=>i});let i=(()=>{class ie{static addClass(f,I){f.classList?f.classList.add(I):f.className+=" "+I}static addMultipleClasses(f,I){if(f.classList){let d=I.trim().split(" ");for(let A=0;A<d.length;A++)f.classList.add(d[A])}else{let d=I.split(" ");for(let A=0;A<d.length;A++)f.className+=" "+d[A]}}static removeClass(f,I){f.classList?f.classList.remove(I):f.className=f.className.replace(new RegExp("(^|\\b)"+I.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(f,I){return f.classList?f.classList.contains(I):new RegExp("(^| )"+I+"( |$)","gi").test(f.className)}static siblings(f){return Array.prototype.filter.call(f.parentNode.children,function(I){return I!==f})}static find(f,I){return Array.from(f.querySelectorAll(I))}static findSingle(f,I){return f?f.querySelector(I):null}static index(f){let I=f.parentNode.childNodes,d=0;for(var A=0;A<I.length;A++){if(I[A]==f)return d;1==I[A].nodeType&&d++}return-1}static indexWithinGroup(f,I){let d=f.parentNode?f.parentNode.childNodes:[],A=0;for(var g=0;g<d.length;g++){if(d[g]==f)return A;d[g].attributes&&d[g].attributes[I]&&1==d[g].nodeType&&A++}return-1}static relativePosition(f,I){let d=f.offsetParent?{width:f.offsetWidth,height:f.offsetHeight}:this.getHiddenElementDimensions(f);const A=I.offsetHeight,g=I.getBoundingClientRect(),C=this.getViewport();let E,l;g.top+A+d.height>C.height?(E=-1*d.height,f.style.transformOrigin="bottom",g.top+E<0&&(E=-1*g.top)):(E=A,f.style.transformOrigin="top"),l=d.width>C.width?-1*g.left:g.left+d.width>C.width?-1*(g.left+d.width-C.width):0,f.style.top=E+"px",f.style.left=l+"px"}static absolutePosition(f,I){let oe,O,d=f.offsetParent?{width:f.offsetWidth,height:f.offsetHeight}:this.getHiddenElementDimensions(f),A=d.height,g=d.width,C=I.offsetHeight,E=I.offsetWidth,l=I.getBoundingClientRect(),T=this.getWindowScrollTop(),_=this.getWindowScrollLeft(),H=this.getViewport();l.top+C+A>H.height?(oe=l.top+T-A,f.style.transformOrigin="bottom",oe<0&&(oe=T)):(oe=C+l.top+T,f.style.transformOrigin="top"),O=l.left+g>H.width?Math.max(0,l.left+_+E-g):l.left+_,f.style.top=oe+"px",f.style.left=O+"px"}static getParents(f,I=[]){return null===f.parentNode?I:this.getParents(f.parentNode,I.concat([f.parentNode]))}static getScrollableParents(f){let I=[];if(f){let d=this.getParents(f);const A=/(auto|scroll)/,g=C=>{let E=window.getComputedStyle(C,null);return A.test(E.getPropertyValue("overflow"))||A.test(E.getPropertyValue("overflowX"))||A.test(E.getPropertyValue("overflowY"))};for(let C of d){let E=1===C.nodeType&&C.dataset.scrollselectors;if(E){let l=E.split(",");for(let T of l){let _=this.findSingle(C,T);_&&g(_)&&I.push(_)}}9!==C.nodeType&&g(C)&&I.push(C)}}return I}static getHiddenElementOuterHeight(f){f.style.visibility="hidden",f.style.display="block";let I=f.offsetHeight;return f.style.display="none",f.style.visibility="visible",I}static getHiddenElementOuterWidth(f){f.style.visibility="hidden",f.style.display="block";let I=f.offsetWidth;return f.style.display="none",f.style.visibility="visible",I}static getHiddenElementDimensions(f){let I={};return f.style.visibility="hidden",f.style.display="block",I.width=f.offsetWidth,I.height=f.offsetHeight,f.style.display="none",f.style.visibility="visible",I}static scrollInView(f,I){let d=getComputedStyle(f).getPropertyValue("borderTopWidth"),A=d?parseFloat(d):0,g=getComputedStyle(f).getPropertyValue("paddingTop"),C=g?parseFloat(g):0,E=f.getBoundingClientRect(),T=I.getBoundingClientRect().top+document.body.scrollTop-(E.top+document.body.scrollTop)-A-C,_=f.scrollTop,H=f.clientHeight,oe=this.getOuterHeight(I);T<0?f.scrollTop=_+T:T+oe>H&&(f.scrollTop=_+T-H+oe)}static fadeIn(f,I){f.style.opacity=0;let d=+new Date,A=0,g=function(){A=+f.style.opacity.replace(",",".")+((new Date).getTime()-d)/I,f.style.opacity=A,d=+new Date,+A<1&&(window.requestAnimationFrame&&requestAnimationFrame(g)||setTimeout(g,16))};g()}static fadeOut(f,I){var d=1,C=50/I;let E=setInterval(()=>{(d-=C)<=0&&(d=0,clearInterval(E)),f.style.opacity=d},50)}static getWindowScrollTop(){let f=document.documentElement;return(window.pageYOffset||f.scrollTop)-(f.clientTop||0)}static getWindowScrollLeft(){let f=document.documentElement;return(window.pageXOffset||f.scrollLeft)-(f.clientLeft||0)}static matches(f,I){var d=Element.prototype;return(d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.msMatchesSelector||function(g){return-1!==[].indexOf.call(document.querySelectorAll(g),this)}).call(f,I)}static getOuterWidth(f,I){let d=f.offsetWidth;if(I){let A=getComputedStyle(f);d+=parseFloat(A.marginLeft)+parseFloat(A.marginRight)}return d}static getHorizontalPadding(f){let I=getComputedStyle(f);return parseFloat(I.paddingLeft)+parseFloat(I.paddingRight)}static getHorizontalMargin(f){let I=getComputedStyle(f);return parseFloat(I.marginLeft)+parseFloat(I.marginRight)}static innerWidth(f){let I=f.offsetWidth,d=getComputedStyle(f);return I+=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight),I}static width(f){let I=f.offsetWidth,d=getComputedStyle(f);return I-=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight),I}static getInnerHeight(f){let I=f.offsetHeight,d=getComputedStyle(f);return I+=parseFloat(d.paddingTop)+parseFloat(d.paddingBottom),I}static getOuterHeight(f,I){let d=f.offsetHeight;if(I){let A=getComputedStyle(f);d+=parseFloat(A.marginTop)+parseFloat(A.marginBottom)}return d}static getHeight(f){let I=f.offsetHeight,d=getComputedStyle(f);return I-=parseFloat(d.paddingTop)+parseFloat(d.paddingBottom)+parseFloat(d.borderTopWidth)+parseFloat(d.borderBottomWidth),I}static getWidth(f){let I=f.offsetWidth,d=getComputedStyle(f);return I-=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight)+parseFloat(d.borderLeftWidth)+parseFloat(d.borderRightWidth),I}static getViewport(){let f=window,I=document,d=I.documentElement,A=I.getElementsByTagName("body")[0];return{width:f.innerWidth||d.clientWidth||A.clientWidth,height:f.innerHeight||d.clientHeight||A.clientHeight}}static getOffset(f){var I=f.getBoundingClientRect();return{top:I.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:I.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(f,I){let d=f.parentNode;if(!d)throw"Can't replace element";return d.replaceChild(I,f)}static getUserAgent(){return navigator.userAgent}static isIE(){var f=window.navigator.userAgent;return f.indexOf("MSIE ")>0||(f.indexOf("Trident/")>0?(f.indexOf("rv:"),!0):f.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(f,I){if(this.isElement(I))I.appendChild(f);else{if(!I.el||!I.el.nativeElement)throw"Cannot append "+I+" to "+f;I.el.nativeElement.appendChild(f)}}static removeChild(f,I){if(this.isElement(I))I.removeChild(f);else{if(!I.el||!I.el.nativeElement)throw"Cannot remove "+f+" from "+I;I.el.nativeElement.removeChild(f)}}static removeElement(f){"remove"in Element.prototype?f.remove():f.parentNode.removeChild(f)}static isElement(f){return"object"==typeof HTMLElement?f instanceof HTMLElement:f&&"object"==typeof f&&null!==f&&1===f.nodeType&&"string"==typeof f.nodeName}static calculateScrollbarWidth(f){if(f){let I=getComputedStyle(f);return f.offsetWidth-f.clientWidth-parseFloat(I.borderLeftWidth)-parseFloat(I.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let I=document.createElement("div");I.className="p-scrollbar-measure",document.body.appendChild(I);let d=I.offsetWidth-I.clientWidth;return document.body.removeChild(I),this.calculatedScrollbarWidth=d,d}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let f=document.createElement("div");f.className="p-scrollbar-measure",document.body.appendChild(f);let I=f.offsetHeight-f.clientHeight;return document.body.removeChild(f),this.calculatedScrollbarWidth=I,I}static invokeElementMethod(f,I,d){f[I].apply(f,d)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(f){}}static getBrowser(){if(!this.browser){let f=this.resolveUserAgent();this.browser={},f.browser&&(this.browser[f.browser]=!0,this.browser.version=f.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let f=navigator.userAgent.toLowerCase(),I=/(chrome)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+)/.exec(f)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(f)||/(msie) ([\w.]+)/.exec(f)||f.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(f)||[];return{browser:I[1]||"",version:I[2]||"0"}}static isInteger(f){return Number.isInteger?Number.isInteger(f):"number"==typeof f&&isFinite(f)&&Math.floor(f)===f}static isHidden(f){return null===f.offsetParent}static getFocusableElements(f){let I=ie.find(f,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),d=[];for(let A of I)"none"!=getComputedStyle(A).display&&"hidden"!=getComputedStyle(A).visibility&&d.push(A);return d}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return ie.zindex=1e3,ie.calculatedScrollbarWidth=null,ie.calculatedScrollbarHeight=null,ie})();class xe{constructor(M,f=(()=>{})){this.element=M,this.listener=f}bindScrollListener(){this.scrollableParents=i.getScrollableParents(this.element);for(let M=0;M<this.scrollableParents.length;M++)this.scrollableParents[M].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let M=0;M<this.scrollableParents.length;M++)this.scrollableParents[M].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},8185:(Xe,de,ce)=>{"use strict";ce.d(de,{k:()=>d,q:()=>A});var i=ce(5e3),xe=ce(9808);function ie(g,C){if(1&g&&(i.TgZ(0,"div",5),i._uU(1),i.qZA()),2&g){const E=i.oxw(2);i.Udp("display",null!=E.value&&0!==E.value?"flex":"none"),i.xp6(1),i.AsE("",E.value,"",E.unit,"")}}function M(g,C){if(1&g&&(i.TgZ(0,"div",3),i.YNc(1,ie,2,4,"div",4),i.qZA()),2&g){const E=i.oxw();i.Udp("width",E.value+"%"),i.xp6(1),i.Q6J("ngIf",E.showValue)}}function f(g,C){1&g&&(i.TgZ(0,"div",6),i._UZ(1,"div",7),i.qZA())}const I=function(g,C){return{"p-progressbar p-component":!0,"p-progressbar-determinate":g,"p-progressbar-indeterminate":C}};let d=(()=>{class g{constructor(){this.showValue=!0,this.unit="%",this.mode="determinate"}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275cmp=i.Xpm({type:g,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",style:"style",styleClass:"styleClass",unit:"unit",mode:"mode"},decls:3,vars:10,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],["class","p-progressbar-label",3,"display",4,"ngIf"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(E,l){1&E&&(i.TgZ(0,"div",0),i.YNc(1,M,2,3,"div",1),i.YNc(2,f,2,0,"div",2),i.qZA()),2&E&&(i.Tol(l.styleClass),i.Q6J("ngStyle",l.style)("ngClass",i.WLB(7,I,"determinate"===l.mode,"indeterminate"===l.mode)),i.uIk("aria-valuenow",l.value),i.xp6(1),i.Q6J("ngIf","determinate"===l.mode),i.xp6(1),i.Q6J("ngIf","indeterminate"===l.mode))},directives:[xe.PC,xe.mk,xe.O5],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0}),g})(),A=(()=>{class g{}return g.\u0275fac=function(E){return new(E||g)},g.\u0275mod=i.oAB({type:g}),g.\u0275inj=i.cJS({imports:[[xe.ez]]}),g})()},5787:(Xe,de,ce)=>{"use strict";ce.d(de,{H:()=>f,T:()=>I});var i=ce(5e3),xe=ce(9808),ie=ce(5730),M=ce(9783);let f=(()=>{class d{constructor(g,C,E){this.el=g,this.zone=C,this.config=E}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(g){let C=this.getInk();if(!C||"none"===getComputedStyle(C,null).display)return;if(ie.p.removeClass(C,"p-ink-active"),!ie.p.getHeight(C)&&!ie.p.getWidth(C)){let _=Math.max(ie.p.getOuterWidth(this.el.nativeElement),ie.p.getOuterHeight(this.el.nativeElement));C.style.height=_+"px",C.style.width=_+"px"}let E=ie.p.getOffset(this.el.nativeElement),l=g.pageX-E.left+document.body.scrollTop-ie.p.getWidth(C)/2,T=g.pageY-E.top+document.body.scrollLeft-ie.p.getHeight(C)/2;C.style.top=T+"px",C.style.left=l+"px",ie.p.addClass(C,"p-ink-active")}getInk(){for(let g=0;g<this.el.nativeElement.children.length;g++)if(-1!==this.el.nativeElement.children[g].className.indexOf("p-ink"))return this.el.nativeElement.children[g];return null}resetInk(){let g=this.getInk();g&&ie.p.removeClass(g,"p-ink-active")}onAnimationEnd(g){ie.p.removeClass(g.currentTarget,"p-ink-active")}create(){let g=document.createElement("span");g.className="p-ink",this.el.nativeElement.appendChild(g),this.animationListener=this.onAnimationEnd.bind(this),g.addEventListener("animationend",this.animationListener)}remove(){let g=this.getInk();g&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),g.removeEventListener("animationend",this.animationListener),ie.p.removeElement(g))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return d.\u0275fac=function(g){return new(g||d)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(M.b4,8))},d.\u0275dir=i.lG2({type:d,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),d})(),I=(()=>{class d{}return d.\u0275fac=function(g){return new(g||d)},d.\u0275mod=i.oAB({type:d}),d.\u0275inj=i.cJS({imports:[[xe.ez]]}),d})()},405:(Xe,de,ce)=>{"use strict";ce.d(de,{T:()=>T,k:()=>_});var i=ce(5e3),xe=ce(9808),ie=ce(9783);function M(H,oe){1&H&&i.GkF(0)}function f(H,oe){1&H&&i.GkF(0)}const I=function(H){return{$implicit:H}};function d(H,oe){if(1&H&&(i.ynx(0),i.YNc(1,f,1,0,"ng-container",4),i.BQk()),2&H){const O=i.oxw().$implicit,q=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",q.markerTemplate)("ngTemplateOutletContext",i.VKq(2,I,O))}}function A(H,oe){1&H&&i._UZ(0,"div",10)}function g(H,oe){1&H&&i._UZ(0,"div",11)}function C(H,oe){1&H&&i.GkF(0)}function E(H,oe){if(1&H&&(i.TgZ(0,"div",2)(1,"div",3),i.YNc(2,M,1,0,"ng-container",4),i.qZA(),i.TgZ(3,"div",5),i.YNc(4,d,2,4,"ng-container",6),i.YNc(5,A,1,0,"ng-template",null,7,i.W1O),i.YNc(7,g,1,0,"div",8),i.qZA(),i.TgZ(8,"div",9),i.YNc(9,C,1,0,"ng-container",4),i.qZA()()),2&H){const O=oe.$implicit,q=oe.last,b=i.MAs(6),v=i.oxw();i.xp6(2),i.Q6J("ngTemplateOutlet",v.oppositeTemplate)("ngTemplateOutletContext",i.VKq(7,I,O)),i.xp6(2),i.Q6J("ngIf",v.markerTemplate)("ngIfElse",b),i.xp6(3),i.Q6J("ngIf",!q),i.xp6(2),i.Q6J("ngTemplateOutlet",v.contentTemplate)("ngTemplateOutletContext",i.VKq(9,I,O))}}const l=function(H,oe,O,q,b,v,K){return{"p-timeline p-component":!0,"p-timeline-left":H,"p-timeline-right":oe,"p-timeline-top":O,"p-timeline-bottom":q,"p-timeline-alternate":b,"p-timeline-vertical":v,"p-timeline-horizontal":K}};let T=(()=>{class H{constructor(O){this.el=O,this.align="left",this.layout="vertical"}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(O=>{switch(O.getType()){case"content":this.contentTemplate=O.template;break;case"opposite":this.oppositeTemplate=O.template;break;case"marker":this.markerTemplate=O.template}})}}return H.\u0275fac=function(O){return new(O||H)(i.Y36(i.SBq))},H.\u0275cmp=i.Xpm({type:H,selectors:[["p-timeline"]],contentQueries:function(O,q,b){if(1&O&&i.Suo(b,ie.jx,4),2&O){let v;i.iGM(v=i.CRH())&&(q.templates=v)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",align:"align",layout:"layout"},decls:2,vars:13,consts:[[3,"ngStyle","ngClass"],["class","p-timeline-event",4,"ngFor","ngForOf"],[1,"p-timeline-event"],[1,"p-timeline-event-opposite"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-timeline-event-separator"],[4,"ngIf","ngIfElse"],["marker",""],["class","p-timeline-event-connector",4,"ngIf"],[1,"p-timeline-event-content"],[1,"p-timeline-event-marker"],[1,"p-timeline-event-connector"]],template:function(O,q){1&O&&(i.TgZ(0,"div",0),i.YNc(1,E,10,11,"div",1),i.qZA()),2&O&&(i.Tol(q.styleClass),i.Q6J("ngStyle",q.style)("ngClass",i.Hh0(5,l,"left"===q.align,"right"===q.align,"top"===q.align,"bottom"===q.align,"alternate"===q.align,"vertical"===q.layout,"horizontal"===q.layout)),i.xp6(1),i.Q6J("ngForOf",q.value))},directives:[xe.PC,xe.mk,xe.sg,xe.tP,xe.O5],styles:[".p-timeline{display:flex;flex-grow:1;flex-direction:column}.p-timeline-left .p-timeline-event-opposite{text-align:right}.p-timeline-left .p-timeline-event-content{text-align:left}.p-timeline-right .p-timeline-event{flex-direction:row-reverse}.p-timeline-right .p-timeline-event-opposite{text-align:left}.p-timeline-right .p-timeline-event-content{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(even){flex-direction:row-reverse}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-opposite{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-content{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(even) .p-timeline-event-opposite{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(even) .p-timeline-event-content{text-align:right}.p-timeline-event{display:flex;position:relative;min-height:70px}.p-timeline-event:last-child{min-height:0}.p-timeline-event-opposite,.p-timeline-event-content{flex:1;padding:0 1rem}.p-timeline-event-separator{flex:0;display:flex;align-items:center;flex-direction:column}.p-timeline-event-marker{display:flex;align-self:baseline}.p-timeline-event-connector{flex-grow:1}.p-timeline-horizontal{flex-direction:row}.p-timeline-horizontal .p-timeline-event{flex-direction:column;flex:1}.p-timeline-horizontal .p-timeline-event:last-child{flex:0}.p-timeline-horizontal .p-timeline-event-separator{flex-direction:row}.p-timeline-horizontal .p-timeline-event-connector{width:100%}.p-timeline-bottom .p-timeline-event{flex-direction:column-reverse}.p-timeline-horizontal.p-timeline-alternate .p-timeline-event:nth-child(even){flex-direction:column-reverse}\n"],encapsulation:2,changeDetection:0}),H})(),_=(()=>{class H{}return H.\u0275fac=function(O){return new(O||H)},H.\u0275mod=i.oAB({type:H}),H.\u0275inj=i.cJS({imports:[[xe.ez],ie.m8]}),H})()},4119:(Xe,de,ce)=>{"use strict";ce.d(de,{u:()=>I,z:()=>d});var i=ce(5e3),xe=ce(9808),ie=ce(5730),M=ce(5921),f=ce(9783);let I=(()=>{class A{constructor(C,E,l){this.el=C,this.zone=E,this.config=l,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(C){this._disabled=C,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.getOption("tooltipEvent")?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}ngOnChanges(C){C.tooltipPosition&&this.setOption({tooltipPosition:C.tooltipPosition.currentValue}),C.tooltipEvent&&this.setOption({tooltipEvent:C.tooltipEvent.currentValue}),C.appendTo&&this.setOption({appendTo:C.appendTo.currentValue}),C.positionStyle&&this.setOption({positionStyle:C.positionStyle.currentValue}),C.tooltipStyleClass&&this.setOption({tooltipStyleClass:C.tooltipStyleClass.currentValue}),C.tooltipZIndex&&this.setOption({tooltipZIndex:C.tooltipZIndex.currentValue}),C.escape&&this.setOption({escape:C.escape.currentValue}),C.showDelay&&this.setOption({showDelay:C.showDelay.currentValue}),C.hideDelay&&this.setOption({hideDelay:C.hideDelay.currentValue}),C.life&&this.setOption({life:C.life.currentValue}),C.positionTop&&this.setOption({positionTop:C.positionTop.currentValue}),C.positionLeft&&this.setOption({positionLeft:C.positionLeft.currentValue}),C.disabled&&this.setOption({disabled:C.disabled.currentValue}),C.text&&(this.setOption({tooltipLabel:C.text.currentValue}),this.active&&(C.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),C.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),C.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(C){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(C){this.deactivate()}onFocus(C){this.activate()}onBlur(C){this.deactivate()}onClick(C){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let C=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},C)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let C=document.createElement("div");C.className="p-tooltip-arrow",this.container.appendChild(C),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?ie.p.appendChild(this.container,this.el.nativeElement):ie.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),ie.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?M.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&M.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let C=this.el.nativeElement.getBoundingClientRect();return{left:C.left+ie.p.getWindowScrollLeft(),top:C.top+ie.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let C=this.getHostOffset(),E=C.left+ie.p.getOuterWidth(this.el.nativeElement),l=C.top+(ie.p.getOuterHeight(this.el.nativeElement)-ie.p.getOuterHeight(this.container))/2;this.container.style.left=E+this.getOption("positionLeft")+"px",this.container.style.top=l+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let C=this.getHostOffset(),E=C.left-ie.p.getOuterWidth(this.container),l=C.top+(ie.p.getOuterHeight(this.el.nativeElement)-ie.p.getOuterHeight(this.container))/2;this.container.style.left=E+this.getOption("positionLeft")+"px",this.container.style.top=l+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let C=this.getHostOffset(),E=C.left+(ie.p.getOuterWidth(this.el.nativeElement)-ie.p.getOuterWidth(this.container))/2,l=C.top-ie.p.getOuterHeight(this.container);this.container.style.left=E+this.getOption("positionLeft")+"px",this.container.style.top=l+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let C=this.getHostOffset(),E=C.left+(ie.p.getOuterWidth(this.el.nativeElement)-ie.p.getOuterWidth(this.container))/2,l=C.top+ie.p.getOuterHeight(this.el.nativeElement);this.container.style.left=E+this.getOption("positionLeft")+"px",this.container.style.top=l+this.getOption("positionTop")+"px"}setOption(C){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),C)}getOption(C){return this._tooltipOptions[C]}preAlign(C){this.container.style.left="-999px",this.container.style.top="-999px";let E="p-tooltip p-component p-tooltip-"+C;this.container.className=this.getOption("tooltipStyleClass")?E+" "+this.getOption("tooltipStyleClass"):E}isOutOfBounds(){let C=this.container.getBoundingClientRect(),E=C.top,l=C.left,T=ie.p.getOuterWidth(this.container),_=ie.p.getOuterHeight(this.container),H=ie.p.getViewport();return l+T>H.width||l<0||E<0||E+_>H.height}onWindowResize(C){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new ie.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):ie.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&M.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return A.\u0275fac=function(C){return new(C||A)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(f.b4))},A.\u0275dir=i.lG2({type:A,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[i.TTD]}),A})(),d=(()=>{class A{}return A.\u0275fac=function(C){return new(C||A)},A.\u0275mod=i.oAB({type:A}),A.\u0275inj=i.cJS({imports:[[xe.ez]]}),A})()},5921:(Xe,de,ce)=>{"use strict";ce.d(de,{P9:()=>f,Th:()=>ie,gb:()=>i});class i{static equals(d,A,g){return g?this.resolveFieldData(d,g)===this.resolveFieldData(A,g):this.equalsByValue(d,A)}static equalsByValue(d,A){if(d===A)return!0;if(d&&A&&"object"==typeof d&&"object"==typeof A){var E,l,T,g=Array.isArray(d),C=Array.isArray(A);if(g&&C){if((l=d.length)!=A.length)return!1;for(E=l;0!=E--;)if(!this.equalsByValue(d[E],A[E]))return!1;return!0}if(g!=C)return!1;var _=d instanceof Date,H=A instanceof Date;if(_!=H)return!1;if(_&&H)return d.getTime()==A.getTime();var oe=d instanceof RegExp,O=A instanceof RegExp;if(oe!=O)return!1;if(oe&&O)return d.toString()==A.toString();var q=Object.keys(d);if((l=q.length)!==Object.keys(A).length)return!1;for(E=l;0!=E--;)if(!Object.prototype.hasOwnProperty.call(A,q[E]))return!1;for(E=l;0!=E--;)if(!this.equalsByValue(d[T=q[E]],A[T]))return!1;return!0}return d!=d&&A!=A}static resolveFieldData(d,A){if(d&&A){if(this.isFunction(A))return A(d);if(-1==A.indexOf("."))return d[A];{let g=A.split("."),C=d;for(let E=0,l=g.length;E<l;++E){if(null==C)return null;C=C[g[E]]}return C}}return null}static isFunction(d){return!!(d&&d.constructor&&d.call&&d.apply)}static reorderArray(d,A,g){d&&A!==g&&(g>=d.length&&(g%=d.length,A%=d.length),d.splice(g,0,d.splice(A,1)[0]))}static insertIntoOrderedArray(d,A,g,C){if(g.length>0){let E=!1;for(let l=0;l<g.length;l++)if(this.findIndexInList(g[l],C)>A){g.splice(l,0,d),E=!0;break}E||g.push(d)}else g.push(d)}static findIndexInList(d,A){let g=-1;if(A)for(let C=0;C<A.length;C++)if(A[C]==d){g=C;break}return g}static contains(d,A){if(null!=d&&A&&A.length)for(let g of A)if(this.equals(d,g))return!0;return!1}static removeAccents(d){return d&&d.search(/[\xC0-\xFF]/g)>-1&&(d=d.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),d}static isEmpty(d){return null==d||""===d||Array.isArray(d)&&0===d.length||!(d instanceof Date)&&"object"==typeof d&&0===Object.keys(d).length}static isNotEmpty(d){return!this.isEmpty(d)}}var xe=0;function ie(){return"pr_id_"+ ++xe}var f=function M(){let I=[];const C=E=>E&&parseInt(E.style.zIndex,10)||0;return{get:C,set:(E,l,T)=>{l&&(l.style.zIndex=String(((E,l)=>{let T=I.length>0?I[I.length-1]:{key:E,value:l},_=T.value+(T.key===E?0:l)+1;return I.push({key:E,value:_}),_})(E,T)))},clear:E=>{E&&((E=>{I=I.filter(l=>l.value!==E)})(C(E)),E.style.zIndex="")},getCurrent:()=>I.length>0?I[I.length-1].value:0}}()}}]);