"use strict";(self.webpackChunkBemMais2=self.webpackChunkBemMais2||[]).push([[1166],{2498:(M,y,g)=>{g.d(y,{o:()=>v});var h=g(5e3),t=g(3075),E=g(9646),b=g(312);class v{constructor(l,o){this.injetor=l,this.modalService=o,this.formBuilder=this.injetor.get(t.qu),this.el=this.injetor.get(h.SBq),this.form=this.formBuilder.group({})}setInvalidCss(l){var o,u;return(null===(o=this.form.get(l))||void 0===o?void 0:o.invalid)&&(null===(u=this.form.get(l))||void 0===u?void 0:u.dirty)||!1}setInvalidControlList(l){var o;const u=new Array;if(Object.keys(this.form.controls).forEach(a=>{var d;this.form.invalid&&this.form.controls[a].invalid&&(null==l||l.map(Z=>u.push(Z[a])),null===(d=this.form.get(a))||void 0===d||d.markAsDirty())}),u.length>0){this.modalRef=this.modalService.open(b.z,{centered:!0});const a=this.modalRef.componentInstance;return a.list=["O formul\xe1rio cont\xe9m os seguintes erros:",...u],a.title="Alerta",a.type="alert",a.confirmButton=!1,a.firstLineAsTitle=!0,void(null===(o=this.modalRef.closed)||void 0===o||o.subscribe(d=>{this.focusFirstInvalid(),u.splice(0,u.length)}))}}focusFirstInvalid(){for(const l of Object.keys(this.form.controls))if(this.form.controls[l].invalid){const o=this.el.nativeElement.querySelector('[formcontrolname="'+l+'"]')||this.el.nativeElement.querySelector(`#${l}`);o.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),setTimeout(()=>{o.focus()},500);break}}markAllAsDirty(l){Object.values(l.controls).forEach(o=>{o.markAsDirty(),o.controls&&this.markAllAsDirty(o)})}setSwitches(l,o){try{let u=new Array;Object.keys(this.form.controls).forEach(a=>{"boolean"!=typeof this.form.controls[a].value||(null==o?void 0:o.includes(a))||u.push({label:T.switchToggleDefaultPattern[l][`${a}Label`],form:this.form,formControlName:a})}),this.switchArr$=(0,E.of)(u)}catch(u){console.log("Erro setSwitches appDefaultStore: ",u)}}patchArrayContacts(l){const o=this.form.get("contacts");return(null==l?void 0:l.length)?o.controls.map(u=>{const a=null==l?void 0:l.find(d=>d.description===u.value.description);return a&&u.patchValue({id:a.id||null,types:a.types,contact:a.contact,description:a.description}),u}):o.controls}patchArrayAddresses(l,o){const u=this.form.get("addresses");return(null==l?void 0:l.length)||o?u.controls.map((null==l?void 0:l.length)?a=>l.map(d=>{a.patchValue({id:d.id||null,clientId:d.clientId||null,description:d.description||"main",streetName:d.streetName||null,number:d.number||null,complement:d.complement||null,neighborhood:d.neighborhood||null,city:d.city||null,federationUnit:d.federationUnit||null,zipCode:d.zipCode||null,latitude:d.latitude||null,longitude:d.longitude||null})}):a=>(o&&a.patchValue({federationUnit:o}),a)):u.controls}}let T=(()=>{class A{}return A.switchToggleDefaultPattern={vehiclePanel:{bodyDamageLabel:"danos corporais",materialDamageLabel:"danos materiais",moralDamageLabel:"danos morais",sharedRCLabel:"RC compartilhado DMC",sharedRC5kLabel:"RC compartilhado DMC - Co-participa\xe7\xe3o R$ 5.000,00",sharedRC20kLabel:"RC compartilhado DMC - stop loss R$ 20.000,00"}},A})()},312:(M,y,g)=>{g.d(y,{z:()=>Z});var h=g(3075),t=g(5e3),E=g(7751),b=g(9808),v=g(6517);const T=function(c,_,r){return{"medium-txt":c,"mb-2":_,subtitle:r}};function A(c,_){if(1&c&&(t.TgZ(0,"li",16),t._uU(1),t.qZA()),2&c){const r=_.$implicit,e=_.index,n=t.oxw(2);t.Q6J("ngClass",t.kEZ(2,T,0==e&&n.firstLineAsTitle,0==e&&n.firstLineAsTitle,0==e&&n.firstLineAsTitle)),t.xp6(1),t.hij(" ",r," ")}}function l(c,_){if(1&c&&(t.TgZ(0,"ul",14),t.YNc(1,A,2,6,"li",15),t.qZA()),2&c){const r=t.oxw();t.xp6(1),t.Q6J("ngForOf",r.list)}}function o(c,_){if(1&c&&(t.TgZ(0,"form",17)(1,"div",18)(2,"label",19),t._uU(3),t.qZA(),t._UZ(4,"textarea",20),t.qZA()()),2&c){const r=t.oxw();t.Q6J("formGroup",r.form),t.xp6(3),t.Oqu(r.labelTextArea)}}function u(c,_){if(1&c&&(t.ynx(0),t.TgZ(1,"h6",21),t._uU(2),t.qZA(),t.TgZ(3,"div",22)(4,"div",23)(5,"h6",24),t._uU(6),t.qZA(),t.TgZ(7,"h4",25),t._uU(8),t.ALo(9,"currency"),t.qZA(),t._UZ(10,"i",26),t.qZA(),t.TgZ(11,"div",27)(12,"h6",24),t._uU(13),t.qZA(),t.TgZ(14,"h4",28),t._uU(15),t.ALo(16,"currency"),t.qZA()(),t.TgZ(17,"div",29)(18,"h6",24),t._uU(19),t.qZA(),t.TgZ(20,"h4",25),t._uU(21),t.ALo(22,"currency"),t.qZA()()(),t.BQk()),2&c){const r=t.oxw();t.xp6(2),t.Oqu(r.payWithCredit.title),t.xp6(4),t.Oqu(null==r.payWithCredit.installment?null:r.payWithCredit.installment.label),t.xp6(2),t.Oqu(t.xi3(9,7,null==r.payWithCredit.installment?null:r.payWithCredit.installment.value,"BRL")),t.xp6(5),t.Oqu(null==r.payWithCredit.credit?null:r.payWithCredit.credit.label),t.xp6(2),t.Oqu(t.xi3(16,10,null==r.payWithCredit.credit?null:r.payWithCredit.credit.value,"BRL")),t.xp6(4),t.Oqu(null==r.payWithCredit.total?null:r.payWithCredit.total.label),t.xp6(2),t.Oqu(t.xi3(22,13,(null==r.payWithCredit.installment?null:r.payWithCredit.installment.value)-(null==r.payWithCredit.credit?null:r.payWithCredit.credit.value),"BRL"))}}function a(c,_){if(1&c){const r=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){return t.CHM(r),t.oxw().onConfirm()}),t._uU(1),t.qZA()}if(2&c){const r=t.oxw();t.xp6(1),t.hij(" ",r.confirmButtonText," ")}}const d=function(c){return{width:c}};let Z=(()=>{class c{constructor(r,e){this.modal=r,this.fb=e,this.form=this.fb.group({textArea:["",h.kI.required]}),this.modalWidth="100%",this.list=[],this.cancelButtonText="Fechar",this.confirmButtonText="",this.textArea=!1,this.labelTextArea=""}set textAreaValue(r){r&&this.form.patchValue({textArea:r})}ngOnInit(){}onCancel(){this.modal.close()}onConfirm(){if(this.textArea)return this.form.markAllAsTouched(),this.form.controls.textArea.markAsDirty(),this.form.valid?void this.modal.close({textArea:this.form.controls.textArea.value}):void 0;this.modal.close(!0)}}return c.\u0275fac=function(r){return new(r||c)(t.Y36(E.Kz),t.Y36(h.qu))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-modal"]],inputs:{form:"form",title:"title",type:"type",modalWidth:"modalWidth",list:"list",cancelButtonText:"cancelButtonText",confirmButtonText:"confirmButtonText",firstLineAsTitle:"firstLineAsTitle",payWithCredit:"payWithCredit",textArea:"textArea",textAreaValue:"textAreaValue",labelTextArea:"labelTextArea"},decls:17,vars:10,consts:[[1,"modal-content",3,"ngStyle"],[1,"modal-header","d-flex","align-items-center"],[1,"modal-icon","mr-2"],["alt","",3,"src"],[1,"modal-title","pull-left","text-gray-600","mb-0"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","mb-2",4,"ngIf"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-light-atb",3,"click"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],[1,"mb-2"],["class","text-gray-300 subtitle-sm",3,"ngClass",4,"ngFor","ngForOf"],[1,"text-gray-300","subtitle-sm",3,"ngClass"],[3,"formGroup"],[1,"form-group"],["for","textArea"],["name","textArea","id","textArea","cols","5","rows","","formControlName","textArea",1,"form-control"],[1,"subtitle","mb-3"],[1,"card","flex-md-row"],[1,"px-4","py-2","p-md-0","my-md-2","px-md-4","installment-element"],[1,"subtitle-sm","text-gray-300"],[1,"bold-txt","text-gray-300","mb-0"],[1,"fas","fa-minus-circle","credit-icon","text-gray-300"],[1,"px-4","py-2","credit-element"],[1,"bold-txt","text-green-200","mb-0"],[1,"px-4","py-2","total-credit-element","w-100"],["type","button",1,"btn","btn-success",3,"click"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"h5",4),t._uU(5),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){return e.modal.close()}),t.TgZ(7,"span",6),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",7),t.YNc(10,l,2,1,"ul",8),t.YNc(11,o,5,2,"form",9),t.YNc(12,u,23,16,"ng-container",10),t.qZA(),t.TgZ(13,"div",11)(14,"button",12),t.NdJ("click",function(){return e.onCancel()}),t._uU(15),t.qZA(),t.YNc(16,a,2,1,"button",13),t.qZA()()),2&r&&(t.Q6J("ngStyle",t.VKq(8,d,e.modalWidth)),t.xp6(3),t.Q6J("src","alert"==e.type?"../../../../assets/icons/modal-alert.svg":"../../../../assets/icons/modal-info.svg",t.LSH),t.xp6(2),t.Oqu(e.title),t.xp6(5),t.Q6J("ngIf",e.list.length),t.xp6(1),t.Q6J("ngIf",e.textArea),t.xp6(1),t.Q6J("ngIf",e.payWithCredit),t.xp6(3),t.Oqu(e.cancelButtonText),t.xp6(1),t.Q6J("ngIf",""!==e.confirmButtonText))},directives:[b.PC,b.O5,b.sg,b.mk,h._Y,h.JL,h.sg,v.MU,v.HK,h.Fj,v.oH,h.JJ,h.u],pipes:[b.H9],styles:["ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none;-webkit-margin-before:0;margin-block-start:0;-webkit-margin-after:0;margin-block-end:0;-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;-webkit-padding-start:0px;padding-inline-start:0px}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-size:2rem}.modal-footer[_ngcontent-%COMP%]{border-top:none!important}.btn[_ngcontent-%COMP%]{min-width:-webkit-fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}.installment-element[_ngcontent-%COMP%]{position:relative;border-right:2px solid #E7E7E7}.installment-element[_ngcontent-%COMP%]   .credit-icon[_ngcontent-%COMP%]{font-size:1.125rem;position:absolute;right:-9px;bottom:30%;background-color:#fff}.total-credit-element[_ngcontent-%COMP%]{border-left:2px solid #E7E7E7}@media screen and (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:100%!important}.installment-element[_ngcontent-%COMP%]{border-bottom:2px solid #E7E7E7;border-right:none;display:flex;align-items:center;flex-direction:column}.installment-element[_ngcontent-%COMP%]   .credit-icon[_ngcontent-%COMP%]{right:50%;bottom:-10px}.total-credit-element[_ngcontent-%COMP%]{border-top:2px solid #E7E7E7;border-left:none;display:flex;align-items:center;flex-direction:column}.credit-element[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}}"]}),c})()},97:(M,y,g)=>{function h(){return e=>{const n=e.value?e.value.replace(r.findDigitsPattern,""):"";let i=null;return 11==n.length&&(r.cpfIsValid(n)||(i={invalidCpf:!0})),14==n.length&&(r.cnpjIsValid(n)||(i={invalidCnpj:!0})),(n.length>11&&n.length<14||n.length<11)&&(i={invalidDocument:!0}),i}}function E(){return e=>{const n=new RegExp(/^(?![ ])(?!.*[ ]{2})(?!.*[ ]$)([a-zA-Z\xc0-\xfa ]+ [a-zA-Z\xc0-\xfa ]{0,})+$/);return""===e.value||null===e.value||n.test(e.value)?null:{invalidPersonName:!0}}}function b(){return e=>{const n=new RegExp(/^(?![ ])(?!.*[ ]{2})(?!.*[ ]$)[a-zA-Z\xc0-\xfa ]{2,}$/);return!e.value||n.test(e.value)?null:{invalidDisplayName:!0}}}function v(){return e=>{const n=new RegExp(/^(?![ ])(?!.*[ ]{2})(?!.*[ ]$)[a-zA-Z\xc0-\xfa0-9\-., ]{0,}$/);return!e.value||n.test(e.value)?null:{invalidDisplayName:!0}}}function T(){return e=>{const n=new RegExp(/^(?![ ])(?!.*[ ]{2})(?!.*[ ]$)[a-zA-Z/\- ]{0,}$/);return!e.value||n.test(e.value)?null:{invalidDisplayName:!0}}}function A(){return e=>{const n=new RegExp(/^[a-zA-Z0-9]{5,21}$/);return!e.value||n.test(e.value)?null:{invalidDisplayName:!0}}}function l(){return e=>{const n=new RegExp(/^[a-zA-Z0-9-\._]{0,}[@]{1}[a-zA-Z0-9]{0,}([.]{1}[a-zA-Z0-9]{1,})+$/);return""===e.value||n.test(e.value)?null:{invalidEmail:!0}}}function o(e=!1,n=9.99,i=-1){return m=>e&&m.value<i?{minPercentNegative:i}:e||0!==m.value?n&&m.value>n?{maxPercent:n}:null:{minPercent:!0}}function u(){return e=>{const n=new RegExp(/^(\b[(]?[0-9]{2}[)]?[\s]?[9][0-9]{4}[\s]?[-]?[0-9]{4}\b)|(\b[(]?[0-9]{2}[)]?[0-9]{4}[\s]?[-]?[0-9]{4}\b)$/);return!e.value||n.test(e.value)?null:{invalidPhone:!0}}}function a(){return e=>{const n=new RegExp(/^[a-zA-Z\xc0-\xfa\s]{0,200}$/);return!e.value||n.test(e.value)?null:{invalidDisplayName:!0}}}function Z(){return e=>{const n=new RegExp(/^[0-9]{0,2}$/);return!e.value||n.test(e.value)?null:{invalidNumberName:!0}}}function c(){return e=>{const n=new RegExp(/^[a-zA-Z0-9-]{0,6}$/);return!e.value||n.test(e.value)?null:{invalidNumberName:!0}}}g.d(y,{B5:()=>h,Bp:()=>v,C$:()=>b,Jw:()=>A,Le:()=>l,ZP:()=>r,b$:()=>T,fM:()=>E,kr:()=>a,mD:()=>Z,rE:()=>c,rJ:()=>o,tH:()=>u});let r=(()=>{class e{static cpfIsValid(i){let m=i.replace(/[^\d]+/g,"");if(m.length<11||"00000000000"===i||"11111111111"===i||"22222222222"===i||"33333333333"===i||"44444444444"===i||"55555555555"===i||"66666666666"===i||"77777777777"===i||"88888888888"===i||"99999999999"===i)return!1;var p,s;p=0;for(let f=1;f<=9;f++)p+=parseInt(m.substring(f-1,f))*(11-f);if((10==(s=10*p%11)||11==s)&&(s=0),s!=parseInt(m.substring(9,10)))return!1;p=0;for(let f=1;f<=10;f++)p+=parseInt(m.substring(f-1,f))*(12-f);return(10==(s=10*p%11)||11==s)&&(s=0),s==parseInt(m.substring(10,11))}static cnpjIsValid(i){if(""==(i=i.replace(/[^\d]+/g,""))||14!=i.length||"00000000000000"==i||"11111111111111"==i||"22222222222222"==i||"33333333333333"==i||"44444444444444"==i||"55555555555555"==i||"66666666666666"==i||"77777777777777"==i||"88888888888888"==i||"99999999999999"==i)return!1;let m=i.length-2,p=i.substring(0,m),s=i.substring(m),f=0,x=m-7;for(let C=m;C>=1;C--)f+=p.charAt(m-C)*x--,x<2&&(x=9);let O=f%11<2?0:11-f%11;if(O!=s.charAt(0))return!1;m+=1,p=i.substring(0,m),f=0,x=m-7;for(let C=m;C>=1;C--)f+=p.charAt(m-C)*x--,x<2&&(x=9);return O=f%11<2?0:11-f%11,O==s.charAt(1)}}return e.plateSignPattern=/^[A-Za-z]{3}[-][\d]{1}[A-Za-z\d]{1}[\d]{2}$|^[A-Za-z]{3}[\d]{1}[A-Za-z\d]{1}[\d]{2}$/,e.emailPattern=/^(([^<>()\[\]\\.,;:\s@"`']+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,e.findDigitsPattern=/[^\d]+/g,e.least2wordsPattern=/\w+\s\w+/,e})()}}]);