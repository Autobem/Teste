"use strict";(self.webpackChunkBemMais2=self.webpackChunkBemMais2||[]).push([[2176],{2176:(D,I,r)=>{r.r(I),r.d(I,{InspectionModule:()=>tn});var _=r(8966),i=r(9808),P=r(4521),h=r(1135),u=r(5698),M=r(8746),t=r(5e3),A=r(779),Z=r(581),y=r(1299),k=r(4231);function q(e,s){1&e&&(t.TgZ(0,"h4",13),t._uU(1,"Nenhum anexo adicionado."),t.qZA())}function J(e,s){if(1&e&&(t.TgZ(0,"div",14),t._UZ(1,"app-image-box",15),t.qZA()),2&e){const n=s.$implicit,o=s.index;t.xp6(1),t.Q6J("item",n)("index",o)}}function g(e,s){if(1&e&&(t.TgZ(0,"div",10),t.YNc(1,q,2,0,"h4",11),t.YNc(2,J,2,2,"div",12),t.qZA()),2&e){const n=s.ngIf;t.xp6(1),t.Q6J("ngIf",!n.length),t.xp6(1),t.Q6J("ngForOf",n)}}function C(e,s){1&e&&(t.TgZ(0,"div",16)(1,"div",17)(2,"span",18),t._uU(3,"Loading..."),t.qZA()()())}const l=function(){return{text:"Vistorias"}},m=function(e){return{text:e}},b=function(){return{text:"Anexos"}},L=function(e,s,n){return[e,s,n]};let H=(()=>{class e{constructor(n,o,a,c,p){this.dialog=n,this.dialogRef=o,this.inspectionService=a,this.inspectionController=c,this.inspection=p,this.attachments$=new h.X(null),this.spinnerLoading$=new h.X(!1),this.file={}}ngOnInit(){this.spinnerLoading$.next(!0),this.inspectionService.getAttachments(this.inspection.id).pipe((0,u.q)(1),(0,M.x)(()=>this.spinnerLoading$.next(!1))).subscribe(n=>{console.log(n),this.attachments$.next(n),this.inspectionController.fillPictures(n)})}deleteAttachment(n){}closePanel(n){this.dialogRef.close(n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.uw),t.Y36(_.so),t.Y36(A.z),t.Y36(Z._),t.Y36(_.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-photo-approval"]],decls:15,vars:16,consts:[[1,"wrapper","px-0"],[1,"container"],[1,"d-flex","flex-column"],[3,"isModal","items","closeModal"],[1,"card"],[1,"card-body","px-5","py-4"],["class","content row mt-4","style","min-height: 300px;",4,"ngIf"],["class","d-flex justify-content-center align-items-center","style","min-height: 300px;",4,"ngIf"],[1,"d-flex","justify-content-end"],[1,"btn","mt-3","btn-outline-light-atb",3,"click"],[1,"content","row","mt-4",2,"min-height","300px"],["class","text-gray-300 col-lg",4,"ngIf"],["class","col-lg-4",4,"ngFor","ngForOf"],[1,"text-gray-300","col-lg"],[1,"col-lg-4"],["type","attachment",3,"item","index"],[1,"d-flex","justify-content-center","align-items-center",2,"min-height","300px"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-breadcrumb",3),t.NdJ("closeModal",function(){return o.dialogRef.close()}),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"h3"),t._uU(7,"Documentos anexados"),t.qZA(),t.YNc(8,g,3,2,"div",6),t.ALo(9,"async"),t.YNc(10,C,4,0,"div",7),t.ALo(11,"async"),t.TgZ(12,"div",8)(13,"button",9),t.NdJ("click",function(){return o.dialogRef.close()}),t._uU(14," Voltar "),t.qZA()()()()()()()),2&n&&(t.xp6(3),t.Q6J("isModal",!0)("items",t.kEZ(12,L,t.DdM(8,l),t.VKq(9,m,"Proposta "+o.inspection.proposal),t.DdM(11,b))),t.xp6(5),t.Q6J("ngIf",t.lcZ(9,4,o.attachments$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,6,o.spinnerLoading$)))},directives:[y.L,i.O5,i.sg,k.j],pipes:[i.Ov],styles:[".mat-dialog-container{overflow:auto!important;padding:0}.wrapper[_ngcontent-%COMP%]{background-color:#f0f3f9;min-height:100vh;min-width:100vw;max-height:100vh;overflow-y:auto}  .cdk-overlay-pane{max-width:none!important}  .cdk-global-scrollblock{position:static;overflow:hidden!important}.container[_ngcontent-%COMP%]:first-child{padding:2rem 0}"]}),e})();var R=r(4004),z=r(6367),x=r(8844),U=r(1094),Q=r(312),W=r(9323),V=r(2485);function j(e,s){if(1&e&&t._UZ(0,"atb-historic",14),2&e){const n=t.oxw(2);t.Q6J("events",n.historics)}}function G(e,s){if(1&e&&(t.ynx(0),t.YNc(1,j,1,1,"atb-historic",13),t.BQk()),2&e){const n=t.oxw(),o=t.MAs(15);t.xp6(1),t.Q6J("ngIf",null==n.historics?null:n.historics.length)("ngIfElse",o)}}function K(e,s){1&e&&t._UZ(0,"atb-skeleton",15),2&e&&t.Q6J("rows",3)}function X(e,s){1&e&&(t.TgZ(0,"span",16),t._uU(1,"Nenhum hist\xf3rico registrado."),t.qZA())}const tt=function(){return{text:"Vistorias"}},nt=function(e){return{text:e}},et=function(){return{text:"Hist\xf3rico"}},ot=function(e,s,n){return[e,s,n]};let it=(()=>{class e{constructor(n,o,a,c){this.dialog=n,this.dialogRef=o,this.inspection=a,this.inspectionService=c,this.loading$=new h.X(!1)}ngOnInit(){this.loading$.next(!0),this.inspectionService.getHistoric(this.inspection.proposalId).pipe((0,u.q)(1),(0,M.x)(()=>this.loading$.next(!1))).subscribe(n=>this.historics=n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.uw),t.Y36(_.so),t.Y36(_.WI),t.Y36(A.z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-historic"]],decls:19,vars:15,consts:[[1,"wrapper","px-0"],[1,"container"],[1,"d-flex","flex-column"],[3,"isModal","items","closeModal"],[1,"card"],[1,"card-body","px-5","py-4"],[1,"timeline-container","mt-4","card","p-2","py-md-4","pl-md-2","pr-md-4"],[1,"card-body"],[4,"ngIf","ngIfElse"],["loading",""],["emptyHistoric",""],[1,"d-flex","justify-content-end","mt-4"],[1,"btn","btn-outline-light-atb","btn-back",3,"click"],[3,"events",4,"ngIf","ngIfElse"],[3,"events"],["type","historic",3,"rows"],[1,"text-gray-300"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-breadcrumb",3),t.NdJ("closeModal",function(){return o.dialogRef.close()}),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"h3"),t._uU(7),t.qZA(),t.TgZ(8,"div",6)(9,"div",7),t.YNc(10,G,2,2,"ng-container",8),t.ALo(11,"async"),t.YNc(12,K,1,1,"ng-template",null,9,t.W1O),t.qZA(),t.YNc(14,X,2,0,"ng-template",null,10,t.W1O),t.qZA(),t.TgZ(16,"div",11)(17,"button",12),t.NdJ("click",function(){return o.dialogRef.close()}),t._uU(18," Voltar "),t.qZA()()()()()()()),2&n){const a=t.MAs(13);t.xp6(3),t.Q6J("isModal",!0)("items",t.kEZ(11,ot,t.DdM(7,tt),t.VKq(8,nt,"Proposta "+o.inspection.proposal),t.DdM(10,et))),t.xp6(4),t.hij("Hist\xf3rico - Proposta - ",o.inspection.proposal,""),t.xp6(3),t.Q6J("ngIf",!t.lcZ(11,5,o.loading$))("ngIfElse",a)}},directives:[y.L,i.O5,W.g,V.a],pipes:[i.Ov],styles:[".mat-dialog-container{overflow:auto!important;padding:0}.wrapper[_ngcontent-%COMP%]{background-color:#f0f3f9;min-height:100vh;min-width:100vw;max-height:100vh;overflow-y:auto}  .cdk-overlay-pane{max-width:none!important}  .cdk-global-scrollblock{position:static;overflow:hidden!important}.container[_ngcontent-%COMP%]:first-child{padding:2rem 0}.timeline-container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{min-height:50vh;max-height:65vh;overflow:auto}.timeline-container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}  .historic-timeline{display:block!important;width:85%;height:100%}  .historic-timeline .p-timeline-event-opposite{flex:none!important;padding:0!important;padding-right:1rem}  .historic-timeline .p-timeline-event-connector{width:3px!important;background-color:#0275d8!important}  .historic-timeline .p-timeline-event-content{margin-top:-5px!important;margin-bottom:1.5rem}.main-footer[_ngcontent-%COMP%]{border:1px solid #F7F7F7;box-shadow:0 -2px 5px #0000001a;background:white;padding:1.125rem 4.5rem 1.375rem}.spinner-loading-container[_ngcontent-%COMP%]{height:50vh}.input-loading.submit[_ngcontent-%COMP%]{font-size:1rem;right:10%;color:#fff!important;bottom:.5rem}@media (max-width: 768px){.main-footer[_ngcontent-%COMP%]{padding:1.125rem 21px 1.375rem}  .historic-timeline{width:100%!important}.btn-back[_ngcontent-%COMP%]{width:100%}}"],data:{animation:[U.bA]}}),e})();var Y=r(2569),at=r(2290),O=r(7751),E=r(9613),S=r(6517),ct=r(3150),st=r(988),rt=r(1470);const lt=["staticTabsInspection"],pt=["createTagInput"];function dt(e,s){if(1&e&&(t.TgZ(0,"div",50)(1,"div",51)(2,"span",52),t._uU(3,"Analista"),t.qZA(),t.TgZ(4,"p",53),t._uU(5,"---"),t.qZA()(),t._UZ(6,"hr",54),t.TgZ(7,"div",54)(8,"span",52),t._uU(9,"Social-Broker"),t.qZA(),t.TgZ(10,"p",55),t._uU(11),t.qZA()(),t.TgZ(12,"div",56)(13,"span",52),t._uU(14,"Telefone"),t.qZA(),t.TgZ(15,"p",55),t._uU(16),t.ALo(17,"mask"),t.qZA()(),t.TgZ(18,"div",56)(19,"span",52),t._uU(20,"Supervisor"),t.qZA(),t.TgZ(21,"p",55),t._uU(22),t.qZA()()()),2&e){const n=t.oxw().ngIf;t.xp6(11),t.Oqu(null==n||null==n.socialBroker?null:n.socialBroker.displayName),t.xp6(5),t.hij(" ",t.xi3(17,3,null==(null==n||null==n.proponent?null:n.proponent.contacts)[0]?null:(null==n||null==n.proponent?null:n.proponent.contacts)[0].contact,"(00) 0 0000-0000")||"---"," "),t.xp6(6),t.Oqu(null==n||null==n.socialBroker?null:n.socialBroker.supervisor)}}function gt(e,s){if(1&e&&t._UZ(0,"app-tag-badge",57),2&e){const n=t.oxw().ngIf,o=t.oxw();t.Q6J("label",o.InspectionTypeTranslated[null==n?null:n.type])}}function _t(e,s){1&e&&t._UZ(0,"app-tag-badge",58)}function mt(e,s){if(1&e&&t._UZ(0,"app-tag-badge",62),2&e){const n=t.oxw(2).ngIf;t.Q6J("label",n.tags[0].tag)("color",n.tags[0].color)}}function ut(e,s){if(1&e&&t._UZ(0,"app-tag-badge",63),2&e){t.oxw();const n=t.MAs(4),o=t.oxw().ngIf;t.Q6J("label",o.tags[0].tag)("color",o.tags[0].color)("singleContent",n)}}const $=function(e){return{"mb-2":e}};function ht(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"app-tag-badge",66),t.NdJ("action",function(){const c=t.CHM(n).$implicit;return t.oxw(4).removeTagFromInspection(c)}),t.qZA()}if(2&e){const n=s.$implicit,o=s.index,a=t.oxw(3).ngIf;t.Q6J("label",n.tag)("color",n.color)("loading",n.loading||!1)("ngClass",t.VKq(4,$,o<a.tags.length))}}function Ct(e,s){if(1&e&&(t.TgZ(0,"div",64),t.YNc(1,ht,1,6,"app-tag-badge",65),t.qZA()),2&e){const n=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngForOf",n.tags)}}function xt(e,s){if(1&e&&(t.ynx(0),t.YNc(1,mt,1,2,"app-tag-badge",59),t.YNc(2,ut,1,3,"app-tag-badge",60),t.YNc(3,Ct,2,1,"ng-template",null,61,t.W1O),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngIf",n.tags.length<2),t.xp6(1),t.Q6J("ngIf",n.tags.length>1)}}function ft(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"app-tag-badge",75),t.NdJ("setColor",function(a){return t.CHM(n),t.oxw(3).setColor(a)})("action",function(a){return t.CHM(n),t.oxw(3).createdButtonAction(a)}),t.qZA()}if(2&e){const n=t.oxw(3);t.Q6J("@popupAnim",void 0)("label",null==n.createdTag?null:n.createdTag.tag)("color",null==n.createdTag?null:n.createdTag.color)("loading",n.addLoading)}}const Pt=function(e){return{display:e}};function Mt(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"app-tag-badge",76),t.NdJ("action",function(a){const p=t.CHM(n).$implicit;return t.oxw(3).createdButtonAction(a,p)}),t.qZA()}if(2&e){const n=s.$implicit,o=s.index,a=t.oxw(3);t.Q6J("ngStyle",t.VKq(5,Pt,a.checkTagInspection(n)?"none":"block"))("ngClass",t.VKq(7,$,o<a.staticTags$.getValue().length))("label",n.tag)("color",n.color)("loading",n.loading||!1)}}function bt(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",67)(1,"input",68,69),t.NdJ("keydown.enter",function(){t.CHM(n);const a=t.MAs(2);return t.oxw(2).createTag(a.value)}),t.qZA(),t.TgZ(3,"div",70)(4,"div",71)(5,"div",72)(6,"span",52),t._uU(7,"Selecione uma tag"),t.qZA()(),t.YNc(8,ft,1,4,"app-tag-badge",73),t.qZA(),t.YNc(9,Mt,1,9,"app-tag-badge",74),t.ALo(10,"async"),t.qZA()()}if(2&e){const n=t.oxw(2);t.xp6(8),t.Q6J("ngIf",null==n.createdTag?null:n.createdTag.color),t.xp6(1),t.Q6J("ngForOf",t.lcZ(10,2,n.staticTags$))}}function Ot(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",78)(1,"app-image-box",79),t.NdJ("submitInspect",function(a){return t.CHM(n),t.oxw(3).inspectToast(a)}),t.qZA()()}if(2&e){const n=s.$implicit,o=s.index,a=t.oxw(2).ngIf,c=t.oxw();t.xp6(1),t.Q6J("item",n)("inspection",a)("proponent",a.proponent)("index",o)("photoType",c.ArchiveType.Document)}}function vt(e,s){if(1&e&&(t.ynx(0),t.YNc(1,Ot,2,5,"div",77),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",null==n?null:n.documents)}}function At(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"button",80),t.NdJ("click",function(){const c=t.CHM(n).index;return t.oxw(2).handleAssetDropdown(c)}),t._uU(1),t.qZA()}if(2&e){const n=s.$implicit;t.Q6J("value",n.value),t.xp6(1),t.hij(" ",n.displayName," ")}}function yt(e,s){1&e&&t._UZ(0,"div",81)}function Tt(e,s){1&e&&(t.TgZ(0,"div",82)(1,"span",52),t._uU(2,"Nenhum bem encontrado."),t.qZA()())}function wt(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",78)(1,"app-image-box",87),t.NdJ("submitInspect",function(a){return t.CHM(n),t.oxw(3).inspectToast(a)}),t.qZA()()}if(2&e){const n=s.$implicit,o=s.index,a=t.oxw(2).ngIf,c=t.oxw();t.xp6(1),t.Q6J("item",n)("inspection",a)("index",o)("asset",c.selectedAsset)("photoType",n.document?c.ArchiveType.Document:c.ArchiveType.Picture)}}function It(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",78)(1,"app-image-box",89),t.NdJ("submitInspect",function(a){return t.CHM(n),t.oxw(5).inspectToast(a)}),t.qZA()()}if(2&e){const n=s.$implicit,o=s.index,a=t.oxw(2).$implicit,c=t.oxw(2).ngIf,p=t.oxw();t.xp6(1),t.Q6J("item",n)("index",o)("inspection",c)("asset",p.selectedAsset)("equipment",a)("photoType",n.document?p.ArchiveType.Document:p.ArchiveType.Picture)}}function Zt(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"div",88)(2,"h4"),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA()(),t.TgZ(6,"div",85),t.YNc(7,It,2,6,"div",77),t.qZA(),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(3),t.Oqu(n.serialNumber),t.xp6(2),t.Oqu(n.description),t.xp6(2),t.Q6J("ngForOf",n.pictures)}}function kt(e,s){if(1&e&&(t.ynx(0),t.YNc(1,Zt,8,3,"ng-container",21),t.BQk()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("ngIf",null==n.pictures?null:n.pictures.length)}}function Nt(e,s){if(1&e&&(t.TgZ(0,"div")(1,"div",83),t._UZ(2,"app-assets-badge",84),t.TgZ(3,"h4"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA()(),t.TgZ(7,"div",85),t.YNc(8,wt,2,5,"div",77),t.qZA(),t.YNc(9,kt,2,1,"ng-container",86),t.qZA()),2&e){const n=t.oxw(2);t.xp6(2),t.Q6J("asset",n.selectedAsset),t.xp6(2),t.hij(" ",n.selectedAsset.licensePlate||n.selectedAsset.chassis," "),t.xp6(2),t.hij(" ",n.selectedAsset.manufacturer||" "+n.selectedAsset.model||0," "),t.xp6(2),t.Q6J("ngForOf",n.selectedAsset.pictures),t.xp6(1),t.Q6J("ngForOf",n.selectedAsset.equipments)}}function qt(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"h4"),t._uU(6,"Proposta"),t.qZA(),t.TgZ(7,"h2"),t._uU(8),t.qZA()(),t.TgZ(9,"div",10)(10,"p",11),t._uU(11),t.qZA(),t._UZ(12,"i",12,13),t.YNc(14,dt,23,6,"ng-template",null,14,t.W1O),t.qZA()(),t.TgZ(16,"div",15)(17,"div",16),t._UZ(18,"app-tag-badge",17),t.YNc(19,gt,1,1,"app-tag-badge",18),t.YNc(20,_t,1,0,"app-tag-badge",19),t.qZA(),t.TgZ(21,"div",20),t.YNc(22,xt,5,2,"ng-container",21),t.TgZ(23,"app-tag-badge",22),t.NdJ("openChange",function(a){return t.CHM(n),t.oxw().openChangeDropdown(a)}),t.qZA(),t.YNc(24,bt,11,4,"ng-template",null,23,t.W1O),t.qZA()()(),t.TgZ(26,"div",24)(27,"div",25),t.NdJ("click",function(){const c=t.CHM(n).ngIf;return t.oxw().openHistoric(c)}),t._uU(28," Hist\xf3rico "),t.qZA(),t.TgZ(29,"div",26),t.NdJ("click",function(){const c=t.CHM(n).ngIf;return t.oxw().openAttachments(c)}),t._uU(30," Anexos "),t.qZA()()(),t.TgZ(31,"div",27)(32,"div",28)(33,"div",29)(34,"h3"),t._uU(35,"Documentos pessoais"),t.qZA(),t.TgZ(36,"div",30),t.YNc(37,vt,2,1,"ng-container",21),t.qZA()()(),t.TgZ(38,"div",28)(39,"div",31)(40,"div",32)(41,"div",33)(42,"button",34),t._uU(43),t.qZA(),t.TgZ(44,"div",35),t.YNc(45,At,2,2,"button",36),t.qZA()()(),t.TgZ(46,"div",37),t._UZ(47,"img",38),t.TgZ(48,"input",39,40),t.NdJ("search",function(){return t.CHM(n),t.oxw().resetSearch()})("keydown",function(a){return t.CHM(n),t.oxw().searchAsset(a)}),t.qZA(),t.YNc(50,yt,1,0,"div",41),t.ALo(51,"async"),t.qZA()(),t.TgZ(52,"div",42)(53,"div",43)(54,"div",44)(55,"app-mini-assets-table",45),t.NdJ("setActiveAsset",function(a){return t.CHM(n),t.oxw().setActiveAsset(a)})("page",function(a){return t.CHM(n),t.oxw().loadAssets(a.skip,a.take)})("onPaginator",function(a){return t.CHM(n),t.oxw().paginator=a}),t.ALo(56,"async"),t.ALo(57,"async"),t.qZA()(),t.TgZ(58,"div",46),t.YNc(59,Tt,3,0,"div",47),t.YNc(60,Nt,10,5,"div",21),t.qZA()()(),t.TgZ(61,"div",48)(62,"button",49),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return a.onSubmit(a.InspectionAnalysisAction.Reprove)}),t._uU(63," Reprovar "),t.qZA(),t.TgZ(64,"button",49),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return a.onSubmit(a.InspectionAnalysisAction.Approve)}),t._uU(65," Aprovar "),t.qZA()()()()()}if(2&e){const n=s.ngIf,o=t.MAs(15),a=t.MAs(25),c=t.oxw();let p,d;t.xp6(8),t.Oqu(null==n?null:n.proposal),t.xp6(3),t.Oqu(n.proponent.displayName),t.xp6(1),t.Q6J("ngbPopover",o),t.xp6(6),t.Q6J("label",null==n?null:n.protocol),t.xp6(1),t.Q6J("ngIf",null==n?null:n.type),t.xp6(1),t.Q6J("ngIf",null==n?null:n.isFleet),t.xp6(2),t.Q6J("ngIf",n.tags.length),t.xp6(1),t.Q6J("singleContent",a),t.xp6(14),t.Q6J("ngIf",n),t.xp6(6),t.hij(" ",c.assetTypeSelected.displayName," "),t.xp6(2),t.Q6J("ngForOf",c.assetTypes),t.xp6(5),t.Q6J("ngIf",t.lcZ(51,17,c.spinnerSearchAsset$)),t.xp6(5),t.Q6J("selectedAsset",c.selectedAsset)("dataSource",null==(p=t.lcZ(56,19,c.assets$))?null:p.items)("totalItems",null==(d=t.lcZ(57,21,c.assets$))?null:d.total),t.xp6(4),t.Q6J("ngIf",!c.selectedAsset),t.xp6(1),t.Q6J("ngIf",c.selectedAsset)}}const Jt=function(){return{text:"Vistorias"}},St=function(e){return{text:e}},Ft=function(e,s){return[e,s]};let zt=(()=>{class e extends z.K{constructor(n,o,a,c,p,d,f,w,N,v){super(),this.inspectionAnalysisService=n,this.loading=o,this.dialog=a,this.dialogRef=c,this.toast=p,this.router=d,this.route=f,this.modalService=w,this.inspectionController=N,this.data=v,this.assets$=new h.X({}),this.inspection$=new h.X({}),this.staticTags$=new h.X([]),this.spinnerSearchAsset$=new h.X(!1),this.inspectionId="",this.assetTypes=[{displayName:"Todos os bens",value:"All"},{displayName:"Ve\xedculos",value:"vehicles"},{displayName:"Implementos",value:"Aggregates"}],this.assetTypeSelected=this.assetTypes[0],this.createdTag={},this.addLoading=!1,this.closeModal=F=>this.dialogRef.close(F),this.inspection$.next(v),this.breadcrumbTitle=`Proposta ${this.data.proposal}`,this.inspectionId=v.id}ngOnInit(){this.loadPicturesInspection(),this.loadAssets(),this.getStatic()}get ArchiveType(){return x.y}get InspectionTypeTranslated(){return x.$P}getStatic(){this.inspectionAnalysisService.getStatic().pipe((0,u.q)(1)).subscribe(n=>{this.staticTags$.next(n.tags)})}getInspectionTag(){this.inspectionAnalysisService.getInspectionTags(this.inspectionId).pipe((0,u.q)(1)).subscribe(n=>{console.log(n),this.inspection$.getValue().tags=n})}filterStaticTags(){return this.inspection$.getValue().tags.map(n=>n.id)}checkTagInspection(n){return this.inspection$.getValue().tags.some(o=>o.id==n.id)}loadPicturesInspection(){var n;(null===(n=this.inspection$.getValue().documents)||void 0===n?void 0:n.length)&&this.inspectionController.fillPictures(this.inspection$.getValue().documents)}handleAssetDropdown(n){this.assetTypeSelected!==this.assetTypes[n]&&(this.assetTypeSelected=this.assetTypes[n])}loadAssets(n=0,o=10){this.inspectionAnalysisService.getInspectionAnalysisAssets(n,o,this.inspectionId).pipe((0,u.q)(1),(0,M.x)(()=>this.loading.hide()),(0,R.U)(a=>a)).subscribe(a=>{console.log(a),this.assets$.next(a),this.setActiveAsset(a.items[0])})}inspectToast(n){this.toast.show(`${n.item.document&&n.item.document!==x.M9.CRLV?"Documento":"Foto"} \n      ${"Approve"==n.result.action?"aprovado":"reprovado"} \n      com sucesso`,"Title",{toastClass:"success-toast"})}openModalInvalidInspection(n){const a=this.modalService.open(Q.z,{centered:!0});a.componentInstance.list=["asset"==n?"Verificamos que h\xe1 pend\xeancias na an\xe1lise do bem, favor revisar e fazer an\xe1lise das fotos do mesmo":"Para aprovar esta vistoria \xe9 necess\xe1rio que todos os documentos e fotos estejam aprovados, favor revisar e fazer a an\xe1lise dos mesmos"],a.componentInstance.title="asset"==n?"Pend\xeancias na an\xe1lise do bem":"Pend\xeancias na an\xe1lise da vistoria",a.componentInstance.type="alert"}setActiveAsset(n,o=!1){var a;(null==n?void 0:n.assetId)!==(null===(a=this.selectedAsset)||void 0===a?void 0:a.assetId)&&(o&&!this.selectedAsset.checked&&this.validateSelectedAsset()&&this.openModalInvalidInspection("asset"),this.selectedAsset=n,this.inspectionController.fillAllPictures(n))}validateSelectedAsset(n=!1){var o;this.selectedAsset.checked=!0;let a=[];return a.push(...this.validateAllPictures(this.selectedAsset,!1)),null===(o=this.selectedAsset.equipments)||void 0===o||o.forEach(c=>{a.push(...this.validateAllPictures(c,!1))}),n?!a.length&&(this.selectedAsset.status="done"):this.selectedAsset.status=a.length?"pending":"done",!!a.length}searchAsset(n){var o;if(console.log("search",n),13!==n.keyCode)return;const a=null===(o=n.target)||void 0===o?void 0:o.value;a&&(this.spinnerSearchAsset$.next(!0),this.inspectionAnalysisService.searchInspectionAnalysisAsset(this.inspectionId,a,0,10).pipe((0,u.q)(1),(0,M.x)(()=>this.spinnerSearchAsset$.next(!1))).subscribe(c=>{this.assets$.next(c),this.setActiveAsset(c[0])}))}resetSearch(){this.paginator.pageIndex=0,this.loadAssets()}setColor(n){this.createdTag.color=n}addTagToInspection(n){n?n.loading=!0:this.addLoading=!0,this.inspectionAnalysisService.addTag(this.inspectionId,n||this.createdTag).pipe((0,u.q)(1),(0,M.x)(()=>{n?n.loading=!1:(this.addLoading=!0,this.createdTag={})})).subscribe(o=>{console.log(o),this.inspection$.getValue().tags.push(n||this.createdTag),this.getInspectionTag(),this.getStatic()})}createTag(n){n&&(this.createdTag={color:"#5CB85C",tag:n})}openChangeDropdown(n){}destroyTag(){this.createdTag={}}createdButtonAction(n,o){switch(n){case"add":this.addTagToInspection(o);break;case"remove":this.destroyTag()}}removeTagFromInspection(n){n.loading=!0,this.inspectionAnalysisService.removeTag(this.inspectionId,n).pipe((0,u.q)(1),(0,M.x)(()=>n.loading=!1)).subscribe(o=>{console.log(o),this.inspection$.getValue().tags=this.inspection$.getValue().tags.filter(a=>a.id!==n.id),this.getInspectionTag(),this.getStatic()})}openAttachments(n){this.dialog.open(H,{data:n,disableClose:!0,closeOnNavigation:!0}).afterClosed().subscribe(a=>{console.log(`Dialog result: ${a}`)})}openHistoric(n){this.dialog.open(it,{data:n,disableClose:!0,closeOnNavigation:!0}).afterClosed().subscribe(a=>{console.log(`Dialog result: ${a}`)})}validateDocuments(n){var o;return null===(o=n.documents)||void 0===o?void 0:o.reduce((a,c)=>(c.isRequired&&"Approved"!==c.status&&a.push(x.M9[c.document]),a),[])}validateAllPictures(n,o=!0){var a;return null===(a=n.pictures)||void 0===a?void 0:a.reduce((c,p)=>(p.isRequired&&"Approved"!==p.status&&(o&&(p.checked=!0),c.push(x.M9[p.document||p.picture])),c),[])}submitAssets(){var n;let o=[];const a=this.inspection$.getValue();return this.validateDocuments(a).length&&o.push({inspection:a.id,documents:this.validateDocuments(a)}),null===(n=this.assets$.getValue().items)||void 0===n||n.forEach(c=>{var p;c.checked=!0;let d=[!!this.validateAllPictures(c).length];this.validateAllPictures(c).length&&o.push({asset:c.licensePlate||c.chassis,pictures:this.validateAllPictures(c)}),null===(p=c.equipments)||void 0===p||p.forEach(f=>{var w;if(this.validateAllPictures(f).length){d.push(!!this.validateAllPictures(f).length);const N=o.find(F=>!0===(F.asset==c.licensePlate||c.chassis)),v=N||{asset:c.licensePlate||c.chassis};(null===(w=v.equipments)||void 0===w?void 0:w.length)||(v.equipments=[]),v.equipments.push({equipment:f.serialNumber,pictures:this.validateAllPictures(f)}),N||o.push(v)}}),c.status=d.includes(!0)?"pending":"done"}),o}get InspectionAnalysisAction(){return x.h9}openReproveModal(){const n=this.modalService.open(Q.z,{centered:!0});return n.componentInstance.textArea=!0,n.componentInstance.labelTextArea="Coment\xe1rio",n.componentInstance.title="Reprovar vistoria",n.componentInstance.type="alert",n.componentInstance.cancelButtonText="Cancelar",n.componentInstance.confirmButtonText="Confirmar",n}onSubmit(n){var o,a;if(n==x.h9.Approve){const c=this.submitAssets();console.log("data",c),c.length?this.openModalInvalidInspection("inspection"):(this.loading.show(),this.inspectionAnalysisService.inspect(this.inspectionId,{type:x._P.Inspection,action:n}).pipe((0,u.q)(1),(0,M.x)(()=>this.loading.hide())).subscribe(d=>{d&&(this.toast.show("Vistor\xeda aprovada com sucesso!","An\xe1lise",{toastClass:"success-toast"}),this.dialogRef.close())}))}else null===(a=null===(o=this.openReproveModal())||void 0===o?void 0:o.closed)||void 0===a||a.subscribe(c=>{const p=null==c?void 0:c.textArea;p&&(this.loading.show(),this.inspectionAnalysisService.inspect(this.inspectionId,{type:x._P.Inspection,action:n,justification:p}).pipe((0,u.q)(1),(0,M.x)(()=>this.loading.hide())).subscribe(f=>{f&&(this.toast.show("Vistor\xeda reprovada com sucesso!","An\xe1lise",{toastClass:"success-toast"}),this.dialogRef.close())}))})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(A.z),t.Y36(Y.b),t.Y36(_.uw),t.Y36(_.so),t.Y36(at._W),t.Y36(P.F0),t.Y36(P.gz),t.Y36(O.FF),t.Y36(Z._),t.Y36(_.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-proposal-inspection"]],viewQuery:function(n,o){if(1&n&&(t.Gf(lt,5),t.Gf(pt,5)),2&n){let a;t.iGM(a=t.CRH())&&(o.staticTabsInspection=a.first),t.iGM(a=t.CRH())&&(o.createTagInput=a.first)}},features:[t.qOj],decls:6,vars:11,consts:[[1,"wrapper","px-0"],[1,"container"],[1,"d-flex","flex-column","mt-4"],[3,"items","isModal","closeModal"],["class","card card-content mt-2 mb-4","id","mainContainer",4,"ngIf"],["id","mainContainer",1,"card","card-content","mt-2","mb-4"],["id","containerHeader",1,"header-inspection","d-flex","justify-content-between"],[1,"proposal-container"],[1,"proposal-details","d-flex","flex-wrap"],[1,"d-sm-flex","align-items-center","mr-3"],[1,"d-flex","align-items-center"],[1,"localization"],["placement","right","popoverClass","popover-content-card","triggers","mouseenter:mouseleave",1,"info-circle-popover","fas","fa-info-circle",3,"ngbPopover"],["t2","ngbPopover"],["popoverContent",""],[1,"badges-tags","d-flex","align-items-center","flex-wrap","mt-2","mt-md-0"],[1,"badges","d-flex"],["color","#959DA6",1,"mr-2",3,"label"],["color","#70B9D8","class","mr-2",3,"label",4,"ngIf"],["label","Frota","color","#EC8787","class","mr-2",4,"ngIf"],[1,"tags","d-flex","mt-2","mt-md-0"],[4,"ngIf"],["label","Adicionar tag","color","#5CB85C","buttonsType","add",3,"singleContent","openChange"],["createContent",""],[1,"d-flex"],[1,"btn","btn-outline-primary","attachment-button","mr-2",3,"click"],[1,"btn","btn-outline-primary","attachment-button",3,"click"],[1,"content","mt-5"],[1,"col-lg-12","pl-0","pr-0"],[1,"box-document"],[1,"row"],[1,"table-header","row","d-flex","align-items-center","justify-content-between","mt-5"],[1,"col-4","col-lg-6","d-flex","align-items-center"],["ngbDropdown","",1,"d-inline-block","type-dropdown"],["id","asset-type-seleced","ngbDropdownToggle","",1,"btn"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic2"],["ngbDropdownItem","",3,"value","click",4,"ngFor","ngForOf"],[1,"col-lg-3","d-flex"],["src","../../../../../../assets/icons/search.svg","alt","",1,"search-icon"],["type","search","placeholder","Buscar",1,"form-control","search-input",3,"search","keydown"],["input",""],["class","ml-3 spinner-border text-primary input-loading","role","status",4,"ngIf"],[1,"table-container"],[1,"row","mx-0"],[1,"vehicle-plates","col-lg-3"],[3,"selectedAsset","dataSource","totalItems","setActiveAsset","page","onPaginator"],[1,"asset-photos","col-lg-9"],["class","ml-5 mt-3",4,"ngIf"],[1,"buttons","d-flex","justify-content-end"],[1,"btn",3,"click"],[1,"popover-card"],[1,"analyst"],[1,"text-gray-300"],[1,"text-gray-300","medium-txt"],[1,"my-1"],[1,"text-blue-300","medium-txt"],[1,"mb-1"],["color","#70B9D8",1,"mr-2",3,"label"],["label","Frota","color","#EC8787",1,"mr-2"],["class","mr-2",3,"label","color",4,"ngIf"],["buttonsType","ellipsis","class","mr-2",3,"label","color","singleContent",4,"ngIf"],["ellipsisContent",""],[1,"mr-2",3,"label","color"],["buttonsType","ellipsis",1,"mr-2",3,"label","color","singleContent"],[1,"inspection-tags"],["buttonsType","close",3,"label","color","loading","ngClass","action",4,"ngFor","ngForOf"],["buttonsType","close",3,"label","color","loading","ngClass","action"],["id","created-tag"],["type","text","placeholder","Digite o nome da tag","maxlength","20",1,"create-tag-input",3,"keydown.enter"],["createTagInput",""],[1,"created-tags-content"],[1,"created-tags-header"],[1,"label-tag","mb-2"],["buttonsType","add-pickcolor-remove",3,"label","color","loading","setColor","action",4,"ngIf"],["buttonsType","add",3,"ngStyle","ngClass","label","color","loading","action",4,"ngFor","ngForOf"],["buttonsType","add-pickcolor-remove",3,"label","color","loading","setColor","action"],["buttonsType","add",3,"ngStyle","ngClass","label","color","loading","action"],["class","col-lg-4",4,"ngFor","ngForOf"],[1,"col-lg-4"],["type","analysis",3,"item","inspection","proponent","index","photoType","submitInspect"],["ngbDropdownItem","",3,"value","click"],["role","status",1,"ml-3","spinner-border","text-primary","input-loading"],[1,"ml-5","mt-3"],[1,"title","d-flex","align-items-end"],[3,"asset"],[1,"d-flex","flex-wrap"],[4,"ngFor","ngForOf"],["type","analysis",3,"item","inspection","index","asset","photoType","submitInspect"],[1,"title","d-flex","align-items-center","mt-4"],["type","analysis",3,"item","index","inspection","asset","equipment","photoType","submitInspect"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-breadcrumb",3),t.NdJ("closeModal",function(){return o.dialogRef.close()}),t.qZA()(),t.YNc(4,qt,66,23,"div",4),t.ALo(5,"async"),t.qZA()()),2&n&&(t.xp6(3),t.Q6J("items",t.WLB(8,Ft,t.DdM(5,Jt),t.VKq(6,St,o.breadcrumbTitle)))("isModal",!0),t.xp6(1),t.Q6J("ngIf",t.lcZ(5,3,o.inspection$)))},directives:[y.L,i.O5,O.o8,E.M,i.sg,i.mk,i.PC,k.j,O.jt,O.iD,O.Vi,O.TH,S.oH,ct.x,st.i],pipes:[i.Ov,rt.Iq],styles:['.mat-dialog-container{overflow:auto!important;padding:0}.wrapper[_ngcontent-%COMP%]{background-color:#f0f3f9;min-height:100vh;min-width:100vw;max-height:100vh;overflow-y:auto}.card-content[_ngcontent-%COMP%]{padding:20px 24px}.card-content[_ngcontent-%COMP%]   .header-inspection[_ngcontent-%COMP%]{border-bottom:3px solid #dbeefd}.card-content[_ngcontent-%COMP%]   .header-inspection[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;color:#959da6;margin-right:5px;margin-bottom:0}.card-content[_ngcontent-%COMP%]   .header-inspection[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;font-weight:500;color:#959da6;margin-bottom:0}.card-content[_ngcontent-%COMP%]   .header-inspection[_ngcontent-%COMP%]   .badges-tags[_ngcontent-%COMP%]{margin-bottom:1rem}.card-content[_ngcontent-%COMP%]   .header-inspection[_ngcontent-%COMP%]   .badges-tags[_ngcontent-%COMP%]   .inspection-tags[_ngcontent-%COMP%]{width:273px;padding:1rem;display:flex;flex-direction:column;justify-content:space-around}.card-content[_ngcontent-%COMP%]   .header-inspection[_ngcontent-%COMP%]   .proposal-details[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.card-content[_ngcontent-%COMP%]   .header-inspection[_ngcontent-%COMP%]   .proposal-details[_ngcontent-%COMP%]   .localization[_ngcontent-%COMP%]{font-size:18px;margin-right:8px;font-weight:400;color:#707a84;position:relative;padding-left:15px}.card-content[_ngcontent-%COMP%]   .header-inspection[_ngcontent-%COMP%]   .proposal-details[_ngcontent-%COMP%]   .localization[_ngcontent-%COMP%]:before{content:"";width:1px;height:24px;background-color:#818a91;display:block;position:absolute;left:0;top:2px}.card-content[_ngcontent-%COMP%]   .header-inspection[_ngcontent-%COMP%]   .proposal-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative}.card-content[_ngcontent-%COMP%]   .header-inspection[_ngcontent-%COMP%]   .proposal-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.card-content[_ngcontent-%COMP%]   .header-inspection[_ngcontent-%COMP%]   .attachment-button[_ngcontent-%COMP%]{min-width:8.5rem;height:2.5rem;font-weight:500;font-size:1rem}.card-content[_ngcontent-%COMP%]   .box-document[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.1);border-radius:5px;padding:24px}.card-content[_ngcontent-%COMP%]   .box-document[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;margin-bottom:35px}.card-content[_ngcontent-%COMP%]   .box-document[_ngcontent-%COMP%]   .box-img[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:center;border:2px solid #f7f7f7;position:relative;border-radius:5px;overflow:hidden;width:100%;height:224px;margin-bottom:15px}.card-content[_ngcontent-%COMP%]   .box-document[_ngcontent-%COMP%]   .box-img[_ngcontent-%COMP%]:hover   .personalDocs-img[_ngcontent-%COMP%]{cursor:pointer;transition:.2s ease-in;filter:brightness(93%)}.card-content[_ngcontent-%COMP%]   .box-document[_ngcontent-%COMP%]   .box-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.card-content[_ngcontent-%COMP%]   .box-document[_ngcontent-%COMP%]   .box-img[_ngcontent-%COMP%]   .empty-img[_ngcontent-%COMP%]{width:58px;filter:brightness(.9)}.card-content[_ngcontent-%COMP%]   .box-document[_ngcontent-%COMP%]   .box-img[_ngcontent-%COMP%]   .footer-img[_ngcontent-%COMP%]{background-color:#f7f7f7;align-items:center;color:#63696d;position:absolute;bottom:0;width:100%;height:32px;padding:0 15px}.card-content[_ngcontent-%COMP%]   .box-document[_ngcontent-%COMP%]   .box-img[_ngcontent-%COMP%]   .footer-img[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;margin:0}.card-content[_ngcontent-%COMP%]   .box-document[_ngcontent-%COMP%]   .box-img[_ngcontent-%COMP%]   .footer-img[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#959da6;cursor:pointer;margin:0}.card-content[_ngcontent-%COMP%]   .box-document[_ngcontent-%COMP%]   .box-img[_ngcontent-%COMP%]   .footer-img[_ngcontent-%COMP%]   .state-ok[_ngcontent-%COMP%]{width:8px;height:8px;background-color:#5cb85c;display:inline-block;border-radius:5px;margin-right:2px}.card-content[_ngcontent-%COMP%]   .box-document[_ngcontent-%COMP%]   .box-img[_ngcontent-%COMP%]   .footer-img[_ngcontent-%COMP%]   .state-waiting[_ngcontent-%COMP%]{width:8px;height:8px;background-color:#ffcd4e;display:inline-block;border-radius:5px;margin-right:2px}.card-content[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:400;font-size:14px;color:#63696d;border-bottom:1px solid #d8dbdf;width:125px;padding-left:0;padding-right:0;padding-bottom:12px;text-align:center}.card-content[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{font-weight:700;color:#0275d8;border-bottom:3px solid #70b9d8}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]{border-radius:0;margin-top:32px;padding:24px 32px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:400;margin-bottom:10px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:30px 24px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#818a91;margin:0}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;margin-left:5px;top:-2px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:38px;font-weight:400;color:#0275d8;margin:5px 0 0}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{padding-left:25px;position:relative}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#959da6}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:1px;height:115px;left:0;top:-20px;background:#d8dbdf}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .blue-card[_ngcontent-%COMP%]{background-color:#f3f9ff;border-radius:6px;margin-top:24px;margin-bottom:114px;width:48.5%;height:56px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .blue-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin:0 20px 0 24px;color:#384552b3}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .blue-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-weight:700}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{padding:2px 8px;top:-10px!important}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{font-size:14px;padding:0;color:#818a91}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .content-messages[_ngcontent-%COMP%]{height:420px;overflow:auto;padding-bottom:50px;padding-right:84px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .content-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f3f3f3}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .content-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;background-color:#f3f3f3}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .content-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#c4c4c4;border:none}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]{position:relative;padding-left:25px;padding-bottom:24px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]   .date-hours[_ngcontent-%COMP%]{font-size:14px;color:#707a84;margin-bottom:5px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]   .card-data-message[_ngcontent-%COMP%]{padding:0 0 20px!important}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]   .card-data-message[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-bottom:0;padding-top:12px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]   .card-data-message[_ngcontent-%COMP%]   .proposal-details[_ngcontent-%COMP%]{margin-right:75px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]   .card-data-message[_ngcontent-%COMP%]   .proposal-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child, .card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]   .card-data-message[_ngcontent-%COMP%]   .proposal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child, .card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]   .card-data-message[_ngcontent-%COMP%]   .contract[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:12px;font-weight:500;color:#63696d;margin-bottom:2px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]   .card-data-message[_ngcontent-%COMP%]   .proposal-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child, .card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]   .card-data-message[_ngcontent-%COMP%]   .proposal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child, .card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]   .card-data-message[_ngcontent-%COMP%]   .contract[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-size:12px;font-weight:400;color:#959da6}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]   .card-data-message[_ngcontent-%COMP%]   .coments[_ngcontent-%COMP%]{margin-top:25px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]   .card-data-message[_ngcontent-%COMP%]   .coments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#419641}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]   .card-data-message[_ngcontent-%COMP%]   .proposal[_ngcontent-%COMP%]{margin-right:70px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]:before{content:"";width:12px;height:12px;display:block;background:#70b9d8;position:absolute;left:0;top:3px;border-radius:10px;z-index:2}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .box-message[_ngcontent-%COMP%]:after{content:"";display:block;width:3px;height:100%;background:#0275d8;position:absolute;left:4px;top:8px;z-index:0}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .dropdown-menu-table[_ngcontent-%COMP%]{position:absolute;right:40px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .dropdown-menu-table[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{left:-135px!important;top:0!important}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .dropdown-menu-table[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{padding:0;width:24px;height:24px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .dropdown-menu-table[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:focus{background-color:#dbeefd}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .dropdown-menu-table[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .mat-footer-cell[_ngcontent-%COMP%]{font-size:13px}.card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child, .card-content[_ngcontent-%COMP%]   .card-radius-0[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:last-child{max-width:90px}.table-container[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.1);margin-top:30px}.table-container[_ngcontent-%COMP%]   .vehicle-plates[_ngcontent-%COMP%]{border-right:1px solid rgba(0,0,0,.1)}.table-container[_ngcontent-%COMP%]   .asset-photos[_ngcontent-%COMP%]{margin:1.5rem 0;padding:0;max-height:37.5rem;overflow:auto}.table-container[_ngcontent-%COMP%]   .asset-photos[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.table-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#818a91;padding:0 15px;margin-bottom:1.625rem}.table-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-right:7px;font-size:1.25rem;margin-bottom:0}.table-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:0}.buttons[_ngcontent-%COMP%]{margin-top:36px;margin-bottom:5px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#fff;border:1px solid #cccccc;color:#373a3c;font-size:16px;font-weight:400;border-radius:4px;display:flex;align-items:center;justify-content:center;align-self:flex-end;width:136px;height:40px;margin-right:24px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#0275d8;color:#fff;font-size:16px;font-weight:500;border-radius:4px;display:flex;align-items:center;justify-content:center;align-self:flex-end;width:136px;height:40px;border:none}.dropdown-toggle[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.icon-menu[_ngcontent-%COMP%]{background:url(/../../../../../../../assets/icons/menu-gray-200.svg) no-repeat;background-size:contain;width:5px;height:18px;display:block}.tooltip-content[_ngcontent-%COMP%]{z-index:1;opacity:0}.info-circle-popover[_ngcontent-%COMP%]{font-size:1.125rem}.proposal-details[_ngcontent-%COMP%]:hover   .tooltip-content[_ngcontent-%COMP%]{opacity:1;transition:.5s;transition-delay:.1s}.arrow-of-tooltip[_ngcontent-%COMP%]{content:"";pointer-events:none;transition:.05s;position:absolute;top:44.5%;z-index:2;height:15px;width:15px;background:white;border:1px solid #dadada;box-sizing:border-box;transform:rotate(45deg) translate(-50%);border-right-color:transparent;border-top-color:transparent}  .dropdown-menu{padding:0}  .dropdown-menu #created-tag{padding:0!important;min-width:17.5rem!important;border:1px solid #D8DBDF!important;height:274px;overflow-y:auto}  .dropdown-menu #created-tag::-webkit-scrollbar{width:4px}  .dropdown-menu #created-tag .create-tag-input{height:1.875rem;background:#F7F7F7;padding:.5rem 1rem;border-width:0 0 1px 0;border-color:#d8dbdf!important;width:100%}  .dropdown-menu #created-tag .created-tags-content{padding:.5rem 1rem 1.2rem;display:flex;flex-direction:column}  .dropdown-menu #created-tag .created-tags-content .created-tags-header{padding-bottom:1rem;border-bottom:1px solid #D8DBDF;margin-bottom:1rem}  .dropdown-menu #created-tag .created-tags-content .created-tags-header .label-tag{font-size:10px;padding:0;line-height:14px}.input-loading.spinner-border[_ngcontent-%COMP%]{margin-right:30px;bottom:23%}@media (max-width: 992px){.asset-photos[_ngcontent-%COMP%]{max-height:100%!important}}'],data:{animation:[U.bA]}}),e})(),Ut=(()=>{class e{constructor(n,o,a,c,p){this.inspectionAnalysis=n,this.route=o,this.dialog=a,this.router=c,this.loading=p,this.loading.show();const d=this.route.snapshot.paramMap.get("id");d&&this.inspectionAnalysis.getInspectionAnalysisById(d).pipe((0,u.q)(1)).subscribe(f=>{console.log(f),this.initDialog(f)})}ngOnInit(){}initDialog(n){this.dialog.open(zt,{height:"100vh",width:"100vw",maxWidth:"none",data:n,closeOnNavigation:!0,disableClose:!0}).afterClosed().subscribe(o=>{this.router.navigate(["app/subscricao/vistorias"])})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(A.z),t.Y36(P.gz),t.Y36(_.uw),t.Y36(P.F0),t.Y36(Y.b))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-proposal-inspection"]],decls:0,vars:0,template:function(n,o){},encapsulation:2}),e})();var Qt=r(8080),B=r(5214);const Yt=["appTagBadge"];function Et(e,s){1&e&&t._UZ(0,"app-tag-badge")}const $t=[{path:"",component:(()=>{class e extends z.K{constructor(n,o,a,c,p){super(o),this.navbarService=n,this.datePide=o,this.inspectionAnalysisService=a,this.router=c,this.route=p,this.inspectionAnalysis$=new h.X({}),this.columns=[{columnName:"proposal",displayName:"Proposta",className:"flex-12"},{columnName:"protocol",displayName:"Protocolo",className:"flex-15"},{columnName:"proponent",displayName:"Proponente"},{columnName:"socialBroker",displayName:"",className:"flex-5",hasInnerHtml:!0,cell:d=>this.includeTooltip("",d.socialBroker)},{columnName:"tags",displayName:"Tags",className:"flex-15",isTagBadge:!0,cell:d=>d.tags},{columnName:"status",displayName:"Status",className:"flex-15",hasInnerHtml:!0,cell:d=>`${x.E3[d.status]}`},{columnName:"testando",displayName:"",className:"flex-5",hasInnerHtml:!0,cell:d=>this.badge(d.isFleet?"F":"I",d.isFleet?"#0683F9":"#1481AE",d.isFleet?"Frota":"Implemento")},{columnName:"creation",displayName:"Envio",className:"flex-15",hasInnerHtml:!0,cell:d=>this.convertDate(d.creation,"dd/MM/yyyy hh:mm:ss")}],this.actions=[{iconClass:"fas fa-chevron-right",eventName:"edit",tooltip:"Abrir vistoria"}],this.searchInspectionAnalysis=d=>this.searchTableItem(d,this.inspectionAnalysisService,this.loadTable,"searchInspectionAnalysis",this.inspectionAnalysis$,"","Nenhuma vistoria encontrada."),this.navbarService.setContentTitle("Vistorias")}get InspectionTabs(){return x.ev}ngOnInit(){this.loadTable()}loadTable(n=0,o=10){this.initTable(this.inspectionAnalysisService,"searchInspectionAnalysis","getInspectionAnalysis",this.inspectionAnalysis$,n,o)}onAction(n){console.log(n),this.router.navigate(["./",n.element.id],{relativeTo:this.route})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Qt.I),t.Y36(i.uU),t.Y36(A.z),t.Y36(P.F0),t.Y36(P.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-inspection"]],viewQuery:function(n,o){if(1&n&&t.Gf(Yt,5),2&n){let a;t.iGM(a=t.CRH())&&(o.appTagBadge=a.first)}},features:[t.qOj],decls:13,vars:11,consts:[[1,"inspection"],[1,"card","card-result","pt-4"],[1,"table-header","mb-3","row","d-flex","align-items-center","justify-content-between","mt-4"],[1,"offset-lg-9","col-lg-3"],["src","../../../../../../assets/icons/search.svg","alt","",1,"search-icon"],["type","search","placeholder","Buscar","id","atb-search",1,"form-control","search-input",3,"ngbTypeahead"],["input",""],[3,"indexColumn","dataSource","totalItems","columns","actions","spinner","onPaginator","page","action"],["appTagBadge",""]],template:function(n,o){if(1&n&&(t.TgZ(0,"section",0),t.ynx(1),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3),t._UZ(5,"img",4)(6,"input",5,6),t.qZA()(),t.TgZ(8,"atb-table",7),t.NdJ("onPaginator",function(c){return o.paginator=c})("page",function(c){return o.loadTable(c.skip,c.take)})("action",function(c){return o.onAction(c)}),t.ALo(9,"async"),t.ALo(10,"async"),t.qZA(),t.YNc(11,Et,1,0,"ng-template",null,8,t.W1O),t.qZA(),t.BQk(),t.qZA()),2&n){let a,c;t.xp6(6),t.Q6J("ngbTypeahead",o.searchInspectionAnalysis),t.xp6(2),t.Q6J("indexColumn",!0)("dataSource",null==(a=t.lcZ(9,7,o.inspectionAnalysis$))?null:a.items)("totalItems",null==(c=t.lcZ(10,9,o.inspectionAnalysis$))?null:c.total)("columns",o.columns)("actions",o.actions)("spinner",o.spinnerTable$)}},directives:[O.dR,S.oH,B.a,E.M],pipes:[i.Ov],styles:[".inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]{padding:40px 16px 45px 35px}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin-bottom:4.5rem;width:60%}@media screen and (max-width: 1440px){.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:50%}}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:400;color:#777;margin:40px 0 20px}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .custom-search[_ngcontent-%COMP%]{position:relative;width:100%}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:32px}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .icon-search[_ngcontent-%COMP%]{background:url(search.2846c0091ce0322c.svg) no-repeat;width:20px;height:20px;display:block;position:absolute;top:12px;left:10px}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#999;font-size:14px}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#999;font-size:14px}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-ms-input-placeholder{color:#999;font-size:14px}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-moz-placeholder{color:#999;font-size:14px}@media only screen and (max-width: 767px){.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .content-boxs[_ngcontent-%COMP%]{flex-direction:column}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .inspection[_ngcontent-%COMP%]   .card-result[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .content-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{padding:0!important}}@media only screen and (max-width: 630px){.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .section-consultant[_ngcontent-%COMP%]{flex-direction:column}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .section-consultant[_ngcontent-%COMP%]   .box-right[_ngcontent-%COMP%]{margin-bottom:30px}}@media only screen and (max-width: 600px){.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .inspection[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 20px}}@media only screen and (max-width: 575px){.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]{padding:20px 10px 25px}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:20px 0}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .custom-search[_ngcontent-%COMP%]{position:relative;width:100%}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;box-shadow:none;padding-left:32px;width:100%}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .img-search[_ngcontent-%COMP%]{width:40%;margin:0 auto;display:block}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column-reverse!important}}@media only screen and (max-width: 360px){.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .inspection[_ngcontent-%COMP%]   .section-consultant[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{flex-direction:column}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .inspection[_ngcontent-%COMP%]   .section-consultant[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:10px}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .inspection[_ngcontent-%COMP%]   .section-consultant[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin:0;width:100%!important}.inspection[_ngcontent-%COMP%]   .card-search[_ngcontent-%COMP%]   .inspection[_ngcontent-%COMP%]   .section-consultant[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.inspection[_ngcontent-%COMP%]   .card-result[_ngcontent-%COMP%]{padding:1.5rem;margin-top:1.5rem}.inspection[_ngcontent-%COMP%]   .card-result[_ngcontent-%COMP%]   .sub-tab-cooperated[_ngcontent-%COMP%] > .nav-tabs[_ngcontent-%COMP%], .inspection[_ngcontent-%COMP%]   .card-result[_ngcontent-%COMP%]   .sub-tab-billet[_ngcontent-%COMP%] > .nav-tabs[_ngcontent-%COMP%]{height:0;border:none}.inspection[_ngcontent-%COMP%]   .card-result[_ngcontent-%COMP%]   .sub-tab-cooperated[_ngcontent-%COMP%] > .nav-tabs[_ngcontent-%COMP%] > .nav-item[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .inspection[_ngcontent-%COMP%]   .card-result[_ngcontent-%COMP%]   .sub-tab-billet[_ngcontent-%COMP%] > .nav-tabs[_ngcontent-%COMP%] > .nav-item[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{padding:0;flex-direction:column}"]}),e})()},{path:":id",component:Ut}];let Bt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[P.Bz.forChild($t)],P.Bz]}),e})();function Dt(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"a",15),t.NdJ("click",function(){const c=t.CHM(n).$implicit;return t.oxw().selectedAssetType=c}),t._uU(1),t.qZA()}if(2&e){const n=s.$implicit;t.xp6(1),t.Oqu(n)}}const T=[{id:1,proposal:"2645-89784",proponent:"Jo\xe3o Pereira da Silva",consultant:"Checi Indaia Melo Garcez",type:"Ades\xe3o",param:"icon-letter-f",acceptancedate:"26/10/2020"},{id:2,proposal:"2645-89784",proponent:"Maria Eduarda da Silva Pereira",consultant:"Wemerson Aureliano do Nascimento",type:"Ades\xe3o",param:"icon-letter-f",acceptancedate:"05/11/2020"},{id:3,proposal:"2645-89784",proponent:"Pedro paulo Gomes",consultant:"Marcius Dalla Valle",type:"Renova\xe7\xe3o",param:"icon-letter-f",acceptancedate:"10/11/2020"},{id:4,proposal:"2645-89784",proponent:"Jo\xe3o Pereira da Silva",consultant:"Checi Indaia Melo Garcez",type:"Ades\xe3o",param:"icon-letter-f",acceptancedate:"26/10/2020"},{id:5,proposal:"2645-89784",proponent:"Maria Eduarda da Silva Pereira",consultant:"Wemerson Aureliano do Nascimento",type:"Ades\xe3o",param:"icon-letter-l",acceptancedate:"05/11/2020"},{id:6,proposal:"2645-89784",proponent:"Pedro paulo Gomes",consultant:"Marcius Dalla Valle",type:"Renova\xe7\xe3o",param:"icon-letter-f",acceptancedate:"10/11/2020"},{id:7,proposal:"2645-89784",proponent:"Jo\xe3o Pereira da Silva",consultant:"Checi Indaia Melo Garcez",type:"Ades\xe3o",param:"icon-letter-l",acceptancedate:"26/10/2020"},{id:8,proposal:"2645-89784",proponent:"Maria Eduarda da Silva Pereira",consultant:"Wemerson Aureliano do Nascimento",type:"Ades\xe3o",param:"icon-letter-l",acceptancedate:"05/11/2020"},{id:9,proposal:"2645-89784",proponent:"Pedro paulo Gomes",consultant:"Marcius Dalla Valle",type:"Renova\xe7\xe3o",param:"icon-letter-l",acceptancedate:"10/11/2020"},{id:10,proposal:"2645-89784",proponent:"Jo\xe3o Pereira da Silva",consultant:"Checi Indaia Melo Garcez",type:"Ades\xe3o",param:"icon-letter-f",acceptancedate:"26/10/2020"},{id:11,proposal:"2645-89784",proponent:"Maria Eduarda da Silva Pereira",consultant:"Wemerson Aureliano do Nascimento",type:"Ades\xe3o",param:"icon-letter-l",acceptancedate:"05/11/2020"},{id:12,proposal:"2645-89784",proponent:"Pedro paulo Gomes",consultant:"Marcius Dalla Valle",type:"Renova\xe7\xe3o",param:"icon-letter-f",acceptancedate:"10/11/2020"}];let Lt=(()=>{class e{constructor(n){this.dialog=n,this.dataSource=T,this.columns=[{columnName:"proposal",displayName:"Proposta",className:"flex-10"},{columnName:"proponent",displayName:"Proponente",className:"flex-30"},{columnName:"consultant",displayName:"Consultor",className:"flex-30"},{columnName:"type",displayName:"Tipo",className:"flex-15"},{columnName:"acceptancedate",displayName:"Data do aceite",className:"flex-10"}],this.actions=[{iconClass:"fas fa-chevron-right",eventName:"edit"}],this.categories=["Status"],this.selectedAssetType=this.categories[0],this.currentPage=1,this.pageSize=10,this.itemsTotal=T.length}ngOnInit(){this.paginator()}paginator(){this.dataSource=T.slice((this.currentPage-1)*this.pageSize,(this.currentPage-1)*this.pageSize+this.pageSize)}setPage(n){this.currentPage=++n,this.paginator()}onAction(n){"edit"===n.action&&console.log("event")}applyFilter(n){let o=n.target.value;this.dataSource=T,""!=o.trim()&&(this.dataSource=T.filter(a=>{if(Object.values(a).toString().toLowerCase().indexOf(o.toLowerCase())>-1)return a}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-approval-tab"]],decls:16,vars:6,consts:[[1,"w-100"],[1,"row","w-100","m-0"],[1,"col-lg-12","pl-0","pr-0"],[1,"table-header","row","d-flex","align-items-center","justify-content-between","mt-5"],[1,"col-4","col-lg-2"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-transparent","dropdown-toggle","category-dropdown","pl-0"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"col-lg-3","d-flex"],["src","../../../../../../assets/icons/search.svg","alt","",1,"search-icon"],["type","search","placeholder","Buscar",1,"form-control","search-input",3,"keyup"],["input",""],[1,"table-container"],[3,"dataSource","totalItems","columns","actions","page","action"],[1,"dropdown-item",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),t._uU(7),t.qZA(),t.TgZ(8,"div",7),t.YNc(9,Dt,2,1,"a",8),t.qZA()()(),t.TgZ(10,"div",9),t._UZ(11,"img",10),t.TgZ(12,"input",11,12),t.NdJ("keyup",function(c){return o.applyFilter(c)}),t.qZA()()(),t.TgZ(14,"div",13)(15,"atb-table",14),t.NdJ("page",function(c){return o.setPage(c)})("action",function(c){return o.onAction(c)}),t.qZA()()()()()),2&n&&(t.xp6(7),t.hij(" ",o.selectedAssetType," "),t.xp6(2),t.Q6J("ngForOf",o.categories),t.xp6(6),t.Q6J("dataSource",o.dataSource)("totalItems",o.itemsTotal)("columns",o.columns)("actions",o.actions))},directives:[i.sg,S.oH,B.a],styles:[".table-container[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.1);margin-top:13px}mat-table[_ngcontent-%COMP%]{min-height:calc(100vh - 534px);overflow:auto}.input-group-prepend[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{height:40px}.mat-paginator-container[_ngcontent-%COMP%]{box-shadow:0 -12px 20px 12px #dbdbdb91}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{font-size:13px}.mat-cell[_ngcontent-%COMP%]:last-child, .mat-header-cell[_ngcontent-%COMP%]:last-child{max-width:50px}.mat-row.no-data[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{max-width:100%;border:none;padding-top:20px}mat-row[_ngcontent-%COMP%]:hover{background-color:#0683f90d}mat-row[_ngcontent-%COMP%]:hover   .services-badge[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background:#3cc13b}.icon-row[_ngcontent-%COMP%]:hover{filter:brightness(.9)}a.action-link[_ngcontent-%COMP%]{color:#000;font-weight:700;font-size:12px}  .mat-sort-header-button{color:#0683f9!important;font-size:14px!important;font-weight:500}.w-10[_ngcontent-%COMP%]{flex:0 0 10%}.w-15[_ngcontent-%COMP%]{flex:0 0 15%}.asset-column[_ngcontent-%COMP%]{flex:0 0 25%}.index-column[_ngcontent-%COMP%]{flex:0 0 5%;font-weight:700}.icon-column[_ngcontent-%COMP%]{flex:0 0 5%}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{font-size:14px}.mat-column-type[_ngcontent-%COMP%], .mat-column-proposal[_ngcontent-%COMP%], .mat-column-acceptancedate[_ngcontent-%COMP%], .mat-column-select[_ngcontent-%COMP%]{flex:0 0 150px}.link-chevron[_ngcontent-%COMP%]{width:28px;height:24px;display:flex;align-items:center;justify-content:center;text-align:center;border-radius:4px}.link-chevron[_ngcontent-%COMP%]:hover{background:#DBEEFD}.icon-chevron-right[_ngcontent-%COMP%]{background:url(/../../../../../../../assets/icons/chevron-right-sm-gray-600.svg) no-repeat;background-size:contain;width:10px;height:10px;display:block;position:relative;left:2px}.icon-letter-f[_ngcontent-%COMP%]{background:url(/../../../../../../../assets/icons/icon-letter-f.svg) no-repeat;background-size:contain;width:40px;height:40px;display:block;margin-right:10px}.icon-letter-l[_ngcontent-%COMP%]{background:url(/../../../../../../../assets/icons/icon-letter-l.svg) no-repeat;background-size:contain;width:40px;height:40px;display:block;margin-right:10px}@media screen and (min-width: 1650px){mat-table[_ngcontent-%COMP%]{min-height:calc(100vh - 32.6rem)}}@media screen and (max-height: 850px){mat-table[_ngcontent-%COMP%]{min-height:calc(100vh - 470px)}.asset-column[_ngcontent-%COMP%]{flex:0 0 20%}}.mat-sort-header-content[_ngcontent-%COMP%]{color:#0683f9!important}"]}),e})();var Ht=r(7622),Rt=r(6087),Wt=r(3251),Vt=r(8279),jt=r(4847),Gt=r(7446),Kt=r(7796),Xt=r(405);let tn=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e,bootstrap:[Lt]}),e.\u0275inj=t.cJS({providers:[Kt.fo],imports:[[i.ez,Bt,Rt.TU,Wt.Nh,Vt.p0,_.Is,Ht.m,jt.JX,Gt.p9,O.ZS,Xt.k]]}),e})()},312:(D,I,r)=>{r.d(I,{z:()=>J});var _=r(3075),i=r(5e3),P=r(7751),h=r(9808),u=r(6517);const M=function(g,C,l){return{"medium-txt":g,"mb-2":C,subtitle:l}};function t(g,C){if(1&g&&(i.TgZ(0,"li",16),i._uU(1),i.qZA()),2&g){const l=C.$implicit,m=C.index,b=i.oxw(2);i.Q6J("ngClass",i.kEZ(2,M,0==m&&b.firstLineAsTitle,0==m&&b.firstLineAsTitle,0==m&&b.firstLineAsTitle)),i.xp6(1),i.hij(" ",l," ")}}function A(g,C){if(1&g&&(i.TgZ(0,"ul",14),i.YNc(1,t,2,6,"li",15),i.qZA()),2&g){const l=i.oxw();i.xp6(1),i.Q6J("ngForOf",l.list)}}function Z(g,C){if(1&g&&(i.TgZ(0,"form",17)(1,"div",18)(2,"label",19),i._uU(3),i.qZA(),i._UZ(4,"textarea",20),i.qZA()()),2&g){const l=i.oxw();i.Q6J("formGroup",l.form),i.xp6(3),i.Oqu(l.labelTextArea)}}function y(g,C){if(1&g&&(i.ynx(0),i.TgZ(1,"h6",21),i._uU(2),i.qZA(),i.TgZ(3,"div",22)(4,"div",23)(5,"h6",24),i._uU(6),i.qZA(),i.TgZ(7,"h4",25),i._uU(8),i.ALo(9,"currency"),i.qZA(),i._UZ(10,"i",26),i.qZA(),i.TgZ(11,"div",27)(12,"h6",24),i._uU(13),i.qZA(),i.TgZ(14,"h4",28),i._uU(15),i.ALo(16,"currency"),i.qZA()(),i.TgZ(17,"div",29)(18,"h6",24),i._uU(19),i.qZA(),i.TgZ(20,"h4",25),i._uU(21),i.ALo(22,"currency"),i.qZA()()(),i.BQk()),2&g){const l=i.oxw();i.xp6(2),i.Oqu(l.payWithCredit.title),i.xp6(4),i.Oqu(null==l.payWithCredit.installment?null:l.payWithCredit.installment.label),i.xp6(2),i.Oqu(i.xi3(9,7,null==l.payWithCredit.installment?null:l.payWithCredit.installment.value,"BRL")),i.xp6(5),i.Oqu(null==l.payWithCredit.credit?null:l.payWithCredit.credit.label),i.xp6(2),i.Oqu(i.xi3(16,10,null==l.payWithCredit.credit?null:l.payWithCredit.credit.value,"BRL")),i.xp6(4),i.Oqu(null==l.payWithCredit.total?null:l.payWithCredit.total.label),i.xp6(2),i.Oqu(i.xi3(22,13,(null==l.payWithCredit.installment?null:l.payWithCredit.installment.value)-(null==l.payWithCredit.credit?null:l.payWithCredit.credit.value),"BRL"))}}function k(g,C){if(1&g){const l=i.EpF();i.TgZ(0,"button",30),i.NdJ("click",function(){return i.CHM(l),i.oxw().onConfirm()}),i._uU(1),i.qZA()}if(2&g){const l=i.oxw();i.xp6(1),i.hij(" ",l.confirmButtonText," ")}}const q=function(g){return{width:g}};let J=(()=>{class g{constructor(l,m){this.modal=l,this.fb=m,this.form=this.fb.group({textArea:["",_.kI.required]}),this.modalWidth="100%",this.list=[],this.cancelButtonText="Fechar",this.confirmButtonText="",this.textArea=!1,this.labelTextArea=""}set textAreaValue(l){l&&this.form.patchValue({textArea:l})}ngOnInit(){}onCancel(){this.modal.close()}onConfirm(){if(this.textArea)return this.form.markAllAsTouched(),this.form.controls.textArea.markAsDirty(),this.form.valid?void this.modal.close({textArea:this.form.controls.textArea.value}):void 0;this.modal.close(!0)}}return g.\u0275fac=function(l){return new(l||g)(i.Y36(P.Kz),i.Y36(_.qu))},g.\u0275cmp=i.Xpm({type:g,selectors:[["app-modal"]],inputs:{form:"form",title:"title",type:"type",modalWidth:"modalWidth",list:"list",cancelButtonText:"cancelButtonText",confirmButtonText:"confirmButtonText",firstLineAsTitle:"firstLineAsTitle",payWithCredit:"payWithCredit",textArea:"textArea",textAreaValue:"textAreaValue",labelTextArea:"labelTextArea"},decls:17,vars:10,consts:[[1,"modal-content",3,"ngStyle"],[1,"modal-header","d-flex","align-items-center"],[1,"modal-icon","mr-2"],["alt","",3,"src"],[1,"modal-title","pull-left","text-gray-600","mb-0"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","mb-2",4,"ngIf"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-light-atb",3,"click"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],[1,"mb-2"],["class","text-gray-300 subtitle-sm",3,"ngClass",4,"ngFor","ngForOf"],[1,"text-gray-300","subtitle-sm",3,"ngClass"],[3,"formGroup"],[1,"form-group"],["for","textArea"],["name","textArea","id","textArea","cols","5","rows","","formControlName","textArea",1,"form-control"],[1,"subtitle","mb-3"],[1,"card","flex-md-row"],[1,"px-4","py-2","p-md-0","my-md-2","px-md-4","installment-element"],[1,"subtitle-sm","text-gray-300"],[1,"bold-txt","text-gray-300","mb-0"],[1,"fas","fa-minus-circle","credit-icon","text-gray-300"],[1,"px-4","py-2","credit-element"],[1,"bold-txt","text-green-200","mb-0"],[1,"px-4","py-2","total-credit-element","w-100"],["type","button",1,"btn","btn-success",3,"click"]],template:function(l,m){1&l&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._UZ(3,"img",3),i.qZA(),i.TgZ(4,"h5",4),i._uU(5),i.qZA(),i.TgZ(6,"button",5),i.NdJ("click",function(){return m.modal.close()}),i.TgZ(7,"span",6),i._uU(8,"\xd7"),i.qZA()()(),i.TgZ(9,"div",7),i.YNc(10,A,2,1,"ul",8),i.YNc(11,Z,5,2,"form",9),i.YNc(12,y,23,16,"ng-container",10),i.qZA(),i.TgZ(13,"div",11)(14,"button",12),i.NdJ("click",function(){return m.onCancel()}),i._uU(15),i.qZA(),i.YNc(16,k,2,1,"button",13),i.qZA()()),2&l&&(i.Q6J("ngStyle",i.VKq(8,q,m.modalWidth)),i.xp6(3),i.Q6J("src","alert"==m.type?"../../../../assets/icons/modal-alert.svg":"../../../../assets/icons/modal-info.svg",i.LSH),i.xp6(2),i.Oqu(m.title),i.xp6(5),i.Q6J("ngIf",m.list.length),i.xp6(1),i.Q6J("ngIf",m.textArea),i.xp6(1),i.Q6J("ngIf",m.payWithCredit),i.xp6(3),i.Oqu(m.cancelButtonText),i.xp6(1),i.Q6J("ngIf",""!==m.confirmButtonText))},directives:[h.PC,h.O5,h.sg,h.mk,_._Y,_.JL,_.sg,u.MU,u.HK,_.Fj,u.oH,_.JJ,_.u],pipes:[h.H9],styles:["ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none;-webkit-margin-before:0;margin-block-start:0;-webkit-margin-after:0;margin-block-end:0;-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;-webkit-padding-start:0px;padding-inline-start:0px}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-size:2rem}.modal-footer[_ngcontent-%COMP%]{border-top:none!important}.btn[_ngcontent-%COMP%]{min-width:-webkit-fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}.installment-element[_ngcontent-%COMP%]{position:relative;border-right:2px solid #E7E7E7}.installment-element[_ngcontent-%COMP%]   .credit-icon[_ngcontent-%COMP%]{font-size:1.125rem;position:absolute;right:-9px;bottom:30%;background-color:#fff}.total-credit-element[_ngcontent-%COMP%]{border-left:2px solid #E7E7E7}@media screen and (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:100%!important}.installment-element[_ngcontent-%COMP%]{border-bottom:2px solid #E7E7E7;border-right:none;display:flex;align-items:center;flex-direction:column}.installment-element[_ngcontent-%COMP%]   .credit-icon[_ngcontent-%COMP%]{right:50%;bottom:-10px}.total-credit-element[_ngcontent-%COMP%]{border-top:2px solid #E7E7E7;border-left:none;display:flex;align-items:center;flex-direction:column}.credit-element[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}}"]}),g})()}}]);