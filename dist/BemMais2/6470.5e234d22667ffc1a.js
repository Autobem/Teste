"use strict";(self.webpackChunkBemMais2=self.webpackChunkBemMais2||[]).push([[6470],{6470:(R,M,o)=>{o.r(M),o.d(M,{SocialBrokerModule:()=>pe});var S=o(1424),x=o(1470),B=o(7751),I=o(9808),y=o(4521),C=o(1135),A=o(6367),b=o(3325),e=o(5e3),l=o(8550),f=o(5871),k=o(2340),N=o(520);let O=(()=>{class i{constructor(t,r){this.http=t,this.injector=r,this._http=(0,l.d)(this.injector,[f.n])}createSocialBroker(t){return this.http.post(`${k.N.baseURL}/commercial/socialbrokers`,t)}editSocialBroker(t){return this.http.put(`${k.N.baseURL}/commercial/socialbrokers`,t)}getSocialBrokersProfiles(t,r){return this.http.get(`${k.N.baseURL}/commercial/socialbrokers/profiles/${t}/${r||""}`)}getSocialBrokersSupervisors(t){return this.http.get(`${k.N.baseURL}/commercial/socialbrokers/supervisors/${t}`)}getSocialBrokers(t,r){return this.http.get(`${k.N.baseURL}/commercial/socialbrokers/${t}/${r}`)}getSocialBrokerId(t){return this.http.get(`${k.N.baseURL}/commercial/socialbrokers/${t}`)}getCompaniesSocialBrokers(){return this.http.get(`${k.N.baseURL}/commercial/socialbrokers/companies`)}searchSocialBrokers(t,r,g){return this.http.post(`${k.N.baseURL}/commercial/socialbrokers/search`,{terms:t,skip:r,take:g})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(N.eN),e.LFG(e.zs3))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var J=o(8080),P=o(1235),n=o(6517),a=o(5214);function s(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().addSocialBroker()}),e._UZ(1,"i",16),e._uU(2," Adicionar "),e.qZA()}}const c=function(){return["ROOT","COMMERCIAL_CREATE_SOCIALBROKER"]};let h=(()=>{class i extends A.K{constructor(t,r,g,v,U){super(),this.socialBrokerService=t,this.navbarService=r,this.router=g,this.route=v,this.datePipe=U,this.categories=["Todas","Finalizadas","Em andamento"],this.selectedAssetType=this.categories[0],this.socialBrokers$=new C.X(null),this.displayedColumns=[{displayName:"Social broker",columnName:"name"},{displayName:"Cooperativa",columnName:"companyName",hasInnerHtml:!0,cell:({fantasyName:T,companyName:L})=>this.includeTooltip(T,L)},{displayName:"Supervisor",columnName:"supervisor"},{displayName:"Comiss\xe3o",columnName:"commissionIndex",className:"flex-15",hasInnerHtml:!0,cell:({commissionIndex:T})=>(0,b.s)(T)+"%"||0}],this.actions=[{iconClass:"fas fa-pen",eventName:"edit",tooltip:"Editar social broker",permissions:["COMMERCIAL_EDIT_SOCIALBROKER"]}],this.searchSocialBroker=T=>this.searchTableItem(T,this.socialBrokerService,this.loadTable,"searchSocialBrokers",this.socialBrokers$,"Clique em criar para adicionar um Social Broker.","Nenhum Social Broker encontrado."),this.returnProponent=T=>T||"",this.navbarService.setContentTitle("Social broker")}get socialBrokerServiceGetter(){return this.socialBrokerService}ngOnInit(){this.loadTable()}loadTable(t=0,r=10){this.initTable(this.socialBrokerService,"searchSocialBrokers","getSocialBrokers",this.socialBrokers$,t,r)}onAction(t){"edit"===t.action&&this.editSocialBroker(t.element)}addSocialBroker(){this.router.navigate(["adicionar"],{relativeTo:this.route})}editSocialBroker(t){this.router.navigate(["./",t.id],{relativeTo:this.route})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(O),e.Y36(J.I),e.Y36(y.F0),e.Y36(y.gz),e.Y36(I.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-social-broker"]],features:[e.qOj],decls:18,vars:13,consts:[[1,"wrapper","px-0"],[1,"content-title"],[1,"card","table-card","mt-3","min-height"],[1,"w-100","h-75"],[1,"row","w-100","m-0","h-100"],[1,"col-lg-12"],[1,"table-header","pb-3","row","d-flex","align-items-center","justify-content-between"],[1,"col-4","col-lg-6"],[1,"dropdown","d-flex","align-items-center"],["class","btn btn-outline-primary",3,"click",4,"ngxPermissionsOnly"],[1,"col-lg-3"],["src","../../../../../../assets/icons/search.svg","alt","",1,"search-icon"],["type","search","placeholder","Buscar","id","atb-search",1,"form-control","search-input",3,"ngbTypeahead"],["input",""],[3,"dataSource","totalItems","columns","spinner","actions","indexColumn","onPaginator","page","action"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-plus","mr-2"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2,"Cadastro social broker"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),e.YNc(10,s,3,0,"button",9),e.qZA()(),e.TgZ(11,"div",10),e._UZ(12,"img",11)(13,"input",12,13),e.qZA()(),e.TgZ(15,"atb-table",14),e.NdJ("onPaginator",function(v){return r.paginator=v})("page",function(v){return r.loadTable(v.skip,v.take)})("action",function(v){return r.onAction(v)}),e.ALo(16,"async"),e.ALo(17,"async"),e.qZA()()()()()()),2&t){let g,v;e.xp6(10),e.Q6J("ngxPermissionsOnly",e.DdM(12,c)),e.xp6(3),e.Q6J("ngbTypeahead",r.searchSocialBroker),e.xp6(2),e.Q6J("dataSource",null==(g=e.lcZ(16,8,r.socialBrokers$))?null:g.items)("totalItems",null==(v=e.lcZ(17,10,r.socialBrokers$))?null:v.total)("columns",r.displayedColumns)("spinner",r.spinnerTable$)("actions",r.actions)("indexColumn",!1)}},directives:[P.gE,B.dR,n.oH,a.a],pipes:[I.Ov],styles:[".table-card[_ngcontent-%COMP%]{padding:1rem 0}.table-container[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.1);margin-top:13px}.input-group-prepend[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{height:40px}.dropdown-menu-table[_ngcontent-%COMP%]{position:absolute;right:15px}.dropdown-menu-table[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.form-control#category-select[_ngcontent-%COMP%]{font-weight:bolder;font-size:14px}.category-dropdown[_ngcontent-%COMP%]{font-weight:700}a.action-link[_ngcontent-%COMP%]{color:#000;font-weight:700;font-size:12px}"]}),i})();var u=o(7579),m=o(2722),d=o(3075),Z=o(8966),_=o(9646),w=o(8306),E=o(5698),z=o(4004);function F(...i){const p=i.length;if(0===p)throw new Error("list of properties cannot be empty.");return(0,z.U)(t=>{let r=t;for(let g=0;g<p;g++){const v=null==r?void 0:r[i[g]];if(void 0===v)return;r=v}return r})}var D=o(8746),$=o(97),V=o(2290),K=o(2569),H=o(1299),Q=o(2953);function W(i,p){if(1&i&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&i){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.fantasyName," ")}}function q(i,p){if(1&i&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&i){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.displayName," ")}}function G(i,p){if(1&i&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&i){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.displayName," ")}}function j(i,p){1&i&&(e.TgZ(0,"button",33),e._uU(1," Cadastrar "),e.qZA())}function X(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"div",28)(1,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().closePanel()}),e._uU(2,"Fechar"),e.qZA()()}}const ee=function(){return{text:"Social Broker"}},te=function(i){return{text:i}},ie=function(i,p){return[i,p]},oe=function(){return["ROOT","COMMERCIAL_EDIT_SOCIALBROKER"]};let ne=(()=>{class i{constructor(t,r,g,v,U,T,L){this.socialBrokerService=t,this.toastrService=r,this.formBuilder=g,this.dialogRef=v,this.loading=U,this.permissions=T,this.groupId=L,this.form=this.formBuilder.group({companyId:[{value:"",disabled:!this.hasPermissions()},d.kI.required],profileId:[{value:"",disabled:!this.hasPermissions()},d.kI.required],supervisorId:[{value:"",disabled:!this.hasPermissions()}],displayName:[{value:"",disabled:!this.hasPermissions()}],commissionIndex:[{value:null,disabled:!this.hasPermissions()},[d.kI.required,(0,$.rJ)()]],goal:[{value:null,disabled:!this.hasPermissions()},[(0,$.rJ)()]],grievanceIndex:[{value:null,disabled:!this.hasPermissions()},[d.kI.required,(0,$.rJ)(!0)]]}),this.isEditing=!1,this.permissionNodes=[],this.destroyed$=new u.x,this.inputPaginatorRegex={0:{pattern:new RegExp(/(^100(\.0{1,2})?$)|(^([1-9]([0-9])?|0)(\.[0-9]{1,5})?$)/)}},this.socialBrokerStaticData$=(0,_.of)([]),this.companies$=new w.y,this.profiles$=new w.y,this.supervisors$=new w.y}ngOnInit(){this.loading.show(),this.groupId&&(this.isEditing=!0),this.setStaticData(),this.isEditing&&setTimeout(()=>{this.setGroupData()},3e3)}hasPermissions(){const t=this.permissions.getPermissions();return t.ROOT||t.COMMERCIAL_EDIT_SOCIALBROKER}getSupervisorsId(t){var r;this.companyId=(null===(r=t.target)||void 0===r?void 0:r.value)||t,this.supervisors$=this.socialBrokerService.getSocialBrokersSupervisors(this.companyId).pipe((0,E.q)(1)).pipe(F("supervisors"))}getCompanyId(t,r){var g;this.companyId=(null===(g=t.target)||void 0===g?void 0:g.value)||t,this.profiles$=this.socialBrokerService.getSocialBrokersProfiles(this.companyId,r).pipe((0,E.q)(1)).pipe(F("profiles"))}setStaticData(){this.companies$=this.socialBrokerService.getCompaniesSocialBrokers().pipe((0,E.q)(1),(0,D.x)(()=>!this.isEditing&&this.loading.hide())).pipe((0,z.U)(t=>t.companies))}setGroupData(){this.loading.show(),this.socialBrokerService.getSocialBrokerId(this.groupId).pipe((0,E.q)(1),(0,D.x)(()=>this.loading.hide())).subscribe(t=>{this.getCompanyId(t.companyId,t.profileId),this.getSupervisorsId(t.companyId),this.form.addControl("id",new d.NI("",d.kI.required)),this.form.patchValue({id:t.id,companyId:t.companyId,profileId:t.profileId,supervisorId:t.supervisorId,displayName:t.displayName,commissionIndex:t.commissionIndex,goal:t.goal,grievanceIndex:t.grievanceIndex}),this.form.addControl("id",new d.NI(this.groupId))})}submit(){if(this.form.markAllAsTouched(),this.form.invalid)return this.toastrService.show("Formul\xe1rio inv\xe1lido!","Oh yes",{toastClass:"error-toast"});this.loading.show(),this.socialBrokerService[this.isEditing?"editSocialBroker":"createSocialBroker"](this.form.value).pipe((0,D.x)(()=>this.loading.hide())).subscribe(t=>{t.id&&(this.toastrService.show(`Social Broker ${this.isEditing?"editado":"criado"} com sucesso.`,"Oh yes",{toastClass:"success-toast"}),this.dialogRef.close())},t=>{console.log(t)})}closePanel(){this.dialogRef.close(!1)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(O),e.Y36(V._W),e.Y36(d.qu),e.Y36(Z.so),e.Y36(K.b),e.Y36(P.YI),e.Y36(Z.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-register-dialog-social-broker"]],decls:102,vars:21,consts:[[1,"wrapper","px-0"],[1,"container"],[1,"d-flex","flex-column"],[3,"isModal","items","closeModal"],[1,"card","p-5"],["id","department-register-form",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-12"],[1,"d-flex","align-items-end","mb-3"],[1,"content-number","text-blue-400"],[1,"content-label"],[1,"row","mt-3"],[1,"col-lg-5"],[1,"form-group"],["formControlName","companyId",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-4"],["formControlName","profileId",1,"form-control"],["formControlName","supervisorId",1,"form-control"],["id","product-register-budget-plans",1,"row","mt-4"],[1,"row","mt-2"],[1,"input-group-index","border","rounded","p-3"],[1,"form-inline"],[1,"form-group","w-100","justify-content-between","pr-3","input-percentage"],["formControlName","commissionIndex","className","percent-input"],["formControlName","goal","className","percent-input"],["formControlName","grievanceIndex","className","percent-input",3,"allowNegative"],[1,"d-flex","justify-content-end"],[1,"btn","btn-outline-light-atb",3,"click"],["type","submit","form","department-register-form","class","btn btn-primary-atb ml-3",4,"ngxPermissionsOnly"],["closeOnly",""],[3,"value"],["type","submit","form","department-register-form",1,"btn","btn-primary-atb","ml-3"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-breadcrumb",3),e.NdJ("closeModal",function(){return r.dialogRef.close()}),e.qZA(),e.TgZ(4,"div",4)(5,"form",5),e.NdJ("ngSubmit",function(){return r.submit()}),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"span",9),e._uU(10," 1 "),e.qZA(),e.TgZ(11,"span",10),e._uU(12,"Selecione a cooperativa"),e.qZA()()()(),e.TgZ(13,"div",11)(14,"div",12)(15,"div",13)(16,"select",14),e.NdJ("change",function(v){return r.getCompanyId(v),r.getSupervisorsId(v)}),e.TgZ(17,"option",15),e._uU(18,"Selecione"),e.qZA(),e.YNc(19,W,2,2,"option",16),e.ALo(20,"async"),e.qZA()()()(),e.TgZ(21,"div",17)(22,"div",7)(23,"div",8)(24,"span",9),e._uU(25," 2 "),e.qZA(),e.TgZ(26,"span",10),e._uU(27,"Selecione o usu\xe1rio"),e.qZA()()()(),e.TgZ(28,"div",11)(29,"div",12)(30,"select",18)(31,"option",15),e._uU(32,"Selecione"),e.qZA(),e.YNc(33,q,2,2,"option",16),e.ALo(34,"async"),e.qZA()()(),e.TgZ(35,"div",17)(36,"div",7)(37,"div",8)(38,"span",9),e._uU(39," 3 "),e.qZA(),e.TgZ(40,"span",10),e._uU(41,"Selecione o supervisor"),e.qZA()()()(),e.TgZ(42,"div",11)(43,"div",12)(44,"select",19)(45,"option",15),e._uU(46,"Selecione"),e.qZA(),e.YNc(47,G,2,2,"option",16),e.ALo(48,"async"),e.qZA()()(),e.TgZ(49,"div",20)(50,"div",7)(51,"div",8)(52,"span",9),e._uU(53," 4 "),e.qZA(),e.TgZ(54,"span",10),e._uU(55,"Comiss\xe3o"),e.qZA()()()(),e.TgZ(56,"div",21)(57,"div",12)(58,"div",22)(59,"div",23)(60,"div",24)(61,"label"),e._uU(62,"Limite m\xe1ximo"),e.qZA(),e._UZ(63,"app-percent-input",25),e.qZA()()()()(),e.TgZ(64,"div",20)(65,"div",7)(66,"div",8)(67,"span",9),e._uU(68," 5 "),e.qZA(),e.TgZ(69,"span",10),e._uU(70,"Meta de vendas"),e.qZA()()()(),e.TgZ(71,"div",21)(72,"div",12)(73,"div",22)(74,"div",23)(75,"div",24)(76,"label"),e._uU(77,"Meta"),e.qZA(),e._UZ(78,"app-percent-input",26),e.qZA()()()()(),e.TgZ(79,"div",20)(80,"div",7)(81,"div",8)(82,"span",9),e._uU(83," 6 "),e.qZA(),e.TgZ(84,"span",10),e._uU(85,"Agravo"),e.qZA()()()(),e.TgZ(86,"div",21)(87,"div",12)(88,"div",22)(89,"div",23)(90,"div",24)(91,"label"),e._uU(92,"Agravo"),e.qZA(),e._UZ(93,"app-percent-input",27),e.qZA()()()()()(),e.TgZ(94,"div",17)(95,"div",7)(96,"div",28)(97,"button",29),e.NdJ("click",function(){return r.closePanel()}),e._uU(98,"Cancelar"),e.qZA(),e.YNc(99,j,2,0,"button",30),e.qZA(),e.YNc(100,X,3,0,"ng-template",null,31,e.W1O),e.qZA()()()()()()),2&t&&(e.xp6(3),e.Q6J("isModal",!0)("items",e.WLB(17,ie,e.DdM(14,ee),e.VKq(15,te,r.isEditing?"Editar Social Broker":"Adicionar Social Broker"))),e.xp6(2),e.Q6J("formGroup",r.form),e.xp6(14),e.Q6J("ngForOf",e.lcZ(20,8,r.companies$)),e.xp6(14),e.Q6J("ngForOf",e.lcZ(34,10,r.profiles$)),e.xp6(14),e.Q6J("ngForOf",e.lcZ(48,12,r.supervisors$)),e.xp6(46),e.Q6J("allowNegative",!0),e.xp6(6),e.Q6J("ngxPermissionsOnly",e.DdM(20,oe)))},directives:[H.L,d._Y,d.JL,d.sg,n.MU,n.HK,d.EJ,n.oH,d.JJ,d.u,d.YN,d.Kr,I.sg,Q.t,P.gE],pipes:[I.Ov],styles:[".mat-dialog-container{overflow:auto!important;padding:0}.wrapper[_ngcontent-%COMP%]{background-color:#f0f3f9;min-height:100vh;min-width:100vw;max-height:100vh;overflow-y:auto}.container[_ngcontent-%COMP%]:first-child{padding:2rem 0}.content-number[_ngcontent-%COMP%]{color:#373a3c;font-weight:700;font-size:30px;line-height:35px}.content-label[_ngcontent-%COMP%]{font-weight:500;font-size:20px;color:#707a84;line-height:28px;margin-left:.5rem}.buttons[_ngcontent-%COMP%]{margin-top:72px}.disabled[_ngcontent-%COMP%]{filter:opacity(30%)}.input-group-index[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#373a3c}.input-group-index[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:150px;position:absolute;right:20px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}.input-group-ufs[_ngcontent-%COMP%]{margin-bottom:80px}.input-group-ufs[_ngcontent-%COMP%]   .wrap-ufs[_ngcontent-%COMP%]{max-height:290px;overflow:auto}.input-group-ufs[_ngcontent-%COMP%]   .wrap-ufs[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px #f7f7f7;border-radius:5px;background-color:#f7f7f7}.input-group-ufs[_ngcontent-%COMP%]   .wrap-ufs[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;background-color:#f7f7f7;padding-right:10px}.input-group-ufs[_ngcontent-%COMP%]   .wrap-ufs[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:5px;-webkit-box-shadow:inset 0 0 6px #f7f7f7;background-color:#d8dbdf}  .input-percentage>bfv-messages>.invalid-feedback{bottom:-43px;left:17px}  app-percent-input{max-width:150px;position:absolute;right:20px}  app-percent-input label{font-size:16px;font-weight:700;color:#373a3c}  app-percent-input .percent-input{max-width:150px}"]}),i})(),Y=(()=>{class i{constructor(t,r,g){this.dialog=t,this.router=r,this.route=g,this.destroyed$=new u.x}ngOnInit(){this.editingSocialBrokerId=this.route.snapshot.params.id,this.initDialog()}initDialog(t){this.dialogRef=this.dialog.open(ne,{height:"100vh",width:"100vw",maxWidth:"none",data:this.editingSocialBrokerId,closeOnNavigation:!0,disableClose:!0}).afterClosed().pipe((0,m.R)(this.destroyed$)).subscribe(r=>{this.router.navigate(["app/comercial/social-broker"])})}ngOnDestroy(){this.dialogRef.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z.uw),e.Y36(y.F0),e.Y36(y.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-register-social-broker"]],decls:0,vars:0,template:function(t,r){},styles:[""]}),i})();const re=[{path:"",component:h},{path:"adicionar",component:Y,data:{title:"Adicionar Social Broker"}},{path:":id",component:Y,data:{title:"Editar Social Broker"}}];let ae=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[y.Bz.forChild(re)],y.Bz]}),i})();var se=o(7622),le=o(2594),ue=o(8279),ce=o(6087),de=o(4847);let pe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[{provide:Z.so,useValue:{}}],imports:[[I.ez,ae,se.m,le.n,ue.p0,ce.TU,de.JX,Z.Is,B.ZS,x.yI,S.j]]}),i})()},2953:(R,M,o)=>{o.d(M,{t:()=>A});var S=o(3325),x=o(5e3),B=o(3075),I=o(1470),y=o(6517),C=o(9808);let A=(()=>{class b{constructor(l){this.control=l,this._value="",this.disabled=!1,this.className="",this.label="",this.allowNegative=!1,this.separator=5,this.placeholder="0%",this.control.valueAccessor=this}formatData(l){return this._value=l,(0,S.E)(l)}writeValue(l){(l||""==l)&&(this._value=(0,S.s)(l))}registerOnChange(l){this.onChange=l}registerOnTouched(l){this.onTouched=l}setDisabledState(l){this.disabled=l}get invalid(){var l;return(null===(l=this.control)||void 0===l?void 0:l.invalid)||!1}get valid(){var l;return(null===(l=this.control)||void 0===l?void 0:l.valid)||!1}get touched(){var l;return(null===(l=this.control)||void 0===l?void 0:l.touched)||!1}get dirty(){var l;return(null===(l=this.control)||void 0===l?void 0:l.dirty)||!1}get showError(){if(!this.control)return!1;const{dirty:l,touched:f}=this.control;return f&&this.onTouched(),this.invalid&&l&&f||!1}}return b.\u0275fac=function(l){return new(l||b)(x.Y36(B.a5,10))},b.\u0275cmp=x.Xpm({type:b,selectors:[["app-percent-input"]],inputs:{className:"className",label:"label",allowNegative:"allowNegative",separator:"separator",placeholder:"placeholder"},decls:2,vars:11,consts:[["thousandSeparator",".","separatorLimit","100","suffix","%","type","text",1,"form-control",3,"mask","validation","allowNegativeNumbers","ngModel","disabled","placeholder","ngClass","blur","keyup"],["percent",""]],template:function(l,f){if(1&l){const k=x.EpF();x.TgZ(0,"input",0,1),x.NdJ("blur",function(){return f.onTouched()})("keyup",function(){x.CHM(k);const O=x.MAs(1);return f.onChange(f.formatData(O.value))}),x.qZA()}2&l&&(x.ekj("is-invalid",f.showError)("is-valid",f.valid&&f.touched),x.Q6J("mask","separator."+f.separator)("validation",!1)("allowNegativeNumbers",f.allowNegative)("ngModel",f._value)("disabled",f.disabled)("placeholder",f.placeholder)("ngClass",f.className))},directives:[I.hx,B.Fj,y.oH,B.JJ,B.On,C.mk],styles:[""]}),b})()},97:(R,M,o)=>{function S(){return n=>{const a=n.value?n.value.replace(P.findDigitsPattern,""):"";let s=null;return 11==a.length&&(P.cpfIsValid(a)||(s={invalidCpf:!0})),14==a.length&&(P.cnpjIsValid(a)||(s={invalidCnpj:!0})),(a.length>11&&a.length<14||a.length<11)&&(s={invalidDocument:!0}),s}}function B(){return n=>{const a=new RegExp(/^(?![ ])(?!.*[ ]{2})(?!.*[ ]$)([a-zA-Z\xc0-\xfa ]+ [a-zA-Z\xc0-\xfa ]{0,})+$/);return""===n.value||null===n.value||a.test(n.value)?null:{invalidPersonName:!0}}}function I(){return n=>{const a=new RegExp(/^(?![ ])(?!.*[ ]{2})(?!.*[ ]$)[a-zA-Z\xc0-\xfa ]{2,}$/);return!n.value||a.test(n.value)?null:{invalidDisplayName:!0}}}function y(){return n=>{const a=new RegExp(/^(?![ ])(?!.*[ ]{2})(?!.*[ ]$)[a-zA-Z\xc0-\xfa0-9\-., ]{0,}$/);return!n.value||a.test(n.value)?null:{invalidDisplayName:!0}}}function C(){return n=>{const a=new RegExp(/^(?![ ])(?!.*[ ]{2})(?!.*[ ]$)[a-zA-Z/\- ]{0,}$/);return!n.value||a.test(n.value)?null:{invalidDisplayName:!0}}}function A(){return n=>{const a=new RegExp(/^[a-zA-Z0-9]{5,21}$/);return!n.value||a.test(n.value)?null:{invalidDisplayName:!0}}}function b(){return n=>{const a=new RegExp(/^[a-zA-Z0-9-\._]{0,}[@]{1}[a-zA-Z0-9]{0,}([.]{1}[a-zA-Z0-9]{1,})+$/);return""===n.value||a.test(n.value)?null:{invalidEmail:!0}}}function e(n=!1,a=9.99,s=-1){return c=>n&&c.value<s?{minPercentNegative:s}:n||0!==c.value?a&&c.value>a?{maxPercent:a}:null:{minPercent:!0}}function l(){return n=>{const a=new RegExp(/^(\b[(]?[0-9]{2}[)]?[\s]?[9][0-9]{4}[\s]?[-]?[0-9]{4}\b)|(\b[(]?[0-9]{2}[)]?[0-9]{4}[\s]?[-]?[0-9]{4}\b)$/);return!n.value||a.test(n.value)?null:{invalidPhone:!0}}}function f(){return n=>{const a=new RegExp(/^[a-zA-Z\xc0-\xfa\s]{0,200}$/);return!n.value||a.test(n.value)?null:{invalidDisplayName:!0}}}function N(){return n=>{const a=new RegExp(/^[0-9]{0,2}$/);return!n.value||a.test(n.value)?null:{invalidNumberName:!0}}}function O(){return n=>{const a=new RegExp(/^[a-zA-Z0-9-]{0,6}$/);return!n.value||a.test(n.value)?null:{invalidNumberName:!0}}}o.d(M,{B5:()=>S,Bp:()=>y,C$:()=>I,Jw:()=>A,Le:()=>b,ZP:()=>P,b$:()=>C,fM:()=>B,kr:()=>f,mD:()=>N,rE:()=>O,rJ:()=>e,tH:()=>l});let P=(()=>{class n{static cpfIsValid(s){let c=s.replace(/[^\d]+/g,"");if(c.length<11||"00000000000"===s||"11111111111"===s||"22222222222"===s||"33333333333"===s||"44444444444"===s||"55555555555"===s||"66666666666"===s||"77777777777"===s||"88888888888"===s||"99999999999"===s)return!1;var h,u;h=0;for(let m=1;m<=9;m++)h+=parseInt(c.substring(m-1,m))*(11-m);if((10==(u=10*h%11)||11==u)&&(u=0),u!=parseInt(c.substring(9,10)))return!1;h=0;for(let m=1;m<=10;m++)h+=parseInt(c.substring(m-1,m))*(12-m);return(10==(u=10*h%11)||11==u)&&(u=0),u==parseInt(c.substring(10,11))}static cnpjIsValid(s){if(""==(s=s.replace(/[^\d]+/g,""))||14!=s.length||"00000000000000"==s||"11111111111111"==s||"22222222222222"==s||"33333333333333"==s||"44444444444444"==s||"55555555555555"==s||"66666666666666"==s||"77777777777777"==s||"88888888888888"==s||"99999999999999"==s)return!1;let c=s.length-2,h=s.substring(0,c),u=s.substring(c),m=0,d=c-7;for(let _=c;_>=1;_--)m+=h.charAt(c-_)*d--,d<2&&(d=9);let Z=m%11<2?0:11-m%11;if(Z!=u.charAt(0))return!1;c+=1,h=s.substring(0,c),m=0,d=c-7;for(let _=c;_>=1;_--)m+=h.charAt(c-_)*d--,d<2&&(d=9);return Z=m%11<2?0:11-m%11,Z==u.charAt(1)}}return n.plateSignPattern=/^[A-Za-z]{3}[-][\d]{1}[A-Za-z\d]{1}[\d]{2}$|^[A-Za-z]{3}[\d]{1}[A-Za-z\d]{1}[\d]{2}$/,n.emailPattern=/^(([^<>()\[\]\\.,;:\s@"`']+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n.findDigitsPattern=/[^\d]+/g,n.least2wordsPattern=/\w+\s\w+/,n})()},1424:(R,M,o)=>{o.d(M,{j:()=>y,o:()=>I});var S=o(5e3),x=o(9808),B=o(3075);let I=(()=>{class C{constructor(b,e,l){this.el=b,this.ngModel=e,this.cd=l}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(b){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return C.\u0275fac=function(b){return new(b||C)(S.Y36(S.SBq),S.Y36(B.On,8),S.Y36(S.sBO))},C.\u0275dir=S.lG2({type:C,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(b,e){1&b&&S.NdJ("input",function(f){return e.onInput(f)}),2&b&&S.ekj("p-filled",e.filled)}}),C})(),y=(()=>{class C{}return C.\u0275fac=function(b){return new(b||C)},C.\u0275mod=S.oAB({type:C}),C.\u0275inj=S.cJS({imports:[[x.ez]]}),C})()}}]);