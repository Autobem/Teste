"use strict";(self.webpackChunkBemMais2=self.webpackChunkBemMais2||[]).push([[7178],{3653:(q,M,l)=>{l.d(M,{z:()=>z});var u=l(3075),e=l(8306),T=l(9646),C=l(4004),r=l(1884),Z=l(5698),A=l(8746),R=l(8505),O=l(1135),w=l(1094),U=l(6367),N=l(312),t=l(5e3),c=l(8080),g=l(4521),a=l(2340),m=l(520);let x=(()=>{class s{constructor(o){this.http=o}getStatic(){return this.http.get(`${a.N.baseURL}/commercial/reports/static`)}getParameters(o){return this.http.get(`${a.N.baseURL}/commercial/reports/parameters/${o}`)}getSavedReports(o){return this.http.get(`${a.N.baseURL}/commercial/reports/saved/${o}`)}getReportResult(o,n,i={}){return this.http.post(`${a.N.baseURL}/commercial/reports/${o}/${n}`,i)}saveReport(o){return this.http.post(`${a.N.baseURL}/commercial/reports/saved`,o)}}return s.\u0275fac=function(o){return new(o||s)(t.LFG(m.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var J=l(560),d=l(2290),v=l(2569),f=l(7751),b=l(9808),P=l(6517),F=l(381),B=l(5214);function Q(s,h){if(1&s&&(t.TgZ(0,"option",16),t._uU(1," Selecionar "),t.qZA()),2&s){const o=t.oxw();let n;t.Q6J("selected",""===(null==(n=o.form.get("reportType"))?null:n.value))}}function L(s,h){if(1&s&&(t.TgZ(0,"option",17),t._uU(1),t.qZA()),2&s){const o=h.$implicit;t.Q6J("value",o.value),t.xp6(1),t.hij(" ",o.displayName," ")}}function S(s,h){1&s&&t._UZ(0,"img",18)}function Y(s,h){if(1&s){const o=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){return t.CHM(o),t.oxw().newReport()}),t._uU(1," Nova pesquisa "),t.qZA()}}function $(s,h){if(1&s){const o=t.EpF();t.TgZ(0,"option",37),t.NdJ("click",function(){const p=t.CHM(o).$implicit;return t.oxw(2).openReportModal(p)}),t._uU(1),t.qZA()}if(2&s){const o=h.$implicit;t.Q6J("value",o.parameters),t.xp6(1),t.hij(" ",o.displayName," ")}}function W(s,h){if(1&s){const o=t.EpF();t.TgZ(0,"div",20)(1,"div",21)(2,"h3",5),t._uU(3," Personalize os dados do seu relat\xf3rio "),t.qZA(),t.TgZ(4,"div",22)(5,"div",23)(6,"select",24,25)(8,"option",26),t._uU(9,"Relat\xf3rios salvos"),t.qZA(),t.YNc(10,$,2,2,"option",27),t.ALo(11,"async"),t.qZA(),t.TgZ(12,"button",28),t.NdJ("click",function(){t.CHM(o);const i=t.MAs(7);return i.options[i.selectedIndex].click()}),t._UZ(13,"i",29),t.qZA()()(),t._UZ(14,"app-query-builder",30),t.qZA(),t.TgZ(15,"div",31)(16,"button",32),t.NdJ("click",function(){return t.CHM(o),t.oxw().openReportModal()}),t._uU(17," Salvar "),t.qZA(),t.TgZ(18,"div",33)(19,"button",34),t.NdJ("click",function(){return t.CHM(o),t.oxw().submit("Excel")}),t._UZ(20,"i",35),t.qZA(),t.TgZ(21,"button",36),t.NdJ("click",function(){return t.CHM(o),t.oxw().submit("DataTable")}),t._uU(22," Pesquisar "),t.qZA()()()()}if(2&s){const o=h.ngIf,n=t.oxw();let i;t.xp6(2),t.Q6J("@popupAnim",void 0),t.xp6(4),t.Q6J("@popupAnim",void 0),t.xp6(4),t.Q6J("ngForOf",t.lcZ(11,9,n.savedReports$)),t.xp6(2),t.Q6J("disabled",!(null!=(i=n.form.get("savedReport"))&&i.value)),t.xp6(2),t.Q6J("@popupAnim",void 0)("config",o),t.xp6(2),t.Q6J("@popupAnim",void 0),t.xp6(3),t.Q6J("@popupAnim",void 0),t.xp6(2),t.Q6J("@popupAnim",void 0)}}function k(s,h){if(1&s){const o=t.EpF();t.TgZ(0,"div",38)(1,"div",39)(2,"h3",40),t._uU(3),t.qZA(),t.TgZ(4,"div",41)(5,"div",42),t._UZ(6,"img",43)(7,"input",44,45),t.qZA(),t.TgZ(9,"div",46)(10,"button",47),t.NdJ("click",function(){return t.CHM(o),t.oxw().submit("Excel")}),t._UZ(11,"i",48),t._uU(12," Baixar "),t.qZA()()()(),t.TgZ(13,"atb-table",49),t.NdJ("onPaginator",function(i){return t.CHM(o),t.oxw().paginator=i})("page",function(i){return t.CHM(o),t.oxw().page(i.skip,i.take)}),t.ALo(14,"async"),t.ALo(15,"async"),t.qZA()()}if(2&s){const o=t.oxw(),n=t.MAs(11);let i;t.Q6J("@popupAnim",void 0),t.xp6(3),t.hij(" ",n.options[n.selectedIndex].innerHTML," "),t.xp6(10),t.Q6J("dataSource",t.lcZ(14,6,o.items$))("totalItems",null==(i=t.lcZ(15,8,o.items$))?null:i.length)("columns",o.displayedColumns)("indexColumn",!0)}}let z=(()=>{class s extends U.K{constructor(o,n,i,p,y,_,I,D,j,E){super(E),this.navbarService=o,this.route=n,this.router=i,this.reportsService=p,this.queryBuilderController=y,this.toastr=_,this.loading=I,this.formBuilder=D,this.modalService=j,this.datePipe=E,this.form=this.formBuilder.group({}),this.allowRuleset=!0,this.showResult=!1,this.persistValueOnFieldChange=!1,this.displayedColumns=[],this.query={condition:"and",rules:[]},this.reportTypes$=new e.y,this.parameters$=new e.y,this.savedReports$=new e.y,this.items$=new O.X(null),this.queryItems={fields:{none:{name:"Nenhuma op\xe7\xe3o dispon\xedvel",type:"string"}}},this.contentLoaded=!1,this.navbarService.setContentTitle("Relat\xf3rios")}ngOnInit(){this.loading.show(),this.buildForm(),this.reportTypes$=this.reportsService.getStatic().pipe((0,R.b)(()=>this.loading.hide())),this.reportTypeControl(),this.savedReportControl()}buildForm(){this.form=this.formBuilder.group({reportType:["",[u.kI.required]],queryCtrl:[{condition:"and",rules:[]}],savedReport:[""]})}getParameters(o){this.loading.show(),this.parameters$=this.reportsService.getParameters(o).pipe((0,C.U)(n=>(this.loading.hide(),this.queryBuilderController.setQueryItems(n))))}resetQueryCtrl(){var o;null===(o=this.form.get("queryCtrl"))||void 0===o||o.setValue({condition:"and",rules:[]})}reportTypeControl(){var o;null===(o=this.form.get("reportType"))||void 0===o||o.valueChanges.pipe((0,r.x)()).subscribe(n=>{var i;n&&""!==n&&(null===(i=this.form.get("savedReport"))||void 0===i||i.setValue(""),this.resetQueryCtrl(),this.getParameters(n),this.loadReports())})}savedReportControl(){var o;null===(o=this.form.get("savedReport"))||void 0===o||o.valueChanges.pipe((0,r.x)()).subscribe(n=>{var i;n?null===(i=this.form.get("queryCtrl"))||void 0===i||i.setValue(JSON.parse(window.atob(n))):this.resetQueryCtrl()})}getItems(o,n){var i;this.loading.show(),this.reportsService.getReportResult(null===(i=this.form.get("reportType"))||void 0===i?void 0:i.value,o,n).pipe((0,Z.q)(1),(0,A.x)(()=>this.loading.hide())).subscribe(p=>{var y,_;"DataTable"==o?(this.showResult=!0,this.setDisplayedColumn(null===(y=null==p?void 0:p.reportData)||void 0===y?void 0:y.headers),this.items$.next(null===(_=null==p?void 0:p.reportData)||void 0===_?void 0:_.data)):this.downloadExcelFile(p)})}loadReports(o){var n;this.savedReports$=this.reportsService.getSavedReports(null===(n=this.form.get("reportType"))||void 0===n?void 0:n.value).pipe((0,R.b)(i=>{var p;o&&(null===(p=this.form.get("savedReport"))||void 0===p||p.setValue(o))}))}openReportModal(o){var n;const i=this.modalService.open(N.z,{centered:!0});i.componentInstance.title=o?"Atualizar relat\xf3rio":"Cria\xe7\xe3o de relat\xf3rio",i.componentInstance.type="info",i.componentInstance.confirmButtonText="Salvar",i.componentInstance.cancelButtonText="Fechar",i.componentInstance.textArea=!0,i.componentInstance.textAreaValue=(null==o?void 0:o.displayName)||null,i.componentInstance.labelTextArea="Nome do relat\xf3rio",null===(n=i.closed)||void 0===n||n.subscribe(p=>{var y,_;if(p){const I={parameters:(null==o?void 0:o.parameters)||window.btoa(JSON.stringify(null===(y=this.form.get("queryCtrl"))||void 0===y?void 0:y.value)),type:(null==o?void 0:o.type)||(null===(_=this.form.get("reportType"))||void 0===_?void 0:_.value),displayName:p.textArea,creation:null==o?void 0:o.creation,creatorId:null==o?void 0:o.creatorId,creatorName:null==o?void 0:o.creatorName,id:null==o?void 0:o.id};this.saveReport(I)}})}saveReport(o){this.loading.show(),this.reportsService.saveReport(o).pipe((0,Z.q)(1),(0,A.x)(()=>this.loading.hide())).subscribe(n=>{this.toastr.show(o.id?"Relat\xf3rio atualizado!":"Relat\xf3rio salvo!","title",{toastClass:"success-toast"}),this.loadReports(n.parameters)})}downloadExcelFile(o){const n=`data:${o.mediaType};base64,${o.fileData}`,i=document.createElement("a");i.href=n,i.download=o.fileName,i.click()}setDisplayedColumn(o){o.forEach(n=>{this.displayedColumns.push({displayName:n.displayName,columnName:this.firstLetterLowerCase(n.columnName),dataType:n.dataType})})}firstLetterLowerCase(o){return o[0].toLowerCase()+o.slice(1)}page(o,n){}newReport(){var o;this.showResult=!1,null===(o=this.form.get("reportType"))||void 0===o||o.setValue(""),this.displayedColumns=[],this.items$.next([]),this.resetQueryCtrl(),setTimeout(()=>this.parameters$=(0,T.of)(null),0)}ngAfterViewInit(){this.contentLoaded=!0}submit(o){var n;let i=JSON.parse(JSON.stringify(null===(n=this.form.get("queryCtrl"))||void 0===n?void 0:n.value));try{if(i.rules=this.queryBuilderController.setQueryCtrlToDatabase(i),!i.rules.length)throw new Error;return this.getItems(o,i),i}catch(p){this.toastr.error("Certifique se todos campos est\xe3o preenchidos!","Erro de valida\xe7\xe3o",{toastClass:"error-toast"})}}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(c.I),t.Y36(g.gz),t.Y36(g.F0),t.Y36(x),t.Y36(J.n),t.Y36(d._W),t.Y36(v.b),t.Y36(u.qu),t.Y36(f.FF),t.Y36(b.uU))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-reports-page"]],features:[t.qOj],decls:20,vars:14,consts:[[1,"wrapper","px-0","mt-3","h-100","d-flex","flex-column"],[3,"formGroup"],[1,"card","px-4","py-2","mb-4"],[1,"d-flex","justify-content-between","pt-3"],[1,"d-md-flex",3,"ngClass"],[1,"text-gray-500","regular-txt","mb-4"],[1,"form-group","position-relative"],["for","reportType","hidden",""],["formControlName","reportType","id","reportType",1,"form-control"],["reportType",""],["value","","disabled","",3,"selected",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["src","../../../../../assets/img/img-search.svg","height","180","class","pb-3","alt","",4,"ngIf"],["type","button","class","btn btn-outline-primary","style","height: 40px;",3,"click",4,"ngIf"],["class","card p-4 d-flex justify-content-between card-content",4,"ngIf"],["class","card p-4",4,"ngIf"],["value","","disabled","",3,"selected"],[3,"value"],["src","../../../../../assets/img/img-search.svg","height","180","alt","",1,"pb-3"],["type","button",1,"btn","btn-outline-primary",2,"height","40px",3,"click"],[1,"card","p-4","d-flex","justify-content-between","card-content"],[1,"d-flex","flex-column"],[1,"position-relative"],[1,"saved-reports"],["formControlName","savedReport",1,"form-control","mr-2"],["savedReport",""],["value",""],[3,"value","click",4,"ngFor","ngForOf"],[1,"btn","btn-outline-light-atb",3,"disabled","click"],[1,"fas","fa-pencil-alt","text-gray-600"],["formControlName","queryCtrl",3,"config"],[1,"action-buttons","mt-3","d-flex","justify-content-between"],["type","button",1,"btn","btn-lg","btn-success-outline-atb","mr-3",3,"click"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-success-outline-atb","mr-3","px-3","d-flex","align-items-center",2,"min-width","fit-content",3,"click"],[1,"fas","fa-download"],["type","button",1,"btn","btn-lg","btn-success-atb",3,"click"],[3,"value","click"],[1,"card","p-4"],[1,"mb-4","d-md-flex","flex-wrap","justify-content-between"],[1,"text-gray-500","mb-3","mb-md-0"],[1,"row"],[1,"col-md-7","mb-3","mb-md-0"],["src","../../../../../../assets/icons/search.svg","alt","",1,"search-icon"],["type","search","placeholder","Buscar","id","atb-search",1,"form-control","search-input"],["input",""],[1,"col-md-5","mb-3","mb-md-0"],["type","button",1,"btn","btn-outline-primary","d-flex","align-items-center","w-100",3,"click"],[1,"fas","fa-download","mr-1"],["emptyMessage","N\xe3o h\xe1 relat\xf3rios dispon\xedveis.",3,"dataSource","totalItems","columns","indexColumn","onPaginator","page"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),t._uU(6," Qual ser\xe1 o tipo de relat\xf3rio? "),t.qZA(),t.TgZ(7,"div",6)(8,"label",7),t._uU(9,"Tipo de relat\xf3rio"),t.qZA(),t.TgZ(10,"select",8,9),t.YNc(12,Q,2,1,"option",10),t.YNc(13,L,2,2,"option",11),t.ALo(14,"async"),t.qZA()()(),t.YNc(15,S,1,0,"img",12),t.YNc(16,Y,2,0,"button",13),t.qZA()(),t.YNc(17,W,23,11,"div",14),t.ALo(18,"async"),t.YNc(19,k,16,10,"div",15),t.qZA()()),2&o){let i,p;t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(3),t.Q6J("ngClass",n.showResult?"flex-row":"flex-column"),t.xp6(1),t.ekj("mr-3",n.showResult),t.xp6(7),t.Q6J("ngIf",""===(null==(i=n.form.get("reportType"))?null:i.value)),t.xp6(1),t.Q6J("ngForOf",null==(p=t.lcZ(14,10,n.reportTypes$))?null:p.reports),t.xp6(2),t.Q6J("ngIf",!n.showResult),t.xp6(1),t.Q6J("ngIf",n.showResult),t.xp6(1),t.Q6J("ngIf",!n.showResult&&t.lcZ(18,12,n.parameters$)),t.xp6(2),t.Q6J("ngIf",(null==n.displayedColumns?null:n.displayedColumns.length)&&n.showResult)}},directives:[u._Y,u.JL,u.sg,P.MU,b.mk,P.HK,u.EJ,P.oH,u.JJ,u.u,b.O5,u.YN,u.Kr,b.sg,F._,B.a],pipes:[b.Ov],styles:[".saved-reports[_ngcontent-%COMP%]{position:absolute;display:flex;align-self:flex-end;margin:0;right:4px;z-index:2}.saved-reports[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:30px;width:200px;font-size:12px}.saved-reports[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:32px!important;transition:opacity .2s ease-in-out}.saved-reports[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.card-content[_ngcontent-%COMP%]{min-height:50vh}"],data:{animation:[w.bA]}}),s})()},7178:(q,M,l)=>{l.r(M),l.d(M,{ReportsModule:()=>J});var u=l(7423),e=l(9808),T=l(4521),C=l(3653),r=l(5e3),Z=l(8080),A=l(6517),R=l(3075),O=l(381),w=l(5214);let U=(()=>{class d{constructor(f,b,P){this.navbarService=f,this.route=b,this.router=P,this.navbarService.setContentTitle("Relat\xf3rios")}ngOnInit(){}submit(){}}return d.\u0275fac=function(f){return new(f||d)(r.Y36(Z.I),r.Y36(T.gz),r.Y36(T.F0))},d.\u0275cmp=r.Xpm({type:d,selectors:[["app-reports-results"]],decls:39,vars:0,consts:[[1,"wrapper","px-0","h-100","d-flex","flex-column"],[1,"card","p-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],[1,"text-gray-500","regular-txt","mb-0","mr-3"],[1,"form-group","mb-0"],[1,"form-control"],["data-toggle","collapse","data-target","#collapseQueryBuilder","aria-expanded","false","aria-controls","collapseQueryBuilder",1,"btn","btn-outline-primary"],["id","collapseQueryBuilder",1,"collapse"],[1,"mt-5"],[1,"d-flex","flex-column"],[1,"text-gray-500","regular-txt","mb-4"],["id","saved-reports",1,"form-control"],[1,"action-buttons","mt-3","d-flex","justify-content-end"],[1,"btn","btn-lg","btn-success-outline-atb","mr-3"],[1,"btn","btn-lg","btn-success-atb",3,"click"],[1,"card","p-4","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"dropdown","dropdown-menu-table","dropleft"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","dropdown-toggle","action-btn"],[1,"table-action","fas","fa-ellipsis-v"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item","text-gray-400","regular-txt","subtitle-sm"]],template:function(f,b){1&f&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),r._uU(5,"Qual ser\xe1 o tipo de relat\xf3rio?"),r.qZA(),r.TgZ(6,"div",5)(7,"select",6)(8,"option"),r._uU(9,"Selecionar"),r.qZA()()()(),r.TgZ(10,"button",7),r._uU(11," Nova pesquisa "),r.qZA()(),r.TgZ(12,"div",8)(13,"div",9)(14,"div",10)(15,"h3",11),r._uU(16,"Personalize os dados do seu relat\xf3rio"),r.qZA(),r.TgZ(17,"select",12)(18,"option"),r._uU(19,"Relat\xf3rios salvos"),r.qZA()(),r._UZ(20,"app-query-builder"),r.TgZ(21,"div",13)(22,"div",14),r._uU(23,"Salvar"),r.qZA(),r.TgZ(24,"div",15),r.NdJ("click",function(){return b.submit()}),r._uU(25,"Pesquisar"),r.qZA()()()()()(),r.TgZ(26,"div",16)(27,"div",17)(28,"h3",4),r._uU(29,"Relat\xf3rio Financeiro"),r.qZA(),r.TgZ(30,"div",18)(31,"button",19),r._UZ(32,"i",20),r.qZA(),r.TgZ(33,"div",21)(34,"a",22),r._uU(35,"Baixar em Excel"),r.qZA(),r.TgZ(36,"a",22),r._uU(37,"Baixar em PDF"),r.qZA()()()(),r._UZ(38,"atb-table"),r.qZA()())},directives:[A.HK,A.oH,R.YN,R.Kr,O._,w.a],styles:[".action-btn[_ngcontent-%COMP%]{background:transparent;height:24px;width:24px;border-radius:4px;display:flex;align-items:center;justify-content:center}.action-btn[_ngcontent-%COMP%]:hover{background:#dbeefd}  .dropdown-menu.show{width:90.3%}.dropdown-menu-table[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropleft[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:before{display:none}#saved-reports[_ngcontent-%COMP%]{width:200px;align-self:flex-end;margin:0;font-size:12px;height:30px}"]}),d})();const t=[{path:"",component:C.z},{path:"dashboard",component:(()=>{class d{constructor(f){this.navbarService=f,this.navbarService.setContentTitle("Relat\xf3rios")}ngOnInit(){}}return d.\u0275fac=function(f){return new(f||d)(r.Y36(Z.I))},d.\u0275cmp=r.Xpm({type:d,selectors:[["app-reports"]],decls:0,vars:0,template:function(f,b){},styles:[""]}),d})()},{path:"resultados",component:U}];let c=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=r.oAB({type:d}),d.\u0275inj=r.cJS({imports:[[T.Bz.forChild(t)],T.Bz]}),d})();var g=l(7022),a=l(9131),m=l(7622),x=l(9814);let J=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=r.oAB({type:d}),d.\u0275inj=r.cJS({imports:[[e.ez,c,g.h,a.T,m.m,u.ot,x.Fk]]}),d})()},312:(q,M,l)=>{l.d(M,{z:()=>t});var u=l(3075),e=l(5e3),T=l(7751),C=l(9808),r=l(6517);const Z=function(c,g,a){return{"medium-txt":c,"mb-2":g,subtitle:a}};function A(c,g){if(1&c&&(e.TgZ(0,"li",16),e._uU(1),e.qZA()),2&c){const a=g.$implicit,m=g.index,x=e.oxw(2);e.Q6J("ngClass",e.kEZ(2,Z,0==m&&x.firstLineAsTitle,0==m&&x.firstLineAsTitle,0==m&&x.firstLineAsTitle)),e.xp6(1),e.hij(" ",a," ")}}function R(c,g){if(1&c&&(e.TgZ(0,"ul",14),e.YNc(1,A,2,6,"li",15),e.qZA()),2&c){const a=e.oxw();e.xp6(1),e.Q6J("ngForOf",a.list)}}function O(c,g){if(1&c&&(e.TgZ(0,"form",17)(1,"div",18)(2,"label",19),e._uU(3),e.qZA(),e._UZ(4,"textarea",20),e.qZA()()),2&c){const a=e.oxw();e.Q6J("formGroup",a.form),e.xp6(3),e.Oqu(a.labelTextArea)}}function w(c,g){if(1&c&&(e.ynx(0),e.TgZ(1,"h6",21),e._uU(2),e.qZA(),e.TgZ(3,"div",22)(4,"div",23)(5,"h6",24),e._uU(6),e.qZA(),e.TgZ(7,"h4",25),e._uU(8),e.ALo(9,"currency"),e.qZA(),e._UZ(10,"i",26),e.qZA(),e.TgZ(11,"div",27)(12,"h6",24),e._uU(13),e.qZA(),e.TgZ(14,"h4",28),e._uU(15),e.ALo(16,"currency"),e.qZA()(),e.TgZ(17,"div",29)(18,"h6",24),e._uU(19),e.qZA(),e.TgZ(20,"h4",25),e._uU(21),e.ALo(22,"currency"),e.qZA()()(),e.BQk()),2&c){const a=e.oxw();e.xp6(2),e.Oqu(a.payWithCredit.title),e.xp6(4),e.Oqu(null==a.payWithCredit.installment?null:a.payWithCredit.installment.label),e.xp6(2),e.Oqu(e.xi3(9,7,null==a.payWithCredit.installment?null:a.payWithCredit.installment.value,"BRL")),e.xp6(5),e.Oqu(null==a.payWithCredit.credit?null:a.payWithCredit.credit.label),e.xp6(2),e.Oqu(e.xi3(16,10,null==a.payWithCredit.credit?null:a.payWithCredit.credit.value,"BRL")),e.xp6(4),e.Oqu(null==a.payWithCredit.total?null:a.payWithCredit.total.label),e.xp6(2),e.Oqu(e.xi3(22,13,(null==a.payWithCredit.installment?null:a.payWithCredit.installment.value)-(null==a.payWithCredit.credit?null:a.payWithCredit.credit.value),"BRL"))}}function U(c,g){if(1&c){const a=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){return e.CHM(a),e.oxw().onConfirm()}),e._uU(1),e.qZA()}if(2&c){const a=e.oxw();e.xp6(1),e.hij(" ",a.confirmButtonText," ")}}const N=function(c){return{width:c}};let t=(()=>{class c{constructor(a,m){this.modal=a,this.fb=m,this.form=this.fb.group({textArea:["",u.kI.required]}),this.modalWidth="100%",this.list=[],this.cancelButtonText="Fechar",this.confirmButtonText="",this.textArea=!1,this.labelTextArea=""}set textAreaValue(a){a&&this.form.patchValue({textArea:a})}ngOnInit(){}onCancel(){this.modal.close()}onConfirm(){if(this.textArea)return this.form.markAllAsTouched(),this.form.controls.textArea.markAsDirty(),this.form.valid?void this.modal.close({textArea:this.form.controls.textArea.value}):void 0;this.modal.close(!0)}}return c.\u0275fac=function(a){return new(a||c)(e.Y36(T.Kz),e.Y36(u.qu))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-modal"]],inputs:{form:"form",title:"title",type:"type",modalWidth:"modalWidth",list:"list",cancelButtonText:"cancelButtonText",confirmButtonText:"confirmButtonText",firstLineAsTitle:"firstLineAsTitle",payWithCredit:"payWithCredit",textArea:"textArea",textAreaValue:"textAreaValue",labelTextArea:"labelTextArea"},decls:17,vars:10,consts:[[1,"modal-content",3,"ngStyle"],[1,"modal-header","d-flex","align-items-center"],[1,"modal-icon","mr-2"],["alt","",3,"src"],[1,"modal-title","pull-left","text-gray-600","mb-0"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","mb-2",4,"ngIf"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-light-atb",3,"click"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],[1,"mb-2"],["class","text-gray-300 subtitle-sm",3,"ngClass",4,"ngFor","ngForOf"],[1,"text-gray-300","subtitle-sm",3,"ngClass"],[3,"formGroup"],[1,"form-group"],["for","textArea"],["name","textArea","id","textArea","cols","5","rows","","formControlName","textArea",1,"form-control"],[1,"subtitle","mb-3"],[1,"card","flex-md-row"],[1,"px-4","py-2","p-md-0","my-md-2","px-md-4","installment-element"],[1,"subtitle-sm","text-gray-300"],[1,"bold-txt","text-gray-300","mb-0"],[1,"fas","fa-minus-circle","credit-icon","text-gray-300"],[1,"px-4","py-2","credit-element"],[1,"bold-txt","text-green-200","mb-0"],[1,"px-4","py-2","total-credit-element","w-100"],["type","button",1,"btn","btn-success",3,"click"]],template:function(a,m){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"h5",4),e._uU(5),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return m.modal.close()}),e.TgZ(7,"span",6),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",7),e.YNc(10,R,2,1,"ul",8),e.YNc(11,O,5,2,"form",9),e.YNc(12,w,23,16,"ng-container",10),e.qZA(),e.TgZ(13,"div",11)(14,"button",12),e.NdJ("click",function(){return m.onCancel()}),e._uU(15),e.qZA(),e.YNc(16,U,2,1,"button",13),e.qZA()()),2&a&&(e.Q6J("ngStyle",e.VKq(8,N,m.modalWidth)),e.xp6(3),e.Q6J("src","alert"==m.type?"../../../../assets/icons/modal-alert.svg":"../../../../assets/icons/modal-info.svg",e.LSH),e.xp6(2),e.Oqu(m.title),e.xp6(5),e.Q6J("ngIf",m.list.length),e.xp6(1),e.Q6J("ngIf",m.textArea),e.xp6(1),e.Q6J("ngIf",m.payWithCredit),e.xp6(3),e.Oqu(m.cancelButtonText),e.xp6(1),e.Q6J("ngIf",""!==m.confirmButtonText))},directives:[C.PC,C.O5,C.sg,C.mk,u._Y,u.JL,u.sg,r.MU,r.HK,u.Fj,r.oH,u.JJ,u.u],pipes:[C.H9],styles:["ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none;-webkit-margin-before:0;margin-block-start:0;-webkit-margin-after:0;margin-block-end:0;-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:0px;margin-inline-end:0px;-webkit-padding-start:0px;padding-inline-start:0px}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-size:2rem}.modal-footer[_ngcontent-%COMP%]{border-top:none!important}.btn[_ngcontent-%COMP%]{min-width:-webkit-fit-content!important;min-width:-moz-fit-content!important;min-width:fit-content!important}.installment-element[_ngcontent-%COMP%]{position:relative;border-right:2px solid #E7E7E7}.installment-element[_ngcontent-%COMP%]   .credit-icon[_ngcontent-%COMP%]{font-size:1.125rem;position:absolute;right:-9px;bottom:30%;background-color:#fff}.total-credit-element[_ngcontent-%COMP%]{border-left:2px solid #E7E7E7}@media screen and (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:100%!important}.installment-element[_ngcontent-%COMP%]{border-bottom:2px solid #E7E7E7;border-right:none;display:flex;align-items:center;flex-direction:column}.installment-element[_ngcontent-%COMP%]   .credit-icon[_ngcontent-%COMP%]{right:50%;bottom:-10px}.total-credit-element[_ngcontent-%COMP%]{border-top:2px solid #E7E7E7;border-left:none;display:flex;align-items:center;flex-direction:column}.credit-element[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}}"]}),c})()}}]);