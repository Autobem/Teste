"use strict";(self.webpackChunkBemMais2=self.webpackChunkBemMais2||[]).push([[9930],{9930:(yt,re,l)=>{l.r(re),l.d(re,{ParametersModule:()=>Mt});var b=l(9808),se=l(4521),V=l(449),$=l(5191),T=l(7579),oe=l(1135),J=l(9646),w=l(5698),E=l(9300),x=l(2722),t=l(5e3),N=l(3191),ae=l(226);class xe extends class Te{constructor(){this.expansionModel=new V.Ov(!0)}toggle(r){this.expansionModel.toggle(this._trackByValue(r))}expand(r){this.expansionModel.select(this._trackByValue(r))}collapse(r){this.expansionModel.deselect(this._trackByValue(r))}isExpanded(r){return this.expansionModel.isSelected(this._trackByValue(r))}toggleDescendants(r){this.expansionModel.isSelected(this._trackByValue(r))?this.collapseDescendants(r):this.expandDescendants(r)}collapseAll(){this.expansionModel.clear()}expandDescendants(r){let e=[r];e.push(...this.getDescendants(r)),this.expansionModel.select(...e.map(n=>this._trackByValue(n)))}collapseDescendants(r){let e=[r];e.push(...this.getDescendants(r)),this.expansionModel.deselect(...e.map(n=>this._trackByValue(n)))}_trackByValue(r){return this.trackBy?this.trackBy(r):r}}{constructor(r,e){super(),this.getChildren=r,this.options=e,this.options&&(this.trackBy=this.options.trackBy)}expandAll(){this.expansionModel.clear();const r=this.dataNodes.reduce((e,n)=>[...e,...this.getDescendants(n),n],[]);this.expansionModel.select(...r.map(e=>this._trackByValue(e)))}getDescendants(r){const e=[];return this._getDescendants(e,r),e.splice(1)}_getDescendants(r,e){r.push(e);const n=this.getChildren(e);Array.isArray(n)?n.forEach(s=>this._getDescendants(r,s)):(0,$.b)(n)&&n.pipe((0,w.q)(1),(0,E.h)(Boolean)).subscribe(s=>{for(const o of s)this._getDescendants(r,o)})}}const R=new t.OlP("CDK_TREE_NODE_OUTLET_NODE");let O=(()=>{class i{constructor(e,n){this.viewContainer=e,this._node=n}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.s_b),t.Y36(R,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkTreeNodeOutlet",""]]}),i})();class Ne{constructor(r){this.$implicit=r}}let B=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Rgc))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),i})(),C=(()=>{class i{constructor(e,n){this._differs=e,this._changeDetectorRef=n,this._onDestroy=new T.x,this._levels=new Map,this.viewChange=new oe.X({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const e=this._nodeDefs.filter(n=>!n.when);this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let e;(0,V.Z9)(this._dataSource)?e=this._dataSource.connect(this):(0,$.b)(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=(0,J.of)(this._dataSource)),e&&(this._dataSubscription=e.pipe((0,x.R)(this._onDestroy)).subscribe(n=>this.renderNodeChanges(n)))}renderNodeChanges(e,n=this._dataDiffer,s=this._nodeOutlet.viewContainer,o){const a=n.diff(e);!a||(a.forEachOperation((d,c,u)=>{if(null==d.previousIndex)this.insertNode(e[u],u,s,o);else if(null==u)s.remove(c),this._levels.delete(d.item);else{const f=s.get(c);s.move(f,u)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(e,n){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(o=>o.when&&o.when(n,e))||this._defaultNodeDef}insertNode(e,n,s,o){const a=this._getNodeDef(e,n),d=new Ne(e);d.level=this.treeControl.getLevel?this.treeControl.getLevel(e):void 0!==o&&this._levels.has(o)?this._levels.get(o)+1:0,this._levels.set(e,d.level),(s||this._nodeOutlet.viewContainer).createEmbeddedView(a.template,d,n),M.mostRecentTreeNode&&(M.mostRecentTreeNode.data=e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.ZZ4),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["cdk-tree"]],contentQueries:function(e,n,s){if(1&e&&t.Suo(s,B,5),2&e){let o;t.iGM(o=t.CRH())&&(n._nodeDefs=o)}},viewQuery:function(e,n){if(1&e&&t.Gf(O,7),2&e){let s;t.iGM(s=t.CRH())&&(n._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(e,n){1&e&&t.GkF(0,0)},directives:[O],encapsulation:2}),i})(),M=(()=>{class i{constructor(e,n){this._elementRef=e,this._tree=n,this._destroyed=new T.x,this._dataChanges=new T.x,i.mostRecentTreeNode=this,this.role="treeitem"}get role(){return"treeitem"}set role(e){this._elementRef.nativeElement.setAttribute("role",e)}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}ngOnInit(){this._parentNodeAriaLevel=function De(i){let r=i.parentElement;for(;r&&!Pe(r);)r=r.parentElement;return r?r.classList.contains("cdk-nested-tree-node")?(0,N.su)(r.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){i.mostRecentTreeNode===this&&(i.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return i.mostRecentTreeNode=null,i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(C))},i.\u0275dir=t.lG2({type:i,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(e,n){2&e&&t.uIk("aria-expanded",n.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),i})();function Pe(i){const r=i.classList;return!(!(null==r?void 0:r.contains("cdk-nested-tree-node"))&&!(null==r?void 0:r.contains("cdk-tree")))}let q=(()=>{class i extends M{constructor(e,n,s){super(e,n),this._differs=s}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const e=this._tree.treeControl.getChildren(this.data);Array.isArray(e)?this.updateChildrenNodes(e):(0,$.b)(e)&&e.pipe((0,x.R)(this._destroyed)).subscribe(n=>this.updateChildrenNodes(n)),this.nodeOutlet.changes.pipe((0,x.R)(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(e){const n=this._getNodeOutlet();e&&(this._children=e),n&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,n.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const e=this._getNodeOutlet();e&&(e.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const e=this.nodeOutlet;return e&&e.find(n=>!n._node||n._node===this)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(C),t.Y36(t.ZZ4))},i.\u0275dir=t.lG2({type:i,selectors:[["cdk-nested-tree-node"]],contentQueries:function(e,n,s){if(1&e&&t.Suo(s,O,5),2&e){let o;t.iGM(o=t.CRH())&&(n.nodeOutlet=o)}},hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[t._Bn([{provide:M,useExisting:i},{provide:R,useExisting:i}]),t.qOj]}),i})(),Q=(()=>{class i{constructor(e,n){this._tree=e,this._treeNode=n,this._recursive=!1}get recursive(){return this._recursive}set recursive(e){this._recursive=(0,N.Ig)(e)}_toggle(e){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),e.stopPropagation()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C),t.Y36(M))},i.\u0275dir=t.lG2({type:i,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(e,n){1&e&&t.NdJ("click",function(o){return n._toggle(o)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),i})(),Ee=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({}),i})();var _=l(508),F=l(6451),D=l(4004);const Oe=(0,_.sb)((0,_.Id)(M));let de=(()=>{class i extends Oe{constructor(e,n,s){super(e,n),this.tabIndex=Number(s)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(C),t.$8M("tabindex"))},i.\u0275dir=t.lG2({type:i,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[t._Bn([{provide:M,useExisting:i}]),t.qOj]}),i})(),le=(()=>{class i extends B{}return i.\u0275fac=function(){let r;return function(n){return(r||(r=t.n5z(i)))(n||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[t._Bn([{provide:B,useExisting:i}]),t.qOj]}),i})(),ce=(()=>{class i extends q{constructor(e,n,s,o){super(e,n,s),this._disabled=!1,this.tabIndex=Number(o)||0}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,N.Ig)(e)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?e:0}ngOnInit(){super.ngOnInit()}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(C),t.Y36(t.ZZ4),t.$8M("tabindex"))},i.\u0275dir=t.lG2({type:i,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[t._Bn([{provide:q,useExisting:i},{provide:M,useExisting:i},{provide:R,useExisting:i}]),t.qOj]}),i})(),Z=(()=>{class i{constructor(e,n){this.viewContainer=e,this._node=n}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.s_b),t.Y36(R,8))},i.\u0275dir=t.lG2({type:i,selectors:[["","matTreeNodeOutlet",""]],features:[t._Bn([{provide:O,useExisting:i}])]}),i})(),ue=(()=>{class i extends C{}return i.\u0275fac=function(){let r;return function(n){return(r||(r=t.n5z(i)))(n||i)}}(),i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-tree"]],viewQuery:function(e,n){if(1&e&&t.Gf(Z,7),2&e){let s;t.iGM(s=t.CRH())&&(n._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[t._Bn([{provide:C,useExisting:i}]),t.qOj],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(e,n){1&e&&t.GkF(0,0)},directives:[Z],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),i})(),me=(()=>{class i extends Q{}return i.\u0275fac=function(){let r;return function(n){return(r||(r=t.n5z(i)))(n||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[t._Bn([{provide:Q,useExisting:i}]),t.qOj]}),i})(),Ae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[Ee,_.BQ],_.BQ]}),i})();class Ie extends V.o2{constructor(){super(...arguments),this._data=new oe.X([])}get data(){return this._data.value}set data(r){this._data.next(r)}connect(r){return(0,F.T)(r.viewChange,this._data).pipe((0,D.U)(()=>this.data))}disconnect(){}}var p=l(8966),v=l(2340),we=l(520);let X=(()=>{class i{constructor(e){this.http=e}getParameterGroups(){return this.http.get(`${v.N.baseURL}/administrative/system/parameters/groups`).pipe((0,D.U)(e=>e))}getParameterGroupDetails(e){return this.http.get(`${v.N.baseURL}/administrative/system/parameters/group/${e}`).pipe((0,D.U)(n=>n))}getParameterGroupsChildren(e){return this.http.get(`${v.N.baseURL}/administrative/system/parameters/group/${e}/children`).pipe((0,D.U)(n=>n))}getParametersOfAGroup(e){return this.http.get(`${v.N.baseURL}/administrative/system/parameters/group/${e}/parameters`).pipe((0,D.U)(n=>n))}getParameterDetails(e){return this.http.get(`${v.N.baseURL}/administrative/system/parameters/${e}`).pipe((0,D.U)(n=>n))}getStatic(){return this.http.get(`${v.N.baseURL}/administrative/system/parameters/static`).pipe((0,D.U)(e=>e))}saveGroup(e,n,s){return this.http.post(`${v.N.baseURL}/administrative/system/parameters/group`,{fatherId:e,displayName:n,description:s})}deleteGroup(e){return this.http.delete(`${v.N.baseURL}/administrative/system/parameters/group/${e}`)}editGroup(e,n,s,o){return this.http.put(`${v.N.baseURL}/administrative/system/parameters/group`,{id:e,fatherId:n,displayName:s,description:o})}saveParameter(e,n,s,o,a,d,c,u,f,g){return this.http.post(`${v.N.baseURL}/administrative/system/parameters/`,{groupId:e,key:n,displayName:s,description:o,hint:a,devDescription:d,defaultValue:c,valueType:u,inputType:f,scopes:g})}editParameter(e,n,s,o,a,d,c,u,f,g,P){return this.http.put(`${v.N.baseURL}/administrative/system/parameters/`,{id:e,groupId:n,key:s,displayName:o,description:a,hint:d,devDescription:c,defaultValue:u,valueType:f,inputType:g,scopes:P})}deleteParameter(e){return this.http.delete(`${v.N.baseURL}/administrative/system/parameters/${e}`)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(we.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var m=l(3075),k=l(6517);function Re(i,r){1&i&&(t.TgZ(0,"div",13),t._uU(1,"Novo grupo"),t.qZA())}function Be(i,r){1&i&&(t.TgZ(0,"div",13),t._uU(1,"Editar grupo"),t.qZA())}function Fe(i,r){if(1&i&&t.YNc(0,Be,2,0,"div",14),2&i){const e=t.oxw();t.Q6J("ngIf",e.data.isEditing)}}let Ze=(()=>{class i{constructor(e,n,s,o){this.data=e,this.parametersService=n,this.fb=s,this.dialogRef=o,this.form=this.fb.group({displayName:[""],description:[""]})}ngOnInit(){this.data.isEditing&&this.form.setValue({displayName:this.data.node.displayName,description:this.data.node.description})}onSubmit(){var e,n,s,o;this.data.isEditing?this.parametersService.editGroup(this.data.node.id,this.data.node.fatherId,null===(e=this.form.get("displayName"))||void 0===e?void 0:e.value,null===(n=this.form.get("description"))||void 0===n?void 0:n.value).subscribe(a=>{},a=>{alert(a.error.description)},()=>{this.dialogRef.close({submitted:!0})}):this.parametersService.saveGroup(this.data.node.id,null===(s=this.form.get("displayName"))||void 0===s?void 0:s.value,null===(o=this.form.get("description"))||void 0===o?void 0:o.value).subscribe(a=>{},a=>{alert(a.error.description)},()=>{this.dialogRef.close({submitted:!0})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.WI),t.Y36(X),t.Y36(m.qu),t.Y36(p.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-group-form"]],decls:19,vars:3,consts:[["mat-dialog-title","",4,"ngIf","ngIfElse"],["editing",""],["mat-dialog-content",""],["id","form",1,"mt-4",3,"formGroup","ngSubmit"],[1,"form-group"],["for","displayName"],["type","text","id","displayName","aria-describedby","displayNameHelp","formControlName","displayName",1,"form-control"],["displayNameInput",""],["for","description"],["type","text","id","description","formControlName","description",1,"form-control"],["mat-dialog-actions","","align","end"],["mat-dialog-close","",1,"btn","btn-light","btn-sm"],["type","submit","form","form",1,"btn","btn-primary","btn-sm","ml-2"],["mat-dialog-title",""],["mat-dialog-title","",4,"ngIf"]],template:function(e,n){if(1&e&&(t.YNc(0,Re,2,0,"div",0),t.YNc(1,Fe,1,1,"ng-template",null,1,t.W1O),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(5,"div",4)(6,"label",5),t._uU(7,"Display Name"),t.qZA(),t._UZ(8,"input",6,7),t.qZA(),t.TgZ(10,"div",4)(11,"label",8),t._uU(12,"Description"),t.qZA(),t._UZ(13,"input",9),t.qZA()()(),t.TgZ(14,"div",10)(15,"button",11),t._uU(16,"Fechar"),t.qZA(),t.TgZ(17,"button",12),t._uU(18,"Cadastrar"),t.qZA()()),2&e){const s=t.MAs(2);t.Q6J("ngIf",!n.data.isEditing)("ngIfElse",s),t.xp6(4),t.Q6J("formGroup",n.form)}},directives:[b.O5,p.uh,p.xY,m._Y,m.JL,m.sg,k.MU,k.HK,m.Fj,k.oH,m.JJ,m.u,p.H8,p.ZT],styles:["input[_ngcontent-%COMP%]{min-width:300px}"]}),i})();function Ye(i,r){if(1&i&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Ue(i,r){if(1&i&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Le(i,r){if(1&i&&(t.TgZ(0,"div",34),t._UZ(1,"input",35),t.TgZ(2,"label",36),t._uU(3),t.qZA()()),2&i){const e=r.$implicit;t.xp6(1),t.MGl("id","",e,"-scope"),t.xp6(2),t.hij(" ",e," ")}}let Ge=(()=>{class i{constructor(e,n,s,o){this.data=e,this.parametersService=n,this.fb=s,this.dialogRef=o,this.form=this.fb.group({key:[""],displayName:[""],description:[""],hint:[""],devDescription:[""],defaultValue:[""],valueType:[""],inputType:[""]})}ngOnInit(){this.data.isEditing&&this.form.setValue({key:this.data.node.key,displayName:this.data.node.displayName,description:this.data.node.description,hint:this.data.node.hint,devDescription:this.data.node.devDescription,defaultValue:this.data.node.defaultValue,valueType:this.data.node.valueType,inputType:this.data.node.inputType})}ngAfterViewInit(){this.setScopes(this.data.node.scopes)}setScopes(e){let n=[];this.data.static.scopes.forEach(s=>{n.push({scope:s,input:document.getElementById(`${s}-scope`)})}),n.forEach(s=>{e.indexOf(s.scope)>-1&&(s.input.checked=!0)})}getScopeList(){let e=[];return this.data.static.scopes.forEach(n=>{e.push({scope:n,input:document.getElementById(`${n}-scope`)})}),e.filter(n=>n.input.checked).map(n=>n.scope)}onSubmit(){var e,n,s,o,a,d,c,u,f,g,P,I,W,ee,te,ne;this.data.isEditing?(console.log(this.data.node),this.parametersService.editParameter(this.data.node.id,this.data.node.groupId,null===(e=this.form.get("key"))||void 0===e?void 0:e.value,null===(n=this.form.get("displayName"))||void 0===n?void 0:n.value,null===(s=this.form.get("description"))||void 0===s?void 0:s.value,null===(o=this.form.get("hint"))||void 0===o?void 0:o.value,null===(a=this.form.get("devDescription"))||void 0===a?void 0:a.value,null===(d=this.form.get("defaultValue"))||void 0===d?void 0:d.value,null===(c=this.form.get("valueType"))||void 0===c?void 0:c.value,null===(u=this.form.get("inputType"))||void 0===u?void 0:u.value,this.getScopeList()).subscribe(ie=>{},ie=>{},()=>{this.dialogRef.close({submitted:!0})})):this.parametersService.saveParameter(this.data.node.id,null===(f=this.form.get("key"))||void 0===f?void 0:f.value,null===(g=this.form.get("displayName"))||void 0===g?void 0:g.value,null===(P=this.form.get("description"))||void 0===P?void 0:P.value,null===(I=this.form.get("hint"))||void 0===I?void 0:I.value,null===(W=this.form.get("devDescription"))||void 0===W?void 0:W.value,null===(ee=this.form.get("defaultValue"))||void 0===ee?void 0:ee.value,null===(te=this.form.get("valueType"))||void 0===te?void 0:te.value,null===(ne=this.form.get("inputType"))||void 0===ne?void 0:ne.value,this.getScopeList()).subscribe(ie=>{},ie=>{},()=>{this.dialogRef.close({submitted:!0})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.WI),t.Y36(X),t.Y36(m.qu),t.Y36(p.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-parameter-form"]],decls:60,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["id","form",1,"mt-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["for","displayName"],["type","text","name","displayName","id","displayName","formControlName","displayName",1,"form-control"],["for","description"],["type","text","name","description","id","description","formControlName","description",1,"form-control"],[1,"col-lg-4"],["for","hint"],["type","text","name","hint","id","hint","formControlName","hint",1,"form-control"],["for","key"],["type","text","name","key","id","key","formControlName","key",1,"form-control"],["for","devDescription"],["type","text","name","devDescription","id","devDescription","formControlName","devDescription",1,"form-control"],[1,"row","ml-0"],[1,"col-lg-3","pl-0"],["for","defaultValue"],["type","text","id","defaultValue","formControlName","defaultValue",1,"form-control"],[1,"col-lg-3"],["for","valueType"],["id","valueType","formControlName","valueType",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","inputType"],["id","inputType","formControlName","inputType",1,"form-control"],[1,"col-lg-12"],[1,"my-4"],["class","form-check",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","end"],["mat-dialog-close","",1,"btn","btn-light","btn-sm"],["type","submit","form","form",1,"btn","btn-primary","btn-sm","ml-2"],[3,"value"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"id"],["for","defaultCheck1",1,"form-check-label"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._uU(1,"Novo parametro"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),t._uU(8,"Display Name"),t.qZA(),t._UZ(9,"input",7),t.qZA()(),t.TgZ(10,"div",4)(11,"div",5)(12,"label",8),t._uU(13,"Description"),t.qZA(),t._UZ(14,"input",9),t.qZA()()(),t.TgZ(15,"div",3)(16,"div",10)(17,"div",5)(18,"label",11),t._uU(19,"Hint"),t.qZA(),t._UZ(20,"input",12),t.qZA()(),t.TgZ(21,"div",10)(22,"div",5)(23,"label",13),t._uU(24,"Key"),t.qZA(),t._UZ(25,"input",14),t.qZA()(),t.TgZ(26,"div",10)(27,"div",5)(28,"label",15),t._uU(29,"Dev description"),t.qZA(),t._UZ(30,"input",16),t.qZA()()(),t.TgZ(31,"div",17)(32,"div",18)(33,"div",5)(34,"label",19),t._uU(35,"Default Value"),t.qZA(),t._UZ(36,"input",20),t.qZA()(),t.TgZ(37,"div",21)(38,"div",5)(39,"label",22),t._uU(40,"Value Type"),t.qZA(),t.TgZ(41,"select",23),t.YNc(42,Ye,2,2,"option",24),t.qZA()()(),t.TgZ(43,"div",4)(44,"div",5)(45,"label",25),t._uU(46,"Input Type"),t.qZA(),t.TgZ(47,"select",26),t.YNc(48,Ue,2,2,"option",24),t.qZA()()()(),t.TgZ(49,"div",3)(50,"div",27)(51,"h5",28),t._uU(52,"Scopes"),t.qZA(),t.TgZ(53,"div",5),t.YNc(54,Le,4,2,"div",29),t.qZA()()()()(),t.TgZ(55,"div",30)(56,"button",31),t._uU(57,"Fechar"),t.qZA(),t.TgZ(58,"button",32),t._uU(59,"Cadastrar"),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("formGroup",n.form),t.xp6(39),t.Q6J("ngForOf",n.data.static.valueTypes),t.xp6(6),t.Q6J("ngForOf",n.data.static.inputTypes),t.xp6(6),t.Q6J("ngForOf",n.data.static.scopes))},directives:[p.uh,p.xY,m._Y,m.JL,m.sg,k.MU,k.HK,m.Fj,k.oH,m.JJ,m.u,m.EJ,b.sg,m.YN,m.Kr,p.H8,p.ZT],styles:[""]}),i})();var He=l(4128),Ve=l(8080),pe=l(7423),he=l(5245),S=l(5664),y=l(1159),Y=l(727),fe=l(3101),z=l(8675),ge=l(3900),_e=l(1005),h=l(1777),$e=l(7429),U=l(9776),Je=l(925),qe=l(393);const je=["mat-menu-item",""];function Qe(i,r){1&i&&(t.O4$(),t.TgZ(0,"svg",2),t._UZ(1,"polygon",3),t.qZA())}const ve=["*"];function Xe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",0),t.NdJ("keydown",function(s){return t.CHM(e),t.oxw()._handleKeydown(s)})("click",function(){return t.CHM(e),t.oxw().closed.emit("click")})("@transformMenu.start",function(s){return t.CHM(e),t.oxw()._onAnimationStart(s)})("@transformMenu.done",function(s){return t.CHM(e),t.oxw()._onAnimationDone(s)}),t.TgZ(1,"div",1),t.Hsn(2),t.qZA()()}if(2&i){const e=t.oxw();t.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),t.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const L={transformMenu:(0,h.X$)("transformMenu",[(0,h.SB)("void",(0,h.oB)({opacity:0,transform:"scale(0.8)"})),(0,h.eR)("void => enter",(0,h.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,h.oB)({opacity:1,transform:"scale(1)"}))),(0,h.eR)("* => void",(0,h.jt)("100ms 25ms linear",(0,h.oB)({opacity:0})))]),fadeInItems:(0,h.X$)("fadeInItems",[(0,h.SB)("showing",(0,h.oB)({opacity:1})),(0,h.eR)("void => *",[(0,h.oB)({opacity:0}),(0,h.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},ze=new t.OlP("MatMenuContent"),K=new t.OlP("MAT_MENU_PANEL"),Ke=(0,_.Kr)((0,_.Id)(class{}));let G=(()=>{class i extends Ke{constructor(e,n,s,o,a){var d;super(),this._elementRef=e,this._document=n,this._focusMonitor=s,this._parentMenu=o,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new T.x,this._focused=new T.x,this._highlighted=!1,this._triggersSubmenu=!1,null===(d=null==o?void 0:o.addItem)||void 0===d||d.call(o,this)}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e;const n=this._elementRef.nativeElement.cloneNode(!0),s=n.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<s.length;o++)s[o].remove();return(null===(e=n.textContent)||void 0===e?void 0:e.trim())||""}_setHighlighted(e){var n;this._highlighted=e,null===(n=this._changeDetectorRef)||void 0===n||n.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(b.K0),t.Y36(S.tE),t.Y36(K,8),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,n){1&e&&t.NdJ("click",function(o){return n._checkDisabled(o)})("mouseenter",function(){return n._handleMouseEnter()}),2&e&&(t.uIk("role",n.role)("tabindex",n._getTabIndex())("aria-disabled",n.disabled.toString())("disabled",n.disabled||null),t.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",n._highlighted)("mat-menu-item-submenu-trigger",n._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[t.qOj],attrs:je,ngContentSelectors:ve,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,n){1&e&&(t.F$t(),t.Hsn(0),t._UZ(1,"div",0),t.YNc(2,Qe,2,0,"svg",1)),2&e&&(t.xp6(1),t.Q6J("matRippleDisabled",n.disableRipple||n.disabled)("matRippleTrigger",n._getHostElement()),t.xp6(1),t.Q6J("ngIf",n._triggersSubmenu))},directives:[_.wG,b.O5],encapsulation:2,changeDetection:0}),i})();const be=new t.OlP("mat-menu-default-options",{providedIn:"root",factory:function We(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let et=0,A=(()=>{class i{constructor(e,n,s,o){this._elementRef=e,this._ngZone=n,this._defaultOptions=s,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new t.n_E,this._tabSubscription=Y.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new T.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new t.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+et++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=(0,N.Ig)(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=(0,N.Ig)(e)}set panelClass(e){const n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(s=>{this._classList[s]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(s=>{this._classList[s]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new S.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,z.O)(this._directDescendantItems),(0,ge.w)(e=>(0,F.T)(...e.map(n=>n._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{var n;const s=this._keyManager;if("enter"===this._panelAnimationState&&(null===(n=s.activeItem)||void 0===n?void 0:n._hasFocus())){const o=e.toArray(),a=Math.max(0,Math.min(o.length-1,s.activeItemIndex||0));o[a]&&!o[a].disabled?s.setActiveItem(a):s.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,z.O)(this._directDescendantItems),(0,ge.w)(n=>(0,F.T)(...n.map(s=>s._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const n=e.keyCode,s=this._keyManager;switch(n){case y.hY:(0,y.Vb)(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case y.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case y.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(n===y.LH||n===y.JH)&&s.setFocusOrigin("keyboard"),void s.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe((0,w.q)(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const n=this._keyManager;if(n.setFocusOrigin(e).setFirstItemActive(),!n.activeItem&&this._directDescendantItems.length){let s=this._directDescendantItems.first._getHostElement().parentElement;for(;s;){if("menu"===s.getAttribute("role")){s.focus();break}s=s.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const n=Math.min(this._baseElevation+e,24),s=`${this._elevationPrefix}${n}`,o=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[s]=!0,this._previousElevation=s)}setPositionClasses(e=this.xPosition,n=this.yPosition){var s;const o=this._classList;o["mat-menu-before"]="before"===e,o["mat-menu-after"]="after"===e,o["mat-menu-above"]="above"===n,o["mat-menu-below"]="below"===n,null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,z.O)(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(be),t.Y36(t.sBO))},i.\u0275dir=t.lG2({type:i,contentQueries:function(e,n,s){if(1&e&&(t.Suo(s,ze,5),t.Suo(s,G,5),t.Suo(s,G,4)),2&e){let o;t.iGM(o=t.CRH())&&(n.lazyContent=o.first),t.iGM(o=t.CRH())&&(n._allItems=o),t.iGM(o=t.CRH())&&(n.items=o)}},viewQuery:function(e,n){if(1&e&&t.Gf(t.Rgc,5),2&e){let s;t.iGM(s=t.CRH())&&(n.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),i})(),tt=(()=>{class i extends A{constructor(e,n,s,o){super(e,n,s,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(be),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,n){2&e&&t.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[t._Bn([{provide:K,useExisting:i}]),t.qOj],ngContentSelectors:ve,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,n){1&e&&(t.F$t(),t.YNc(0,Xe,3,6,"ng-template"))},directives:[b.mk],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[L.transformMenu,L.fadeInItems]},changeDetection:0}),i})();const Me=new t.OlP("mat-menu-scroll-strategy"),it={provide:Me,deps:[U.aV],useFactory:function nt(i){return()=>i.scrollStrategies.reposition()}},Ce=(0,Je.i$)({passive:!0});let rt=(()=>{class i{constructor(e,n,s,o,a,d,c,u,f){this._overlay=e,this._element=n,this._viewContainerRef=s,this._menuItemInstance=d,this._dir=c,this._focusMonitor=u,this._ngZone=f,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Y.w0.EMPTY,this._hoverSubscription=Y.w0.EMPTY,this._menuCloseSubscription=Y.w0.EMPTY,this._handleTouchStart=g=>{(0,S.yG)(g)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new t.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new t.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=a instanceof A?a:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,Ce),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(n=>{this._destroyMenu(n),("click"===n||"tab"===n)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Ce),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),n=e.getConfig(),s=n.positionStrategy;this._setPosition(s),n.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof A&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe((0,x.R)(this.menu.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof A?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe((0,E.h)(s=>"void"===s.toState),(0,w.q)(1),(0,x.R)(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n.lazyContent&&n.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,n=this.menu.parentMenu;for(;n;)e++,n=n.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new U.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(n=>{const s="start"===n.connectionPair.overlayX?"after":"before",o="top"===n.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(s,o)):this.menu.setPositionClasses(s,o)})}_setPosition(e){let[n,s]="before"===this.menu.xPosition?["end","start"]:["start","end"],[o,a]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[d,c]=[o,a],[u,f]=[n,s],g=0;this.triggersSubmenu()?(f=n="before"===this.menu.xPosition?"start":"end",s=u="end"===n?"start":"end",g="bottom"===o?8:-8):this.menu.overlapTrigger||(d="top"===o?"bottom":"top",c="top"===a?"bottom":"top"),e.withPositions([{originX:n,originY:d,overlayX:u,overlayY:o,offsetY:g},{originX:s,originY:d,overlayX:f,overlayY:o,offsetY:g},{originX:n,originY:c,overlayX:u,overlayY:a,offsetY:-g},{originX:s,originY:c,overlayX:f,overlayY:a,offsetY:-g}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),s=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,J.of)(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,E.h)(a=>a!==this._menuItemInstance),(0,E.h)(()=>this._menuOpen)):(0,J.of)();return(0,F.T)(e,s,o,n)}_handleMousedown(e){(0,S.X6)(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const n=e.keyCode;(n===y.K5||n===y.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(n===y.SV&&"ltr"===this.dir||n===y.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,E.h)(e=>e===this._menuItemInstance&&!e.disabled),(0,_e.g)(0,fe.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof A&&this.menu._isAnimating?this.menu._animationDone.pipe((0,w.q)(1),(0,_e.g)(0,fe.E),(0,x.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new $e.UE(this.menu.templateRef,this._viewContainerRef)),this._portal}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(U.aV),t.Y36(t.SBq),t.Y36(t.s_b),t.Y36(Me),t.Y36(K,8),t.Y36(G,10),t.Y36(ae.Is,8),t.Y36(S.tE),t.Y36(t.R0b))},i.\u0275dir=t.lG2({type:i,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(e,n){1&e&&t.NdJ("click",function(o){return n._handleClick(o)})("mousedown",function(o){return n._handleMousedown(o)})("keydown",function(o){return n._handleKeydown(o)}),2&e&&t.uIk("aria-expanded",n.menuOpen||null)("aria-controls",n.menuOpen?n.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),i})(),st=(()=>{class i extends rt{}return i.\u0275fac=function(){let r;return function(n){return(r||(r=t.n5z(i)))(n||i)}}(),i.\u0275dir=t.lG2({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[t.qOj]}),i})(),ot=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[it],imports:[[b.ez,_.BQ,_.si,U.U8],qe.ZD,_.BQ]}),i})();const at=["displayNameInput"];function dt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("menuOpened",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw().selectedNode=s})("menuClosed",function(){return t.CHM(e),t.oxw(2).selectedNode=null}),t._uU(1," + "),t.qZA()}if(2&i){t.oxw();const e=t.MAs(10);t.Q6J("matMenuTriggerFor",e)}}const H=function(i){return{"active-node":i}};function lt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-tree-node",7)(1,"li",8),t._UZ(2,"button",9),t.TgZ(3,"span",10)(4,"mat-icon",11),t._uU(5),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"div",12),t.YNc(8,dt,2,1,"button",13),t.TgZ(9,"mat-menu",null,14)(11,"button",15),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().openGroupForm(o)}),t.TgZ(12,"span"),t._uU(13,"Grupo"),t.qZA()(),t.TgZ(14,"button",15),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().openParameterForm(o)}),t.TgZ(15,"span"),t._uU(16,"Parametro"),t.qZA()()(),t.TgZ(17,"button",16),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().editNode(o)}),t._UZ(18,"img",17),t.qZA(),t.TgZ(19,"button",18),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().deleteNode(o)}),t._UZ(20,"img",19),t.qZA()()()()}if(2&i){const e=r.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(6,H,n.selectedNode==e)),t.xp6(2),t.Q6J("ngClass",t.VKq(8,H,e==n.currentNode)),t.xp6(2),t.hij(" ",e.isParameter?"build":"folder"," "),t.xp6(1),t.hij(" ",e.displayName," "),t.xp6(2),t.Q6J("ngIf",!e.isParameter),t.xp6(9),t.Q6J("disabled",e.haveChilds||e.haveParameters)}}function ct(i,r){1&i&&(t.TgZ(0,"div",29)(1,"span",30),t._uU(2,"Loading..."),t.qZA()())}function ut(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("menuOpened",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw().selectedNode=s})("menuClosed",function(){return t.CHM(e),t.oxw(2).selectedNode=null}),t._uU(1," + "),t.qZA()}if(2&i){t.oxw();const e=t.MAs(14);t.Q6J("matMenuTriggerFor",e)}}const mt=function(i){return{disabled:i}};function pt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-nested-tree-node")(1,"li",21)(2,"div",22)(3,"button",23),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().onExpand(o)}),t.TgZ(4,"mat-icon",24),t._uU(5),t.qZA()(),t.TgZ(6,"mat-icon",11),t._uU(7),t.qZA(),t.TgZ(8,"span",10),t._uU(9),t.qZA(),t.YNc(10,ct,3,0,"div",25),t.TgZ(11,"div",12),t.YNc(12,ut,2,1,"button",13),t.TgZ(13,"mat-menu",null,14)(15,"button",15),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().openGroupForm(o)}),t.TgZ(16,"span"),t._uU(17,"Grupo"),t.qZA()(),t.TgZ(18,"button",15),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().openParameterForm(o)}),t.TgZ(19,"span"),t._uU(20,"Parametro"),t.qZA()()(),t.TgZ(21,"button",26),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().editNode(o)}),t._UZ(22,"img",17),t.qZA(),t.TgZ(23,"button",27),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw().deleteNode(o)}),t._UZ(24,"img",19),t.qZA()()(),t.TgZ(25,"ul"),t.GkF(26,28),t.qZA()()()}if(2&i){const e=r.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(11,H,n.selectedNode==e)),t.xp6(4),t.hij(" ",n.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),t.xp6(2),t.hij(" ",e.isParameter?"build":n.treeControl.isExpanded(e)?"folder_open":"folder"," "),t.xp6(1),t.Q6J("ngClass",t.VKq(13,H,e==n.currentNode)),t.xp6(1),t.hij(" ",e.displayName," "),t.xp6(1),t.Q6J("ngIf",e.isLoading),t.xp6(2),t.Q6J("ngIf",!e.isParameter),t.xp6(11),t.Q6J("disabled",e.haveChilds||e.haveParameters)("ngClass",t.VKq(15,mt,e.haveChilds||e.haveParameters)),t.xp6(2),t.ekj("example-tree-invisible",!n.treeControl.isExpanded(e))}}const ht=[{path:"",component:(()=>{class i{constructor(e,n,s,o){this.parametersService=e,this.navBarService=n,this.groupDialog=s,this.parameterDialog=o,this.treeControl=new xe(a=>a.children),this.dataSource=new Ie,this.hasChild=(a,d)=>d.haveChilds||d.haveParameters,this.navBarService.setContentTitle("Cadastro de parametros"),this.getStatic(),this.getTree()}getTree(e){this.parametersService.getParameterGroups().subscribe(n=>{this.dataSource.data=n},n=>{},()=>{})}onExpand(e){e.isLoading=!0;let n=[];n.push(this.parametersService.getParameterGroupsChildren(e.id)),n.push(this.parametersService.getParametersOfAGroup(e.id)),(0,He.D)(n).subscribe(s=>{s[1].map(o=>o.isParameter=!0),e.children=[...s[0],...s[1]],console.log(e.children),this.refreshTree()},s=>{alert(s)},()=>{e.isLoading=!1})}openGroupForm(e,n){this.groupDialog.open(Ze,{data:{node:e,isEditing:n,static:this.static}}).afterClosed().subscribe(o=>{(null==o?void 0:o.submitted)&&this.getTree(e)})}openParameterForm(e,n){this.parameterDialog.open(Ge,{data:{node:e,isEditing:n,static:this.static}}).afterClosed().subscribe(o=>{(null==o?void 0:o.submitted)&&this.getTree(e)})}editNode(e){e.isParameter?this.openParameterForm(e,!0):this.openGroupForm(e,!0)}deleteGroup(e){}deleteParameter(e){}deleteNode(e){e.isParameter?this.deleteParameter(e):this.deleteGroup(e)}refreshTree(){this.dataSource.data=this.dataSource.data}getStatic(){this.parametersService.getStatic().subscribe(e=>this.static=e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(X),t.Y36(Ve.I),t.Y36(p.uw),t.Y36(p.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-parameters"]],viewQuery:function(e,n){if(1&e&&t.Gf(at,5),2&e){let s;t.iGM(s=t.CRH())&&(n.displayNameInput=s.first)}},decls:7,vars:3,consts:[[1,"wrapper","py-2","flex-column","d-flex"],[1,"container-fluid"],[1,"row"],[1,"col-lg-8","pr-4"],[1,"example-tree",3,"dataSource","treeControl"],["matTreeNodeToggle","",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle",""],[1,"mat-tree-node","pr-4",3,"ngClass"],["mat-icon-button","","disabled",""],[1,"group-node",3,"ngClass"],[1,"mat-icon-rtl-mirror","node-icon","mr-1"],[1,"actions","ml-auto"],["class","btn btn-success mr-2",3,"matMenuTriggerFor","menuOpened","menuClosed",4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"btn","btn-secondary","mr-2",3,"disabled","click"],["src","../../../assets/icons/edit-sm-white.svg","alt","",1,"trash-icon"],[1,"btn","btn-danger",3,"click"],["src","../../../assets/icons/trash-sm-white.svg","alt","",1,"trash-icon"],[1,"btn","btn-success","mr-2",3,"matMenuTriggerFor","menuOpened","menuClosed"],[3,"ngClass"],[1,"mat-tree-node","pr-4"],["mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror","chevron"],["class","spinner-border spinner-border-sm text-secondary ml-3","role","status",4,"ngIf"],[1,"btn","btn-secondary","mr-2",3,"click"],[1,"btn","btn-danger",3,"disabled","ngClass","click"],["matTreeNodeOutlet",""],["role","status",1,"spinner-border","spinner-border-sm","text-secondary","ml-3"],[1,"sr-only"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-tree",4),t.YNc(5,lt,21,10,"mat-tree-node",5),t.YNc(6,pt,27,17,"mat-nested-tree-node",6),t.qZA()()()()()),2&e&&(t.xp6(4),t.Q6J("dataSource",n.dataSource)("treeControl",n.treeControl),t.xp6(2),t.Q6J("matTreeNodeDefWhen",n.hasChild))},directives:[ue,le,de,me,b.mk,pe.lW,he.Hw,b.O5,st,tt,G,ce,Z],styles:[".example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.group-node[_ngcontent-%COMP%]{cursor:pointer;transition:color .2s;display:flex;align-items:center}.active-node[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{filter:opacity(.8)}.group-node[_ngcontent-%COMP%]:hover   .actions[_ngcontent-%COMP%]{filter:opacity(1)}.group-node[_ngcontent-%COMP%]:hover   .chevron[_ngcontent-%COMP%]{color:#000}.active-node[_ngcontent-%COMP%]{color:#0275d8}.actions[_ngcontent-%COMP%]{filter:opacity(0);display:flex}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:20px;width:15px}.actions[_ngcontent-%COMP%]   .trash-icon[_ngcontent-%COMP%]{height:11px}.mat-tree-node[_ngcontent-%COMP%]:hover   .actions[_ngcontent-%COMP%]{filter:opacity(1);display:flex;cursor:pointer}.disabled[_ngcontent-%COMP%]{filter:opacity(.5)}  mat-tree{background:#ffffff52!important}  mat-icon.node-icon{transform:scale(.8);color:#ababab}"]}),i})()}];let ft=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[se.Bz.forChild(ht)],se.Bz]}),i})(),_t=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[b.ez,_.BQ],_.BQ]}),i})();var vt=l(7622),bt=l(7751);let Mt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[b.ez,ft,Ae,pe.ot,he.Ps,_t,vt.m,ot,p.Is,bt.aE]]}),i})()}}]);