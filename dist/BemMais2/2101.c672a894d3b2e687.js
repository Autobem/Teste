"use strict";(self.webpackChunkBemMais2=self.webpackChunkBemMais2||[]).push([[2101],{2101:(be,_,r)=>{r.r(_),r.d(_,{RolesModule:()=>Re});var h=r(9808),u=r(4521),U=r(7579),A=r(4128),p=r(5698),f=r(4004),Z=r(2722),S=r(8746),d=r(3075),R=r(8966),P=r(801),x=r(6779),e=r(5e3),g=r(2340),M=r(520);let b=(()=>{class s{constructor(t){this.http=t}getRoles(t,o,n,i){return this.http.get(`${g.N.baseURL}/administrative/roles/${n}/${i}/${t}/${o}`)}searchRoles(t,o,n,i,l){return this.http.post(`${g.N.baseURL}/administrative/roles/${i}/${l}/search`,{terms:t,precise:!1,skip:o,take:n})}getRole(t){return this.http.get(`${g.N.baseURL}/administrative/roles/${t}`)}saveRole(t){return this.http.post(`${g.N.baseURL}/administrative/roles`,t)}editRole(t){return this.http.put(`${g.N.baseURL}/administrative/roles`,t)}getAllRolePermissions(){return this.http.get(`${g.N.baseURL}/administrative/roles/permissions`)}getRolePermissions(t){return this.http.get(`${g.N.baseURL}/administrative/roles/${t}/permissions`)}editRolePermissions(t,o){return this.http.put(`${g.N.baseURL}/administrative/roles/${t}/permissions`,o)}getRolesStaticData(t){return this.http.get(`${g.N.baseURL}/administrative/roles/static/${t}`)}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(M.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var J=r(2290),E=r(1299),v=r(6517),O=r(9444),L=r(6607);const Y=["checkboxTree"];function $(s,a){1&s&&(e.TgZ(0,"option",36),e._uU(1,"Selecione"),e.qZA())}function F(s,a){if(1&s&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&s){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.fantasyName," ")}}function q(s,a){1&s&&(e.TgZ(0,"option",38),e._uU(1,"Selecione"),e.qZA())}function Q(s,a){if(1&s&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&s){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.displayName," ")}}function w(s,a){if(1&s&&e._UZ(0,"checkbox-tree",39,40),2&s){const t=e.oxw();e.Q6J("nodes",t.permissionNodes)}}function k(s,a){1&s&&(e.TgZ(0,"span",41),e._uU(1,"N\xe3o existem permiss\xf5es de cargo cadastradas."),e.qZA())}function j(s,a){if(1&s){const t=e.EpF();e.TgZ(0,"div",42)(1,"button",43),e.NdJ("click",function(){return e.CHM(t),e.oxw().closePanel()}),e._uU(2,"Cancelar"),e.qZA(),e.TgZ(3,"button",44),e._uU(4),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(4),e.hij(" ",t.isEditing?"Confirmar":"Cadastrar"," ")}}function B(s,a){if(1&s){const t=e.EpF();e.TgZ(0,"div",42)(1,"button",43),e.NdJ("click",function(){return e.CHM(t),e.oxw().closePanel()}),e._uU(2,"Fechar"),e.qZA()()}}const z=function(){return{text:"Cargos"}},V=function(s){return{text:s}},W=function(s,a){return[s,a]},G=function(s,a){return{"text-gray-300":s,"text-green-200":a}};let H=(()=>{class s{constructor(t,o,n,i,l,m,c,y){this.route=t,this.router=o,this.formBuilder=n,this.roleService=i,this.dialogRef=l,this.toastrService=m,this.cdRef=c,this.data=y,this.faChevronRight=P._tD,this.selectedPermissions=[],this.permissionNodes=[],this.selectedPermissionsNodes=[]}ngOnInit(){this.form=this.formBuilder.group({companyId:["",d.kI.required],departmentId:[{value:"",disabled:!0},d.kI.required],displayName:["",d.kI.required],description:["",d.kI.required]}),this.form.controls.companyId.valueChanges.subscribe(n=>{n&&""!==n&&(this.departaments$=this.roleService.getRolesStaticData(n).pipe((0,p.q)(1),(0,f.U)(i=>{var l;return(null===(l=i.departments)||void 0===l?void 0:l.length)?this.form.controls.departmentId.enable():this.form.controls.departmentId.disable(),i.departments})))});const t=JSON.parse(sessionStorage.getItem("bem_mais_roles_selectedCompany")),o=JSON.parse(sessionStorage.getItem("bem_mais_roles_selectedDepartment"));t&&this.form.patchValue({companyId:t}),o&&this.form.patchValue({departmentId:o}),(this.data.loggedUserPermissions.viewPermissions||this.data.loggedUserPermissions.editPermissions)&&(this.permissionNodes=this.setTreeData(this.data.allPermissions),this.data.loggedUserPermissions.editPermissions||(this.selectedPermissions=[],this.checkboxTree.disableTree())),this.data.role&&(this.isEditing=!0,this.fillForm())}ngAfterViewInit(){var t,o;null===(t=this.checkboxTree)||void 0===t||t.tree.treeModel.subscribeToState(()=>{var n,i,l,m;for(const c of Object.keys((0,x.ZN)(this.checkboxTree.tree.treeModel.selectedLeafNodeIds)))1==(0,x.ZN)(this.checkboxTree.tree.treeModel.selectedLeafNodeIds)[c]?-1==this.selectedPermissions.indexOf(null===(i=null===(n=this.checkboxTree.tree.treeModel.getNodeById(c))||void 0===n?void 0:n.data)||void 0===i?void 0:i.id)&&this.selectedPermissions.push(null===(m=null===(l=this.checkboxTree.tree.treeModel.getNodeById(c))||void 0===l?void 0:l.data)||void 0===m?void 0:m.id):this.selectedPermissions=this.selectedPermissions.filter(y=>{var C,T;return y!==(null===(T=null===(C=this.checkboxTree.tree.treeModel.getNodeById(c))||void 0===C?void 0:C.data)||void 0===T?void 0:T.id)})}),(null===(o=this.data.role)||void 0===o?void 0:o.permissions)&&(this.data.loggedUserPermissions.viewPermissions||this.data.loggedUserPermissions.editPermissions)&&this.data.role.permissions.forEach(n=>{const i=this.checkboxTree.tree.treeModel.getNodeById(n);null==i||i.setIsSelected(!0)}),(this.data.loggedUserPermissions.viewPermissions||this.data.loggedUserPermissions.editPermissions)&&(this.data.loggedUserPermissions.editPermissions||(this.checkboxTree.tree.treeModel.expandAll(),this.checkboxTree.disableTree())),this.cdRef.detectChanges()}setTreeData(t){return function o(n=t){return n.map(i=>({id:i.id,name:i.displayName,children:function(){var l,m;let c=[];return(null===(l=i.permissions)||void 0===l?void 0:l.length)&&(c=[...c,...o(i.permissions)]),(null===(m=i.childrenGroups)||void 0===m?void 0:m.length)&&(c=[...c,...o(i.childrenGroups)]),c}()}))}()}fillForm(){this.form.patchValue({companyId:this.data.role.companyId,departmentId:this.data.role.departmentId,displayName:this.data.role.displayName,description:this.data.role.description}),this.form.controls.companyId.disable(),this.form.controls.departmentId.disable(),this.data.loggedUserPermissions.editRole||Object.keys(this.form.controls).forEach(t=>{this.form.controls[t].disable({emitEvent:!1})})}closePanel(){this.dialogRef.close(!1)}submit(){if(this.form.valid){const t=this.form.value;this.saveRole({displayName:t.displayName,description:t.description,departmentId:t.departmentId,permissions:this.selectedPermissions})}}saveRole(t){this.isEditing?(t.id=this.data.role.id,t.departmentId=this.data.role.departmentId,this.roleService.editRole(t).pipe((0,p.q)(1)).subscribe(o=>{o.id&&(this.toastrService.show("Departamento alterado com sucesso.","",{toastClass:"success-toast"}),this.dialogRef.close())},()=>{},()=>{})):this.roleService.saveRole(t).pipe((0,p.q)(1)).subscribe(o=>{o.id&&(this.toastrService.show("Cargo criado com sucesso.","",{toastClass:"success-toast"}),this.dialogRef.close())},()=>{},()=>{})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(d.qu),e.Y36(b),e.Y36(R.so),e.Y36(J._W),e.Y36(e.sBO),e.Y36(R.WI))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-role-register-dialog"]],viewQuery:function(t,o){if(1&t&&e.Gf(Y,5),2&t){let n;e.iGM(n=e.CRH())&&(o.checkboxTree=n.first)}},decls:82,vars:27,consts:[[1,"wrapper","px-0"],[1,"container"],[1,"d-flex","flex-column"],[3,"isModal","items","closeModal"],[1,"card","p-5"],["id","role-register-form",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-12"],[1,"d-flex","align-items-end","mb-3"],[1,"content-number","text-blue-400"],[1,"content-label"],[1,"row","mt-3"],[1,"col-lg-4"],[1,"form-group"],[3,"hidden"],["formControlName","companyId",1,"form-control"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["formControlName","departmentId",1,"form-control"],["value","","hidden","",4,"ngIf"],[1,"row","mt-4"],["type","text","formControlName","displayName",1,"form-control"],[1,"col-lg-8"],["rows","5","formControlName","description",1,"form-control",2,"resize","none"],[1,"col-12"],[1,"card","p-3"],[1,"d-flex","justify-content-between"],[1,"bold-txt"],["role","button","data-toggle","collapse","href","#collapseRoleRegister","role","button","aria-expanded","false","aria-controls","collapseRoleRegister"],[3,"ngClass"],[1,"ml-3","text-gray-500",3,"icon"],["id","collapseRoleRegister",1,"collapse","permissions-card","p-3","mt-3"],["id","role-register-checkbox-tree",3,"nodes",4,"ngIf","ngIfElse"],["noPermissions",""],["class","d-flex justify-content-end",4,"ngIf","ngIfElse"],["closeOnly",""],["value",""],[3,"value"],["value","","hidden",""],["id","role-register-checkbox-tree",3,"nodes"],["checkboxTree",""],[1,"text-gray-300"],[1,"d-flex","justify-content-end"],[1,"btn","btn-outline-light-atb",3,"click"],["type","submit","form","role-register-form",1,"btn","btn-primary-atb","ml-3"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-breadcrumb",3),e.NdJ("closeModal",function(){return o.dialogRef.close()}),e.qZA(),e.TgZ(4,"div",4)(5,"form",5),e.NdJ("ngSubmit",function(){return o.submit()}),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"span",9),e._uU(10," 1 "),e.qZA(),e.TgZ(11,"span",10),e._uU(12,"M\xfatua vinculada"),e.qZA()()()(),e.TgZ(13,"div",11)(14,"div",12)(15,"div",13)(16,"label",14),e._uU(17,"Cooperativa"),e.qZA(),e.TgZ(18,"select",15),e.YNc(19,$,2,0,"option",16),e.YNc(20,F,2,2,"option",17),e.qZA()()()(),e.TgZ(21,"div",6)(22,"div",7)(23,"div",8)(24,"span",9),e._uU(25," 2 "),e.qZA(),e.TgZ(26,"span",10),e._uU(27,"Departamento vinculado"),e.qZA()()()(),e.TgZ(28,"div",11)(29,"div",12)(30,"div",13)(31,"label",14),e._uU(32,"Departamento"),e.qZA(),e.TgZ(33,"select",18),e.YNc(34,q,2,0,"option",19),e.YNc(35,Q,2,2,"option",17),e.ALo(36,"async"),e.qZA()()()(),e.TgZ(37,"div",20)(38,"div",7)(39,"div",8)(40,"span",9),e._uU(41," 3 "),e.qZA(),e.TgZ(42,"span",10),e._uU(43,"Crie o nome e descri\xe7\xe3o do cargo"),e.qZA()()()(),e.TgZ(44,"div",11)(45,"div",12)(46,"div",13)(47,"label"),e._uU(48,"Nome"),e.qZA(),e._UZ(49,"input",21),e.qZA()()(),e.TgZ(50,"div",11)(51,"div",22)(52,"div",13)(53,"label"),e._uU(54,"Descri\xe7\xe3o"),e.qZA(),e._UZ(55,"textarea",23),e.qZA()()()(),e.TgZ(56,"div",20)(57,"div",7)(58,"div",8)(59,"span",9),e._uU(60," 4 "),e.qZA(),e.TgZ(61,"span",10),e._uU(62,"Selecione as permiss\xf5es"),e.qZA()()()(),e.TgZ(63,"div",11)(64,"div",24)(65,"div",25)(66,"div",26)(67,"span",27),e._uU(68,"Permiss\xf5es avan\xe7adas"),e.qZA(),e.TgZ(69,"a",28)(70,"span",29),e._uU(71),e.qZA(),e._UZ(72,"fa-icon",30),e.qZA()(),e.TgZ(73,"div",31),e.YNc(74,w,2,1,"checkbox-tree",32),e.YNc(75,k,2,0,"ng-template",null,33,e.W1O),e.qZA()()()(),e.TgZ(77,"div",20)(78,"div",7),e.YNc(79,j,5,1,"div",34),e.YNc(80,B,3,0,"ng-template",null,35,e.W1O),e.qZA()()()()()()),2&t){const n=e.MAs(76),i=e.MAs(81);e.xp6(3),e.Q6J("isModal",!0)("items",e.WLB(21,W,e.DdM(18,z),e.VKq(19,V,o.isEditing?"Editar cargo":"Adicionar cargo"))),e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(11),e.Q6J("hidden",!0),e.xp6(3),e.Q6J("ngIf",""==o.form.value.companyId),e.xp6(1),e.Q6J("ngForOf",o.data.companies),e.xp6(11),e.Q6J("hidden",!0),e.xp6(3),e.Q6J("ngIf",!o.form.value.departmentId||""==o.form.value.departmentId),e.xp6(1),e.Q6J("ngForOf",e.lcZ(36,16,o.departaments$)),e.xp6(35),e.Q6J("ngClass",e.WLB(24,G,0===o.selectedPermissions.length,o.selectedPermissions.length>0)),e.xp6(1),e.Oqu(0===o.selectedPermissions.length?"Nenhuma atribu\xedda":1===o.selectedPermissions.length?"1 atribu\xedda":o.selectedPermissions.length+" atribu\xeddas"),e.xp6(1),e.Q6J("icon",o.faChevronRight),e.xp6(2),e.Q6J("ngIf",o.permissionNodes.length)("ngIfElse",n),e.xp6(5),e.Q6J("ngIf",o.data.loggedUserPermissions.editRole)("ngIfElse",i)}},directives:[E.L,d._Y,d.JL,d.sg,v.MU,v.HK,d.EJ,v.oH,d.JJ,d.u,h.O5,d.YN,d.Kr,h.sg,d.Fj,h.mk,O.BN,L.D],pipes:[h.Ov],styles:[".mat-dialog-container{overflow:auto!important;padding:0}.wrapper[_ngcontent-%COMP%]{background-color:#f0f3f9;min-height:100vh;min-width:100vw;max-height:100vh;overflow-y:auto}  .cdk-overlay-pane{max-width:none!important}  .cdk-global-scrollblock{position:static;overflow:hidden!important}.container[_ngcontent-%COMP%]:first-child{padding:2rem 0}.content-number[_ngcontent-%COMP%]{color:#373a3c;font-weight:700;font-size:30px;line-height:35px}.content-label[_ngcontent-%COMP%]{font-weight:500;font-size:20px;color:#707a84;line-height:28px;margin-left:.5rem}"]}),s})();var N=r(7939),K=r(2569),X=r(676);let I=(()=>{class s{constructor(t,o,n,i,l,m,c){this.dialog=t,this.departmentService=o,this.roleService=n,this.router=i,this.route=l,this.loading=m,this.profileService=c,this.destroyed$=new U.x,this.neededPermissions={viewPermissions:"SYSTEM_VIEW_ROLE_PERMISSIONS",editPermissions:"SYSTEM_SET_ROLE_PERMISSIONS",editRole:"SYSTEM_EDIT_ROLE"}}ngOnInit(){const t=this.route.snapshot.params.id;(0,A.D)(Object.assign(Object.assign({},t&&{role:this.roleService.getRole(t).pipe((0,p.q)(1))}),{companies:this.departmentService.getDepartmentStaticData().pipe((0,p.q)(1),(0,f.U)(o=>o.companies)),allPermissions:this.roleService.getAllRolePermissions().pipe((0,p.q)(1)),loggedUserPermissions:this.profileService.checkPermissions(this.neededPermissions).pipe((0,p.q)(1))})).pipe((0,Z.R)(this.destroyed$),(0,S.x)(()=>this.loading.hide())).subscribe(o=>this.initDialog(o))}initDialog(t){this.dialog.open(H,{height:"100vh",width:"100vw",maxWidth:"none",data:t,closeOnNavigation:!0,disableClose:!0}).afterClosed().pipe((0,Z.R)(this.destroyed$)).subscribe(o=>{this.router.navigate(["app/administrativo/cargos"])})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(R.uw),e.Y36(N.n),e.Y36(b),e.Y36(u.F0),e.Y36(u.gz),e.Y36(K.b),e.Y36(X.i))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-role-register"]],decls:0,vars:0,template:function(t,o){},styles:[""]}),s})();var ee=r(8080),te=r(1135),oe=r(727),se=r(6367),ie=r(1235),D=r(7751),ne=r(5214);function ae(s,a){1&s&&(e.TgZ(0,"option",22),e._uU(1,"Cooperativa"),e.qZA())}function re(s,a){if(1&s&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&s){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.fantasyName," ")}}function le(s,a){1&s&&(e.TgZ(0,"option",22),e._uU(1,"Departamento"),e.qZA())}function de(s,a){if(1&s&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&s){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.displayName," ")}}function ce(s,a){if(1&s){const t=e.EpF();e.TgZ(0,"div",24)(1,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().addRole()}),e._UZ(2,"i",26),e._uU(3," Adicionar "),e.qZA()()}}const me=function(){return["ROOT","SYSTEM_CREATE_ROLE"]};let pe=(()=>{class s extends se.K{constructor(t,o,n,i){super(),this.route=t,this.router=o,this.roleService=n,this.departmentService=i,this.roles$=new te.X({items:[],total:0}),this.selectedCompany="",this.selectedDepartment="",this.columns=[{displayName:"Cargo",columnName:"displayName",className:"flex-30"},{displayName:"Descri\xe7\xe3o",columnName:"description"}],this.actions=[{iconClass:"fas fa-pen",eventName:"edit",tooltip:"Editar cargo",permissions:["SYSTEM_EDIT_ROLE","SYSTEM_VIEW_ROLE"]},{iconClass:"fas fa-ellipsis-v",isMenu:!0,tooltip:"Mais...",children:[{displayName:"Departamentos",eventName:"departments"}]}],this.subscription=new oe.w0,this.searchRoles=l=>this.searchTableItem(l,this.roleService,this.loadTable,"searchRoles",this.roles$,"Clique em adicionar para criar um cargo","Nenhum cargo encontrado",[this.selectedCompany,this.selectedDepartment])}ngOnInit(){this.emptyVariable="Clique em adicionar para criar um cargo.",this.companies$=this.departmentService.getDepartmentStaticData().pipe((0,p.q)(1),(0,f.U)(t=>(this.spinnerTable$.next(!1),t.companies))),this.loadTable()}loadTable(t=0,o=10){const n=JSON.parse(sessionStorage.getItem("bem_mais_roles_selectedCompany")),i=JSON.parse(sessionStorage.getItem("bem_mais_roles_selectedDepartment"));n&&(this.selectedCompany=n,this.departments$=this.roleService.getRolesStaticData(this.selectedCompany).pipe((0,p.q)(1),(0,f.U)(l=>l.departments),(0,S.x)(()=>{this.spinnerTable$.next(!1),this.selectedDepartment=i||"",this.selectedDepartment&&""!==this.selectedDepartment&&this.initTable(this.roleService,"searchRoles","getRoles",this.roles$,t,o,"atb-search",[this.selectedCompany,this.selectedDepartment])})))}addRole(){this.router.navigate(["adicionar"],{relativeTo:this.route})}onAction(t){"edit"===t.action&&this.editRole(t.element)}editRole(t){this.router.navigate(["./",t.id],{relativeTo:this.route})}onSelectCompany(t){this.selectedCompany=t.target.value,this.roles$.next([]),this.selectedDepartment="",sessionStorage.setItem("bem_mais_roles_selectedCompany",JSON.stringify(this.selectedCompany)),sessionStorage.setItem("bem_mais_roles_selectedDepartment",JSON.stringify("")),this.selectedCompany&&""!==this.selectedCompany&&(this.departments$=this.roleService.getRolesStaticData(this.selectedCompany).pipe((0,p.q)(1),(0,f.U)(o=>o.departments)))}onSelectRole(t){this.selectedDepartment=t.target.value,sessionStorage.setItem("bem_mais_roles_selectedDepartment",JSON.stringify(this.selectedDepartment)),this.selectedDepartment&&""!==this.selectedDepartment&&this.roleService.getRoles(0,10,this.selectedCompany,this.selectedDepartment).pipe((0,p.q)(1)).subscribe(o=>{this.roles$.next(o)})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(b),e.Y36(N.n))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-list-roles"]],features:[e.qOj],decls:31,vars:23,consts:[[1,"wrapper","px-0"],[1,"content-title"],[1,"row","mt-3"],[1,"col-lg-12"],[1,"card","p-3"],[1,"d-flex","align-items-center","flex-grow-1"],[1,"mb-0","regular-txt","text-gray-300","mr-3"],[1,"form-control","w-25","mr-3",3,"ngModel","ngModelChange","input"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","w-25",3,"ngModel","ngModelChange","input"],[1,"card","py-3","px-1","mt-3","min-height"],[1,"w-100"],[1,"row","w-100","m-0"],[1,"table-header","mb-3","row","d-flex","align-items-center","justify-content-between"],[1,"col-4","col-lg-6"],["class","d-flex align-items-center",4,"ngxPermissionsOnly"],[1,"col-lg-3"],["src","../../../../../../assets/icons/search.svg","alt","",1,"search-icon"],["type","search","placeholder","Buscar","id","atb-search",1,"form-control","search-input",3,"ngbTypeahead"],["filterInput",""],["emptyClass","text-gray-600",3,"dataSource","totalItems","columns","actions","spinner","emptyMessage","onPaginator","page","action"],["value",""],[3,"value"],[1,"d-flex","align-items-center"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-plus","mr-2"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2,"Cargos"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Selecione"),e.qZA(),e.TgZ(9,"select",7),e.NdJ("ngModelChange",function(i){return o.selectedCompany=i})("input",function(i){return o.onSelectCompany(i)}),e.YNc(10,ae,2,0,"option",8),e.YNc(11,re,2,2,"option",9),e.ALo(12,"async"),e.qZA(),e.TgZ(13,"select",10),e.NdJ("ngModelChange",function(i){return o.selectedDepartment=i})("input",function(i){return o.onSelectRole(i)}),e.YNc(14,le,2,0,"option",8),e.YNc(15,de,2,2,"option",9),e.ALo(16,"async"),e.qZA()()()()(),e.TgZ(17,"div",11)(18,"div",12)(19,"div",13)(20,"div",3)(21,"div",14)(22,"div",15),e.YNc(23,ce,4,0,"div",16),e.qZA(),e.TgZ(24,"div",17),e._UZ(25,"img",18)(26,"input",19,20),e.qZA()(),e.TgZ(28,"atb-table",21),e.NdJ("onPaginator",function(i){return o.paginator=i})("page",function(i){return o.loadTable(i.skip,i.take)})("action",function(i){return o.onAction(i)}),e.ALo(29,"async"),e.ALo(30,"async"),e.qZA()()()()()()),2&t){let n,i;e.xp6(9),e.Q6J("ngModel",o.selectedCompany),e.xp6(1),e.Q6J("ngIf",""==o.selectedCompany),e.xp6(1),e.Q6J("ngForOf",e.lcZ(12,14,o.companies$)),e.xp6(2),e.Q6J("ngModel",o.selectedDepartment),e.xp6(1),e.Q6J("ngIf",""==o.selectedDepartment),e.xp6(1),e.Q6J("ngForOf",e.lcZ(16,16,o.departments$)),e.xp6(8),e.Q6J("ngxPermissionsOnly",e.DdM(22,me)),e.xp6(3),e.Q6J("ngbTypeahead",o.searchRoles),e.xp6(2),e.Q6J("dataSource",null==(n=e.lcZ(29,18,o.roles$))?null:n.items)("totalItems",null==(i=e.lcZ(30,20,o.roles$))?null:i.total)("columns",o.columns)("actions",o.actions)("spinner",o.spinnerTable$)("emptyMessage",""==o.selectedCompany||""==o.selectedDepartment?"Selecione uma cooperativa e um departamento para listar os cargos.":o.emptyVariable)}},directives:[d.EJ,v.oH,d.JJ,d.On,h.O5,d.YN,d.Kr,h.sg,ie.gE,D.dR,ne.a],pipes:[h.Ov],styles:[""]}),s})();const ge=[{path:"",component:(()=>{class s{constructor(t){this.navbarService=t,this.navbarService.setContentTitle("Painel administrativo")}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(ee.I))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-roles"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"app-list-roles")},directives:[pe],styles:[""]}),s})()},{path:"adicionar",component:I,data:{title:"Adicionar cargo"}},{path:":id",component:I,data:{title:"Editar cargo"}}];let he=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[u.Bz.forChild(ge)],u.Bz]}),s})();var ue=r(7622),fe=r(7022),ve=r(2629);let Re=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[h.ez,he,ue.m,fe.h,ve.xc,D.ZS]]}),s})()}}]);